{"version":3,"file":"menubar.js","sourceRoot":"","sources":["menubar.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterViewInit,OnDestroy,Input,Output,Renderer2,EventEmitter} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from '../dom/domhandler';\nimport {MenuItem} from '../common/api';\nimport {Location} from '@angular/common';\nimport {RouterModule} from '@angular/router';\n\n@Component({\n    selector: 'p-menubarSub',\n    template: `\n        <ul [ngClass]=\"{'ui-menubar-root-list ui-helper-clearfix':root, 'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child ui-shadow':!root}\" class=\"ui-menu-list\"\n            (click)=\"listClick($event)\">\n            <ng-template ngFor let-child [ngForOf]=\"(root ? item : item.items)\">\n                <li #listItem [ngClass]=\"{'ui-menuitem ui-widget ui-corner-all':true,'ui-menu-parent':child.items,'ui-menuitem-active':listItem==activeItem}\"\n                    (mouseenter)=\"onItemMouseEnter($event,listItem,child)\" (mouseleave)=\"onItemMouseLeave($event)\">\n                    <a *ngIf=\"!child.routerLink\" [href]=\"child.url||'#'\" class=\"ui-menuitem-link ui-corner-all\" [attr.target]=\"child.target\"\n                        [ngClass]=\"{'ui-state-disabled':child.disabled}\" (click)=\"itemClick($event, child)\">\n                        <span class=\"ui-menuitem-icon fa fa-fw\" *ngIf=\"child.icon\" [ngClass]=\"child.icon\"></span>\n                        <span class=\"ui-menuitem-text\">{{child.label}}</span>\n                        <span class=\"ui-submenu-icon fa fa-fw\" *ngIf=\"child.items\" [ngClass]=\"{'fa-caret-down':root,'fa-caret-right':!root}\"></span>\n                    </a>\n                    <a *ngIf=\"child.routerLink\" [routerLink]=\"child.routerLink\" [routerLinkActive]=\"'ui-state-active'\" [routerLinkActiveOptions]=\"child.routerLinkActiveOptions||{exact:false}\" class=\"ui-menuitem-link ui-corner-all\" [attr.target]=\"child.target\"\n                        [ngClass]=\"{'ui-state-disabled':child.disabled}\" (click)=\"itemClick($event, child)\">\n                        <span class=\"ui-menuitem-icon fa fa-fw\" *ngIf=\"child.icon\" [ngClass]=\"child.icon\"></span>\n                        <span class=\"ui-menuitem-text\">{{child.label}}</span>\n                        <span class=\"ui-submenu-icon fa fa-fw\" *ngIf=\"child.items\" [ngClass]=\"{'fa-caret-down':root,'fa-caret-right':!root}\"></span>\n                    </a>\n                    <p-menubarSub class=\"ui-submenu\" [item]=\"child\" *ngIf=\"child.items\"></p-menubarSub>\n                </li>\n            </ng-template>\n        </ul>\n    `,\n    providers: [DomHandler]\n})\nexport class MenubarSub {\n\n    @Input() item: MenuItem;\n    \n    @Input() root: boolean;\n    \n    constructor(public domHandler: DomHandler) {}\n    \n    activeItem: any;\n    \n    onItemMouseEnter(event: Event, item: HTMLLIElement, menuitem: MenuItem) {\n        if(menuitem.disabled) {\n            return;\n        }\n        \n        this.activeItem = item;\n        let nextElement =  <HTMLLIElement> item.children[0].nextElementSibling;\n        if(nextElement) {\n            let sublist = <HTMLUListElement> nextElement.children[0];\n            sublist.style.zIndex = String(++DomHandler.zindex);\n            \n            if(this.root) {\n                sublist.style.top = this.domHandler.getOuterHeight(item.children[0]) + 'px';\n                sublist.style.left = '0px'\n            }\n            else {\n                sublist.style.top = '0px';\n                sublist.style.left = this.domHandler.getOuterWidth(item.children[0]) + 'px';\n            }\n        }\n    }\n    \n    onItemMouseLeave(event: Event) {\n        this.activeItem = null;\n    }\n    \n    itemClick(event, item: MenuItem)Â {\n        if(item.disabled) {\n            event.preventDefault();\n            return;\n        }\n        \n        if(!item.url) {\n            event.preventDefault();\n        }\n        \n        if(item.command) {\n            if(!item.eventEmitter) {\n                item.eventEmitter = new EventEmitter();\n                item.eventEmitter.subscribe(item.command);\n            }\n            \n            item.eventEmitter.emit({\n                originalEvent: event,\n                item: item\n            });\n        }\n        \n        this.activeItem = null;\n    }\n        \n    listClick(event) {\n        this.activeItem = null;\n    }\n\n}\n\n@Component({\n    selector: 'p-menubar',\n    template: `\n        <div [ngClass]=\"{'ui-menubar ui-menu ui-widget ui-widget-content ui-corner-all ui-helper-clearfix':true}\" \n            [class]=\"styleClass\" [ngStyle]=\"style\">\n            <p-menubarSub [item]=\"model\" root=\"root\"></p-menubarSub>\n        </div>\n    `,\n    providers: [DomHandler]\n})\nexport class Menubar implements OnDestroy {\n\n    @Input() model: MenuItem[];\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n            \n    constructor(public el: ElementRef, public domHandler: DomHandler, public renderer: Renderer2) {}\n    \n    unsubscribe(item: any) {\n        if(item.eventEmitter) {\n            item.eventEmitter.unsubscribe();\n        }\n        \n        if(item.items) {\n            for(let childItem of item.items) {\n                this.unsubscribe(childItem);\n            }\n        }\n    }\n        \n    ngOnDestroy() {        \n        if(this.model) {\n            for(let item of this.model) {\n                this.unsubscribe(item);\n            }\n        }\n    }\n\n}\n\n@NgModule({\n    imports: [CommonModule,RouterModule],\n    exports: [Menubar,RouterModule],\n    declarations: [Menubar,MenubarSub]\n})\nexport class MenubarModule { }"]}