!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define("@angular/animations",["exports"],n):n(((t=t||self).ng=t.ng||{},t.ng.animations={}))}(this,function(t){"use strict";function n(){}function o(){}function s(t){Promise.resolve(null).then(t)}var i=(e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},e.prototype.onStart=function(t){this._onStartFns.push(t)},e.prototype.onDone=function(t){this._onDoneFns.push(t)},e.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},e.prototype.hasStarted=function(){return this._started},e.prototype.init=function(){},e.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},e.prototype.triggerMicrotask=function(){var t=this;s(function(){return t._onFinish()})},e.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},e.prototype.pause=function(){},e.prototype.restart=function(){},e.prototype.finish=function(){this._onFinish()},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},e.prototype.reset=function(){},e.prototype.setPosition=function(t){},e.prototype.getPosition=function(){return 0},e.prototype.triggerCallback=function(t){var n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(function(t){return t()}),n.length=0},e);function e(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}var r=(a.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},a.prototype.init=function(){this.players.forEach(function(t){return t.init()})},a.prototype.onStart=function(t){this._onStartFns.push(t)},a.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},a.prototype.onDone=function(t){this._onDoneFns.push(t)},a.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},a.prototype.hasStarted=function(){return this._started},a.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},a.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},a.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},a.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},a.prototype.destroy=function(){this._onDestroy()},a.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},a.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},a.prototype.setPosition=function(t){var o=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,o/t.totalTime):1;t.setPosition(n)})},a.prototype.getPosition=function(){var o=0;return this.players.forEach(function(t){var n=t.getPosition();o=Math.min(n,o)}),o},a.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},a.prototype.triggerCallback=function(t){var n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(function(t){return t()}),n.length=0},a);function a(t){var n=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var o=0,i=0,e=0,r=this.players.length;0==r?s(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++o==r&&n._onFinish()}),t.onDestroy(function(){++i==r&&n._onDestroy()}),t.onStart(function(){++e==r&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,n){return Math.max(t,n.totalTime)},0)}t.AnimationBuilder=n,t.AnimationFactory=o,t.AUTO_STYLE="*",t.animate=function(t,n){return void 0===n&&(n=null),{type:4,styles:n,timings:t}},t.animateChild=function(t){return void 0===t&&(t=null),{type:9,options:t}},t.animation=function(t,n){return void 0===n&&(n=null),{type:8,animation:t,options:n}},t.group=function(t,n){return void 0===n&&(n=null),{type:3,steps:t,options:n}},t.keyframes=function(t){return{type:5,steps:t}},t.query=function(t,n,o){return void 0===o&&(o=null),{type:11,selector:t,animation:n,options:o}},t.sequence=function(t,n){return void 0===n&&(n=null),{type:2,steps:t,options:n}},t.stagger=function(t,n){return{type:12,timings:t,animation:n}},t.state=function(t,n,o){return{type:0,name:t,styles:n,options:o}},t.style=function(t){return{type:6,styles:t,offset:null}},t.transition=function(t,n,o){return void 0===o&&(o=null),{type:1,expr:t,animation:n,options:o}},t.trigger=function(t,n){return{type:7,name:t,definitions:n,options:{}}},t.useAnimation=function(t,n){return void 0===n&&(n=null),{type:10,animation:t,options:n}},t.NoopAnimationPlayer=i,t.ɵPRE_STYLE="!",t.ɵAnimationGroupPlayer=r,Object.defineProperty(t,"__esModule",{value:!0})});