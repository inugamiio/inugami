!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("@angular/compiler",["exports"],t):t(((e=e||self).ng=e.ng||{},e.ng.compiler={}))}(this,function(x){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var e,d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function U(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function k(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function H(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e}function R(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'+e+'" expecting ":namespace:name"');return[e.slice(1,t),e.slice(t+1)]}function O(e){return"ng-container"===R(e)[1]}function p(e){return"ng-content"===R(e)[1]}function B(e){return"ng-template"===R(e)[1]}function l(e){return null===e?null:R(e)[0]}function c(e,t){return e?":"+e+":"+t:t}(e=x.TagContentType||(x.TagContentType={}))[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA";var u={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"};u.ngsp="";var t,n,i=(o.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},o);function o(e){var t=this,n=void 0===e?{}:e,r=n.closedByChildren,i=n.implicitNamespacePrefix,o=n.contentType,s=void 0===o?x.TagContentType.PARSABLE_DATA:o,a=n.closedByParent,u=void 0!==a&&a,p=n.isVoid,l=void 0!==p&&p,c=n.ignoreFirstLf,h=void 0!==c&&c;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&0<r.length&&r.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=l,this.closedByParent=u||l,this.implicitNamespacePrefix=i||null,this.contentType=s,this.ignoreFirstLf=h}function h(e){return n||(t=new i,n={base:new i({isVoid:!0}),meta:new i({isVoid:!0}),area:new i({isVoid:!0}),embed:new i({isVoid:!0}),link:new i({isVoid:!0}),img:new i({isVoid:!0}),input:new i({isVoid:!0}),param:new i({isVoid:!0}),hr:new i({isVoid:!0}),br:new i({isVoid:!0}),source:new i({isVoid:!0}),track:new i({isVoid:!0}),wbr:new i({isVoid:!0}),p:new i({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new i({closedByChildren:["tbody","tfoot"]}),tbody:new i({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new i({closedByChildren:["tbody"],closedByParent:!0}),tr:new i({closedByChildren:["tr"],closedByParent:!0}),td:new i({closedByChildren:["td","th"],closedByParent:!0}),th:new i({closedByChildren:["td","th"],closedByParent:!0}),col:new i({isVoid:!0}),svg:new i({implicitNamespacePrefix:"svg"}),math:new i({implicitNamespacePrefix:"math"}),li:new i({closedByChildren:["li"],closedByParent:!0}),dt:new i({closedByChildren:["dt","dd"]}),dd:new i({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new i({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new i({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new i({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new i({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new i({closedByChildren:["optgroup"],closedByParent:!0}),option:new i({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new i({ignoreFirstLf:!0}),listing:new i({ignoreFirstLf:!0}),style:new i({contentType:x.TagContentType.RAW_TEXT}),script:new i({contentType:x.TagContentType.RAW_TEXT}),title:new i({contentType:x.TagContentType.ESCAPABLE_RAW_TEXT}),textarea:new i({contentType:x.TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),n[e.toLowerCase()]||t}var D,F,s,f,v=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),V=(M.parse=function(e){function t(e,t){0<t.notSelectors.length&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)}var n,r=[],i=new M,o=i,s=!1;for(v.lastIndex=0;n=v.exec(e);){if(n[1]){if(s)throw new Error("Nesting :not is not allowed in a selector");s=!0,o=new M,i.notSelectors.push(o)}if(n[2]&&o.setElement(n[2]),n[3]&&o.addClassName(n[3]),n[4]&&o.addAttribute(n[4],n[6]),n[7]&&(s=!1,o=i),n[8]){if(s)throw new Error("Multiple selectors in :not are not supported");t(r,i),i=o=new M}}return t(r,i),r},M.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},M.prototype.hasElementSelector=function(){return!!this.element},M.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},M.prototype.getMatchingElementTemplate=function(){for(var e=this.element||"div",t=0<this.classNames.length?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2)n+=" "+this.attrs[r]+(""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"");return h(e).isVoid?"<"+e+t+n+"/>":"<"+e+t+n+"></"+e+">"},M.prototype.getAttrs=function(){var e=[];return 0<this.classNames.length&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)},M.prototype.addAttribute=function(e,t){void 0===t&&(t=""),this.attrs.push(e,t&&t.toLowerCase()||"")},M.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},M.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e+1];t+="["+this.attrs[e]+(n?"="+n:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},M),L=(N.createNotMatcher=function(e){var t=new N;return t.addSelectables(e,null),t},N.prototype.addSelectables=function(e,t){var n=null;1<e.length&&(n=new m(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)},N.prototype._addSelectable=function(e,t,n){var r=this,i=e.element,o=e.classNames,s=e.attrs,a=new y(e,t,n);if(i&&(0===s.length&&0===o.length?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)),o)for(var u=0;u<o.length;u++){var p=o[u];0===s.length&&u===o.length-1?this._addTerminal(r._classMap,p,a):r=this._addPartial(r._classPartialMap,p)}if(s)for(u=0;u<s.length;u+=2){var l=s[u],c=s[u+1];if(u===s.length-2){var h=r._attrValueMap,f=h.get(l);f||(f=new Map,h.set(l,f)),this._addTerminal(f,c,a)}else{var d=r._attrValuePartialMap,v=d.get(l);v||(v=new Map,d.set(l,v)),r=this._addPartial(v,c)}}},N.prototype._addTerminal=function(e,t,n){var r=e.get(t);r||e.set(t,r=[]),r.push(n)},N.prototype._addPartial=function(e,t){var n=e.get(t);return n||(n=new N,e.set(t,n)),n},N.prototype.match=function(e,t){for(var n=!1,r=e.element,i=e.classNames,o=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(s=0;s<i.length;s++){var a=i[s];n=this._matchTerminal(this._classMap,a,e,t)||n,n=this._matchPartial(this._classPartialMap,a,e,t)||n}if(o)for(s=0;s<o.length;s+=2){var u=o[s],p=o[s+1],l=this._attrValueMap.get(u);p&&(n=this._matchTerminal(l,"",e,t)||n),n=this._matchTerminal(l,p,e,t)||n;var c=this._attrValuePartialMap.get(u);p&&(n=this._matchPartial(c,"",e,t)||n),n=this._matchPartial(c,p,e,t)||n}return n},N.prototype._matchTerminal=function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t)||[],o=e.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var s=!1,a=0;a<i.length;a++)s=i[a].finalize(n,r)||s;return s},N.prototype._matchPartial=function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t);return!!i&&i.match(n,r)},N),m=function(e){this.selectors=e,this.alreadyMatched=!1},y=(P.prototype.finalize=function(e,t){var n=!0;return!(0<this.notSelectors.length)||this.listContext&&this.listContext.alreadyMatched||(n=!L.createNotMatcher(this.notSelectors).match(e,null)),!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n},P),g=oe("Inject",function(e){return{token:e}}),_=oe("InjectionToken",function(e){return{_desc:e,ngInjectableDef:void 0}}),E=oe("Attribute",function(e){return{attributeName:e}}),S=oe("ContentChildren",function(e,t){return void 0===t&&(t={}),d({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)}),w=oe("ContentChild",function(e,t){return void 0===t&&(t={}),d({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)}),C=oe("ViewChildren",function(e,t){return void 0===t&&(t={}),d({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)}),b=oe("ViewChild",function(e,t){return d({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)}),T=oe("Directive",function(e){return void 0===e&&(e={}),e});function P(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}function N(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}function M(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}(f=D=D||{})[f.Emulated=0]="Emulated",f[f.Native=1]="Native",f[f.None=2]="None",f[f.ShadowDom=3]="ShadowDom",(s=F=F||{})[s.OnPush=0]="OnPush",s[s.Default=1]="Default";var A,I,j,q,W=oe("Component",function(e){return void 0===e&&(e={}),d({changeDetection:F.Default},e)}),z=oe("Pipe",function(e){return d({pure:!0},e)}),K=oe("Input",function(e){return{bindingPropertyName:e}}),Q=oe("Output",function(e){return{bindingPropertyName:e}}),X=oe("HostBinding",function(e){return{hostPropertyName:e}}),G=oe("HostListener",function(e,t){return{eventName:e,args:t}}),$=oe("NgModule",function(e){return e}),Y=oe("Injectable",function(e){return void 0===e&&(e={}),e}),J={name:"custom-elements"},Z={name:"no-errors-schema"},ee=oe("Optional"),te=oe("Self"),ne=oe("SkipSelf"),re=oe("Host"),ie=Function;function oe(r,i){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i?i.apply(void 0,H(e)):{};return d({ngMetadataName:r},n)}return e.isTypeOf=function(e){return e&&e.ngMetadataName===r},e.ngMetadataName=r,e}function se(e){var t,n,r=(n=(t=e).classNames&&t.classNames.length?H([8],t.classNames):[],H([t.element&&"*"!==t.element?t.element:""],t.attrs,n)),i=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(function(e){return n=(t=e).classNames&&t.classNames.length?H([8],t.classNames):[],t.element?H([5,t.element],t.attrs,n):t.attrs.length?H([3],t.attrs,n):t.classNames&&t.classNames.length?H([9],t.classNames):[];var t,n}):[];return r.concat.apply(r,H(i))}function ae(e){return e?V.parse(e).map(se):[]}(q=A=A||{})[q.NONE=0]="NONE",q[q.HTML=1]="HTML",q[q.STYLE=2]="STYLE",q[q.SCRIPT=3]="SCRIPT",q[q.URL=4]="URL",q[q.RESOURCE_URL=5]="RESOURCE_URL",(j=I=I||{})[j.Error=0]="Error",j[j.Warning=1]="Warning",j[j.Ignore=2]="Ignore";var ue,pe,le=Object.freeze({createInject:g,createInjectionToken:_,createAttribute:E,createContentChildren:S,createContentChild:w,createViewChildren:C,createViewChild:b,createDirective:T,get ViewEncapsulation(){return D},get ChangeDetectionStrategy(){return F},createComponent:W,createPipe:z,createInput:K,createOutput:Q,createHostBinding:X,createHostListener:G,createNgModule:$,createInjectable:Y,CUSTOM_ELEMENTS_SCHEMA:J,NO_ERRORS_SCHEMA:Z,createOptional:ee,createSelf:te,createSkipSelf:ne,createHost:re,Type:ie,get SecurityContext(){return A},get MissingTranslationStrategy(){return I},parseSelectorToR3Selector:ae});(pe=ue=ue||{})[pe.Const=0]="Const";var ce,he=(fe.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},fe);function fe(e){void 0===e&&(e=null),(this.modifiers=e)||(this.modifiers=[])}(ce=x.BuiltinTypeName||(x.BuiltinTypeName={}))[ce.Dynamic=0]="Dynamic",ce[ce.Bool=1]="Bool",ce[ce.String=2]="String",ce[ce.Int=3]="Int",ce[ce.Number=4]="Number",ce[ce.Function=5]="Function",ce[ce.Inferred=6]="Inferred",ce[ce.None=7]="None";var de,ve,me,ye,ge,_e=(a(Ie,ge=he),Ie.prototype.visitType=function(e,t){return e.visitBuiltinType(this,t)},Ie),Ee=(a(Ae,ye=he),Ae.prototype.visitType=function(e,t){return e.visitExpressionType(this,t)},Ae),Se=(a(Me,me=he),Me.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},Me),xe=(a(Ne,ve=he),Ne.prototype.visitType=function(e,t){return e.visitMapType(this,t)},Ne),we=new _e(x.BuiltinTypeName.Dynamic),Ce=new _e(x.BuiltinTypeName.Inferred),be=new _e(x.BuiltinTypeName.Bool),Te=(new _e(x.BuiltinTypeName.Int),new _e(x.BuiltinTypeName.Number)),Pe=(new _e(x.BuiltinTypeName.String),new _e(x.BuiltinTypeName.Function),new _e(x.BuiltinTypeName.None));function Ne(e,t){void 0===t&&(t=null);var n=ve.call(this,t)||this;return n.valueType=e||null,n}function Me(e,t){void 0===t&&(t=null);var n=me.call(this,t)||this;return n.of=e,n}function Ae(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=ye.call(this,t)||this;return r.value=e,r.typeParams=n,r}function Ie(e,t){void 0===t&&(t=null);var n=ge.call(this,t)||this;return n.name=e,n}function ke(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function Re(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!e[r].isEquivalent(t[r]))return!1;return!0}(de=x.BinaryOperator||(x.BinaryOperator={}))[de.Equals=0]="Equals",de[de.NotEquals=1]="NotEquals",de[de.Identical=2]="Identical",de[de.NotIdentical=3]="NotIdentical",de[de.Minus=4]="Minus",de[de.Plus=5]="Plus",de[de.Divide=6]="Divide",de[de.Multiply=7]="Multiply",de[de.Modulo=8]="Modulo",de[de.And=9]="And",de[de.Or=10]="Or",de[de.BitwiseAnd=11]="BitwiseAnd",de[de.Lower=12]="Lower",de[de.LowerEquals=13]="LowerEquals",de[de.Bigger=14]="Bigger",de[de.BiggerEquals=15]="BiggerEquals";var Oe,De=(Fe.prototype.prop=function(e,t){return new kt(this,e,null,t)},Fe.prototype.key=function(e,t,n){return new Rt(this,e,t,n)},Fe.prototype.callMethod=function(e,t,n){return new Et(this,e,t,null,n)},Fe.prototype.callFn=function(e,t){return new St(this,e,null,t)},Fe.prototype.instantiate=function(e,t,n){return new xt(this,e,t,n)},Fe.prototype.conditional=function(e,t,n){return void 0===t&&(t=null),new bt(this,e,t,null,n)},Fe.prototype.equals=function(e,t){return new It(x.BinaryOperator.Equals,this,e,null,t)},Fe.prototype.notEquals=function(e,t){return new It(x.BinaryOperator.NotEquals,this,e,null,t)},Fe.prototype.identical=function(e,t){return new It(x.BinaryOperator.Identical,this,e,null,t)},Fe.prototype.notIdentical=function(e,t){return new It(x.BinaryOperator.NotIdentical,this,e,null,t)},Fe.prototype.minus=function(e,t){return new It(x.BinaryOperator.Minus,this,e,null,t)},Fe.prototype.plus=function(e,t){return new It(x.BinaryOperator.Plus,this,e,null,t)},Fe.prototype.divide=function(e,t){return new It(x.BinaryOperator.Divide,this,e,null,t)},Fe.prototype.multiply=function(e,t){return new It(x.BinaryOperator.Multiply,this,e,null,t)},Fe.prototype.modulo=function(e,t){return new It(x.BinaryOperator.Modulo,this,e,null,t)},Fe.prototype.and=function(e,t){return new It(x.BinaryOperator.And,this,e,null,t)},Fe.prototype.bitwiseAnd=function(e,t,n){return void 0===n&&(n=!0),new It(x.BinaryOperator.BitwiseAnd,this,e,null,t,n)},Fe.prototype.or=function(e,t){return new It(x.BinaryOperator.Or,this,e,null,t)},Fe.prototype.lower=function(e,t){return new It(x.BinaryOperator.Lower,this,e,null,t)},Fe.prototype.lowerEquals=function(e,t){return new It(x.BinaryOperator.LowerEquals,this,e,null,t)},Fe.prototype.bigger=function(e,t){return new It(x.BinaryOperator.Bigger,this,e,null,t)},Fe.prototype.biggerEquals=function(e,t){return new It(x.BinaryOperator.BiggerEquals,this,e,null,t)},Fe.prototype.isBlank=function(e){return this.equals(Vt,e)},Fe.prototype.cast=function(e,t){return new Nt(this,e,t)},Fe.prototype.toStmt=function(){return new Sn(this,null)},Fe);function Fe(e,t){this.type=e||null,this.sourceSpan=t||null}(Oe=x.BuiltinVar||(x.BuiltinVar={}))[Oe.This=0]="This",Oe[Oe.Super=1]="Super",Oe[Oe.CatchError=2]="CatchError",Oe[Oe.CatchStack=3]="CatchStack";var Le,Be,Ve,je,Ue,He,qe,We=(a(tt,qe=De),tt.prototype.isEquivalent=function(e){return e instanceof tt&&this.name===e.name&&this.builtin===e.builtin},tt.prototype.isConstant=function(){return!1},tt.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},tt.prototype.set=function(e){if(!this.name)throw new Error("Built in variable "+this.builtin+" can not be assigned to.");return new Qe(this.name,e,null,this.sourceSpan)},tt),ze=(a(et,He=De),et.prototype.visitExpression=function(e,t){return e.visitTypeofExpr(this,t)},et.prototype.isEquivalent=function(e){return e instanceof et&&e.expr.isEquivalent(this.expr)},et.prototype.isConstant=function(){return this.expr.isConstant()},et),Ke=(a(Ze,Ue=De),Ze.prototype.isEquivalent=function(e){return e instanceof Ze&&this.node===e.node},Ze.prototype.isConstant=function(){return!1},Ze.prototype.visitExpression=function(e,t){return e.visitWrappedNodeExpr(this,t)},Ze),Qe=(a(Je,je=De),Je.prototype.isEquivalent=function(e){return e instanceof Je&&this.name===e.name&&this.value.isEquivalent(e.value)},Je.prototype.isConstant=function(){return!1},Je.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},Je.prototype.toDeclStmt=function(e,t){return new _n(this.name,this.value,e,t,this.sourceSpan)},Je.prototype.toConstDecl=function(){return this.toDeclStmt(Ce,[x.StmtModifier.Final])},Je),Xe=(a(Ye,Ve=De),Ye.prototype.isEquivalent=function(e){return e instanceof Ye&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)},Ye.prototype.isConstant=function(){return!1},Ye.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},Ye),Ge=(a($e,Be=De),$e.prototype.isEquivalent=function(e){return e instanceof $e&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)},$e.prototype.isConstant=function(){return!1},$e.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},$e);function $e(e,t,n,r,i){var o=Be.call(this,r||n.type,i)||this;return o.receiver=e,o.name=t,o.value=n,o}function Ye(e,t,n,r,i){var o=Ve.call(this,r||n.type,i)||this;return o.receiver=e,o.index=t,o.value=n,o}function Je(e,t,n,r){var i=je.call(this,n||t.type,r)||this;return i.name=e,i.value=t,i}function Ze(e,t,n){var r=Ue.call(this,t,n)||this;return r.node=e,r}function et(e,t,n){var r=He.call(this,t,n)||this;return r.expr=e,r}function tt(e,t,n){var r=qe.call(this,t,n)||this;return"string"==typeof e?(r.name=e,r.builtin=null):(r.name=null,r.builtin=e),r}(Le=x.BuiltinMethod||(x.BuiltinMethod={}))[Le.ConcatArray=0]="ConcatArray",Le[Le.SubscribeObservable=1]="SubscribeObservable",Le[Le.Bind=2]="Bind";function nt(e,t,n){this.moduleName=e,this.name=t,this.runtime=n}var rt,it,ot,st,at,ut,pt,lt,ct,ht,ft,dt,vt,mt,yt,gt,_t,Et=(a(rn,_t=De),rn.prototype.isEquivalent=function(e){return e instanceof rn&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&Re(this.args,e.args)},rn.prototype.isConstant=function(){return!1},rn.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},rn),St=(a(nn,gt=De),nn.prototype.isEquivalent=function(e){return e instanceof nn&&this.fn.isEquivalent(e.fn)&&Re(this.args,e.args)&&this.pure===e.pure},nn.prototype.isConstant=function(){return!1},nn.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},nn),xt=(a(tn,yt=De),tn.prototype.isEquivalent=function(e){return e instanceof tn&&this.classExpr.isEquivalent(e.classExpr)&&Re(this.args,e.args)},tn.prototype.isConstant=function(){return!1},tn.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},tn),wt=(a(en,mt=De),en.prototype.isEquivalent=function(e){return e instanceof en&&this.value===e.value},en.prototype.isConstant=function(){return!0},en.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},en),Ct=(a(Zt,vt=De),Zt.prototype.isEquivalent=function(e){return e instanceof Zt&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime},Zt.prototype.isConstant=function(){return!1},Zt.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},Zt),bt=(a(Jt,dt=De),Jt.prototype.isEquivalent=function(e){return e instanceof Jt&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&ke(this.falseCase,e.falseCase)},Jt.prototype.isConstant=function(){return!1},Jt.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},Jt),Tt=(a(Yt,ft=De),Yt.prototype.isEquivalent=function(e){return e instanceof Yt&&this.condition.isEquivalent(e.condition)},Yt.prototype.isConstant=function(){return!1},Yt.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},Yt),Pt=(a($t,ht=De),$t.prototype.isEquivalent=function(e){return e instanceof $t&&this.condition.isEquivalent(e.condition)},$t.prototype.isConstant=function(){return!1},$t.prototype.visitExpression=function(e,t){return e.visitAssertNotNullExpr(this,t)},$t),Nt=(a(Gt,ct=De),Gt.prototype.isEquivalent=function(e){return e instanceof Gt&&this.value.isEquivalent(e.value)},Gt.prototype.isConstant=function(){return!1},Gt.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},Gt),Mt=(Xt.prototype.isEquivalent=function(e){return this.name===e.name},Xt),At=(a(Qt,lt=De),Qt.prototype.isEquivalent=function(e){return e instanceof Qt&&Re(this.params,e.params)&&Re(this.statements,e.statements)},Qt.prototype.isConstant=function(){return!1},Qt.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},Qt.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new En(e,this.params,this.statements,this.type,t,this.sourceSpan)},Qt),It=(a(Kt,pt=De),Kt.prototype.isEquivalent=function(e){return e instanceof Kt&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)},Kt.prototype.isConstant=function(){return!1},Kt.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},Kt),kt=(a(zt,ut=De),zt.prototype.isEquivalent=function(e){return e instanceof zt&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name},zt.prototype.isConstant=function(){return!1},zt.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},zt.prototype.set=function(e){return new Ge(this.receiver,this.name,e,null,this.sourceSpan)},zt),Rt=(a(Wt,at=De),Wt.prototype.isEquivalent=function(e){return e instanceof Wt&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)},Wt.prototype.isConstant=function(){return!1},Wt.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},Wt.prototype.set=function(e){return new Xe(this.receiver,this.index,e,null,this.sourceSpan)},Wt),Ot=(a(qt,st=De),qt.prototype.isConstant=function(){return this.entries.every(function(e){return e.isConstant()})},qt.prototype.isEquivalent=function(e){return e instanceof qt&&Re(this.entries,e.entries)},qt.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},qt),Dt=(Ht.prototype.isEquivalent=function(e){return this.key===e.key&&this.value.isEquivalent(e.value)},Ht),Ft=(a(Ut,ot=De),Ut.prototype.isEquivalent=function(e){return e instanceof Ut&&Re(this.entries,e.entries)},Ut.prototype.isConstant=function(){return this.entries.every(function(e){return e.value.isConstant()})},Ut.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},Ut),Lt=(a(jt,it=De),jt.prototype.isEquivalent=function(e){return e instanceof jt&&Re(this.parts,e.parts)},jt.prototype.isConstant=function(){return!1},jt.prototype.visitExpression=function(e,t){return e.visitCommaExpr(this,t)},jt),Bt=(new We(x.BuiltinVar.This,null,null),new We(x.BuiltinVar.Super,null,null),new We(x.BuiltinVar.CatchError,null,null),new We(x.BuiltinVar.CatchStack,null,null),new wt(null,null,null)),Vt=new wt(null,Ce,null);function jt(e,t){var n=it.call(this,e[e.length-1].type,t)||this;return n.parts=e,n}function Ut(e,t,n){var r=ot.call(this,t,n)||this;return r.entries=e,r.valueType=null,t&&(r.valueType=t.valueType),r}function Ht(e,t,n){this.key=e,this.value=t,this.quoted=n}function qt(e,t,n){var r=st.call(this,t,n)||this;return r.entries=e,r}function Wt(e,t,n,r){var i=at.call(this,n,r)||this;return i.receiver=e,i.index=t,i}function zt(e,t,n,r){var i=ut.call(this,n,r)||this;return i.receiver=e,i.name=t,i}function Kt(e,t,n,r,i,o){void 0===o&&(o=!0);var s=pt.call(this,r||t.type,i)||this;return s.operator=e,s.rhs=n,s.parens=o,s.lhs=t,s}function Qt(e,t,n,r,i){var o=lt.call(this,n,r)||this;return o.params=e,o.statements=t,o.name=i,o}function Xt(e,t){void 0===t&&(t=null),this.name=e,this.type=t}function Gt(e,t,n){var r=ct.call(this,t,n)||this;return r.value=e,r}function $t(e,t){var n=ht.call(this,e.type,t)||this;return n.condition=e,n}function Yt(e,t){var n=ft.call(this,be,t)||this;return n.condition=e,n}function Jt(e,t,n,r,i){void 0===n&&(n=null);var o=dt.call(this,r||t.type,i)||this;return o.condition=e,o.falseCase=n,o.trueCase=t,o}function Zt(e,t,n,r){void 0===n&&(n=null);var i=vt.call(this,t,r)||this;return i.value=e,i.typeParams=n,i}function en(e,t,n){var r=mt.call(this,t,n)||this;return r.value=e,r}function tn(e,t,n,r){var i=yt.call(this,n,r)||this;return i.classExpr=e,i.args=t,i}function nn(e,t,n,r,i){void 0===i&&(i=!1);var o=gt.call(this,n,r)||this;return o.fn=e,o.args=t,o.pure=i,o}function rn(e,t,n,r,i){var o=_t.call(this,r,i)||this;return o.receiver=e,o.args=n,"string"==typeof t?(o.name=t,o.builtin=null):(o.name=null,o.builtin=t),o}(rt=x.StmtModifier||(x.StmtModifier={}))[rt.Final=0]="Final",rt[rt.Private=1]="Private",rt[rt.Exported=2]="Exported",rt[rt.Static=3]="Static";var on,sn,an,un,pn,ln,cn,hn,fn,dn,vn,mn,yn,gn=(Yn.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},Yn),_n=(a($n,yn=gn),$n.prototype.isEquivalent=function(e){return e instanceof $n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)},$n.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},$n),En=(a(Gn,mn=gn),Gn.prototype.isEquivalent=function(e){return e instanceof Gn&&Re(this.params,e.params)&&Re(this.statements,e.statements)},Gn.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},Gn),Sn=(a(Xn,vn=gn),Xn.prototype.isEquivalent=function(e){return e instanceof Xn&&this.expr.isEquivalent(e.expr)},Xn.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},Xn),xn=(a(Qn,dn=gn),Qn.prototype.isEquivalent=function(e){return e instanceof Qn&&this.value.isEquivalent(e.value)},Qn.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},Qn),wn=(Kn.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},Kn),Cn=(a(zn,fn=wn),zn.prototype.isEquivalent=function(e){return this.name===e.name},zn),bn=(a(Wn,hn=wn),Wn.prototype.isEquivalent=function(e){return this.name===e.name&&Re(this.body,e.body)},Wn),Tn=(a(qn,cn=wn),qn.prototype.isEquivalent=function(e){return this.name===e.name&&Re(this.body,e.body)},qn),Pn=(a(Hn,ln=gn),Hn.prototype.isEquivalent=function(e){return e instanceof Hn&&this.name===e.name&&ke(this.parent,e.parent)&&Re(this.fields,e.fields)&&Re(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&Re(this.methods,e.methods)},Hn.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},Hn),Nn=(a(Un,pn=gn),Un.prototype.isEquivalent=function(e){return e instanceof Un&&this.condition.isEquivalent(e.condition)&&Re(this.trueCase,e.trueCase)&&Re(this.falseCase,e.falseCase)},Un.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},Un),Mn=(a(jn,un=gn),jn.prototype.isEquivalent=function(e){return e instanceof jn},jn.prototype.visitStatement=function(e,t){return e.visitCommentStmt(this,t)},jn),An=(a(Vn,an=gn),Vn.prototype.isEquivalent=function(e){return e instanceof Vn&&this.toString()===e.toString()},Vn.prototype.visitStatement=function(e,t){return e.visitJSDocCommentStmt(this,t)},Vn.prototype.toString=function(){return function(e){var t,n;if(0===e.length)return"";var r="*\n";try{for(var i=U(e),o=i.next();!o.done;o=i.next())r+=" *",r+=_r(o.value).replace(/\n/g,"\n * "),r+="\n"}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r+" "}(this.tags)},Vn),In=(a(Bn,sn=gn),Bn.prototype.isEquivalent=function(e){return e instanceof Bn&&Re(this.bodyStmts,e.bodyStmts)&&Re(this.catchStmts,e.catchStmts)},Bn.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},Bn),kn=(a(Ln,on=gn),Ln.prototype.isEquivalent=function(e){return e instanceof In&&this.error.isEquivalent(e.error)},Ln.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},Ln),Rn=(Fn.prototype.transformExpr=function(e,t){return e},Fn.prototype.transformStmt=function(e,t){return e},Fn.prototype.visitReadVarExpr=function(e,t){return this.transformExpr(e,t)},Fn.prototype.visitWrappedNodeExpr=function(e,t){return this.transformExpr(e,t)},Fn.prototype.visitTypeofExpr=function(e,t){return this.transformExpr(new ze(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitWriteVarExpr=function(e,t){return this.transformExpr(new Qe(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitWriteKeyExpr=function(e,t){return this.transformExpr(new Xe(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitWritePropExpr=function(e,t){return this.transformExpr(new Ge(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitInvokeMethodExpr=function(e,t){var n=e.builtin||e.name;return this.transformExpr(new Et(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},Fn.prototype.visitInvokeFunctionExpr=function(e,t){return this.transformExpr(new St(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},Fn.prototype.visitInstantiateExpr=function(e,t){return this.transformExpr(new xt(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)},Fn.prototype.visitLiteralExpr=function(e,t){return this.transformExpr(e,t)},Fn.prototype.visitExternalExpr=function(e,t){return this.transformExpr(e,t)},Fn.prototype.visitConditionalExpr=function(e,t){return this.transformExpr(new bt(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitNotExpr=function(e,t){return this.transformExpr(new Tt(e.condition.visitExpression(this,t),e.sourceSpan),t)},Fn.prototype.visitAssertNotNullExpr=function(e,t){return this.transformExpr(new Pt(e.condition.visitExpression(this,t),e.sourceSpan),t)},Fn.prototype.visitCastExpr=function(e,t){return this.transformExpr(new Nt(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitFunctionExpr=function(e,t){return this.transformExpr(new At(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)},Fn.prototype.visitBinaryOperatorExpr=function(e,t){return this.transformExpr(new It(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitReadPropExpr=function(e,t){return this.transformExpr(new kt(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)},Fn.prototype.visitReadKeyExpr=function(e,t){return this.transformExpr(new Rt(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)},Fn.prototype.visitLiteralArrayExpr=function(e,t){return this.transformExpr(new Ot(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)},Fn.prototype.visitLiteralMapExpr=function(e,t){var n=this,r=e.entries.map(function(e){return new Dt(e.key,e.value.visitExpression(n,t),e.quoted)}),i=new xe(e.valueType,null);return this.transformExpr(new Ft(r,i,e.sourceSpan),t)},Fn.prototype.visitCommaExpr=function(e,t){return this.transformExpr(new Lt(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)},Fn.prototype.visitAllExpressions=function(e,t){var n=this;return e.map(function(e){return e.visitExpression(n,t)})},Fn.prototype.visitDeclareVarStmt=function(e,t){var n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new _n(e.name,n,e.type,e.modifiers,e.sourceSpan),t)},Fn.prototype.visitDeclareFunctionStmt=function(e,t){return this.transformStmt(new En(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)},Fn.prototype.visitExpressionStmt=function(e,t){return this.transformStmt(new Sn(e.expr.visitExpression(this,t),e.sourceSpan),t)},Fn.prototype.visitReturnStmt=function(e,t){return this.transformStmt(new xn(e.value.visitExpression(this,t),e.sourceSpan),t)},Fn.prototype.visitDeclareClassStmt=function(e,t){var n=this,r=e.parent.visitExpression(this,t),i=e.getters.map(function(e){return new Tn(e.name,n.visitAllStatements(e.body,t),e.type,e.modifiers)}),o=e.constructorMethod&&new bn(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map(function(e){return new bn(e.name,e.params,n.visitAllStatements(e.body,t),e.type,e.modifiers)});return this.transformStmt(new Pn(e.name,r,e.fields,i,o,s,e.modifiers,e.sourceSpan),t)},Fn.prototype.visitIfStmt=function(e,t){return this.transformStmt(new Nn(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)},Fn.prototype.visitTryCatchStmt=function(e,t){return this.transformStmt(new In(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)},Fn.prototype.visitThrowStmt=function(e,t){return this.transformStmt(new kn(e.error.visitExpression(this,t),e.sourceSpan),t)},Fn.prototype.visitCommentStmt=function(e,t){return this.transformStmt(e,t)},Fn.prototype.visitJSDocCommentStmt=function(e,t){return this.transformStmt(e,t)},Fn.prototype.visitAllStatements=function(e,t){var n=this;return e.map(function(e){return e.visitStatement(n,t)})},Fn),On=(Dn.prototype.visitType=function(e,t){return e},Dn.prototype.visitExpression=function(e,t){return e.type&&e.type.visitType(this,t),e},Dn.prototype.visitBuiltinType=function(e,t){return this.visitType(e,t)},Dn.prototype.visitExpressionType=function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(function(e){return n.visitType(e,t)}),this.visitType(e,t)},Dn.prototype.visitArrayType=function(e,t){return this.visitType(e,t)},Dn.prototype.visitMapType=function(e,t){return this.visitType(e,t)},Dn.prototype.visitWrappedNodeExpr=function(e,t){return e},Dn.prototype.visitTypeofExpr=function(e,t){return this.visitExpression(e,t)},Dn.prototype.visitReadVarExpr=function(e,t){return this.visitExpression(e,t)},Dn.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},Dn.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},Dn.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)},Dn.prototype.visitLiteralExpr=function(e,t){return this.visitExpression(e,t)},Dn.prototype.visitExternalExpr=function(e,t){var n=this;return e.typeParams&&e.typeParams.forEach(function(e){return e.visitType(n,t)}),this.visitExpression(e,t)},Dn.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitFunctionExpr=function(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)},Dn.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)},Dn.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)},Dn.prototype.visitLiteralMapExpr=function(e,t){var n=this;return e.entries.forEach(function(e){return e.value.visitExpression(n,t)}),this.visitExpression(e,t)},Dn.prototype.visitCommaExpr=function(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)},Dn.prototype.visitAllExpressions=function(e,t){var n=this;e.forEach(function(e){return e.visitExpression(n,t)})},Dn.prototype.visitDeclareVarStmt=function(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e},Dn.prototype.visitDeclareFunctionStmt=function(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e},Dn.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},Dn.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},Dn.prototype.visitDeclareClassStmt=function(e,t){var n=this;return e.parent.visitExpression(this,t),e.getters.forEach(function(e){return n.visitAllStatements(e.body,t)}),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(function(e){return n.visitAllStatements(e.body,t)}),e},Dn.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},Dn.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},Dn.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},Dn.prototype.visitCommentStmt=function(e,t){return e},Dn.prototype.visitJSDocCommentStmt=function(e,t){return e},Dn.prototype.visitAllStatements=function(e,t){var n=this;e.forEach(function(e){return e.visitStatement(n,t)})},Dn);function Dn(){}function Fn(){}function Ln(e,t){var n=on.call(this,null,t)||this;return n.error=e,n}function Bn(e,t,n){var r=sn.call(this,null,n)||this;return r.bodyStmts=e,r.catchStmts=t,r}function Vn(e,t){void 0===e&&(e=[]);var n=an.call(this,null,t)||this;return n.tags=e,n}function jn(e,t,n){void 0===t&&(t=!1);var r=un.call(this,null,n)||this;return r.comment=e,r.multiline=t,r}function Un(e,t,n,r){void 0===n&&(n=[]);var i=pn.call(this,null,r)||this;return i.condition=e,i.trueCase=t,i.falseCase=n,i}function Hn(e,t,n,r,i,o,s,a){void 0===s&&(s=null);var u=ln.call(this,s,a)||this;return u.name=e,u.parent=t,u.fields=n,u.getters=r,u.constructorMethod=i,u.methods=o,u}function qn(e,t,n,r){void 0===r&&(r=null);var i=cn.call(this,n,r)||this;return i.name=e,i.body=t,i}function Wn(e,t,n,r,i){void 0===i&&(i=null);var o=hn.call(this,r,i)||this;return o.name=e,o.params=t,o.body=n,o}function zn(e,t,n,r){void 0===n&&(n=null);var i=fn.call(this,t,n)||this;return i.name=e,i.initializer=r,i}function Kn(e,t){(this.modifiers=t)||(this.modifiers=[]),this.type=e||null}function Qn(e,t){var n=dn.call(this,null,t)||this;return n.value=e,n}function Xn(e,t){var n=vn.call(this,null,t)||this;return n.expr=e,n}function Gn(e,t,n,r,i,o){void 0===i&&(i=null);var s=mn.call(this,i,o)||this;return s.name=e,s.params=t,s.statements=n,s.type=r||null,s}function $n(e,t,n,r,i){void 0===r&&(r=null);var o=yn.call(this,r,i)||this;return o.name=e,o.value=t,o.type=n||t&&t.type||null,o}function Yn(e,t){this.modifiers=e||[],this.sourceSpan=t||null}function Jn(e){var t=new tr;return t.visitAllStatements(e,null),t.varNames}var Zn,er,tr=(a(ir,er=On),ir.prototype.visitDeclareFunctionStmt=function(e,t){return e},ir.prototype.visitDeclareClassStmt=function(e,t){return e},ir.prototype.visitReadVarExpr=function(e,t){return e.name&&this.varNames.add(e.name),null},ir),nr=(a(rr,Zn=On),rr.prototype.visitExternalExpr=function(e,t){return this.externalReferences.push(e.value),Zn.prototype.visitExternalExpr.call(this,e,t)},rr);function rr(){var e=null!==Zn&&Zn.apply(this,arguments)||this;return e.externalReferences=[],e}function ir(){var e=null!==er&&er.apply(this,arguments)||this;return e.varNames=new Set,e}function or(e,t){if(!t)return e;var n=new ur(t);return e.visitStatement(n,null)}function sr(e,t){if(!t)return e;var n=new ur(t);return e.visitExpression(n,null)}var ar,ur=(a(pr,ar=Rn),pr.prototype._clone=function(e){var t=Object.create(e.constructor.prototype);for(var n in e)t[n]=e[n];return t},pr.prototype.transformExpr=function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e},pr.prototype.transformStmt=function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e},pr);function pr(e){var t=ar.call(this)||this;return t.sourceSpan=e,t}function lr(e,t,n){return new We(e,t,n)}function cr(e,t,n){return void 0===t&&(t=null),new Ct(e,null,t,n)}function hr(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),null!=e?fr(cr(e,t,null),n):null}function fr(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new Ee(e,t,n)}function dr(e,t,n){return new Ot(e,t,n)}function vr(e,t){return void 0===t&&(t=null),new Ft(e.map(function(e){return new Dt(e.key,e.value,e.quoted)}),t,null)}function mr(e,t,n,r,i){return new At(e,t,n,r,i)}function yr(e,t,n){return new Nn(e,t,n)}function gr(e,t,n){return new wt(e,t,n)}function _r(e){var t="";if(e.tagName&&(t+=" @"+e.tagName),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}var Er=/-+([a-z0-9])/g;function Sr(e,t){return xr(e,":",t)}function xr(e,t,n){var r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function wr(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===Fr?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function Cr(e){return null!=e}function br(e){return void 0===e?null:e}function Tr(e){if(jr(e))throw new Error("Illegal state: value cannot be a promise");return e}function Pr(e,t){return jr(e)?e.then(t):t(e)}function Nr(e){return e.some(jr)?Promise.all(e):e}var Mr=(Ar.prototype.visitArray=function(e,t){var n=this;return e.map(function(e){return wr(e,n,t)})},Ar.prototype.visitStringMap=function(t,n){var r=this,i={};return Object.keys(t).forEach(function(e){i[e]=wr(t[e],r,n)}),i},Ar.prototype.visitPrimitive=function(e,t){return e},Ar.prototype.visitOther=function(e,t){return e},Ar);function Ar(){}function Ir(e){throw new Error("Internal Error: "+e)}function kr(e,t){var n=Error(e);return n[Rr]=!0,t&&(n[Or]=t),n}var Rr="ngSyntaxError",Or="ngParseErrors";function Dr(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var Fr=Object.getPrototypeOf({});function Lr(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);if(55296<=r&&r<=56319&&e.length>n+1){var i=e.charCodeAt(n+1);56320<=i&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?t+=String.fromCharCode(r):r<=2047?t+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?t+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(t+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return t}function Br(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Br).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Vr(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function jr(e){return!!e&&"function"==typeof e.then}function Ur(e){var t=(this.full=e).split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}var Hr,qr="undefined"!=typeof window&&window,Wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zr="undefined"!=typeof global&&global||qr||Wr,Kr={},Qr=(a(Jr,Hr=De),Jr.prototype.visitExpression=function(e,t){return t===Kr?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)},Jr.prototype.isEquivalent=function(e){return e instanceof Jr&&this.resolved.isEquivalent(e.resolved)},Jr.prototype.isConstant=function(){return!0},Jr.prototype.fixup=function(e){this.resolved=e,this.shared=!0},Jr),Xr=(Yr.prototype.getConstLiteral=function(e,t){if(e instanceof wt||e instanceof Qr)return e;var n=this.keyOf(e),r=this.literals.get(n),i=!1;if(r||(r=new Qr(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){var o=this.freshName();this.statements.push(lr(o).set(e).toDeclStmt(Ce,[x.StmtModifier.Final])),r.fixup(lr(o))}return r},Yr.prototype.getDefinition=function(e,t,n,r){void 0===r&&(r=!1);var i=this.definitionsOf(t),o=i.get(e),s=!1;if(!o){var a=this.propertyNameOf(t);o=new Qr(n.importExpr(e).prop(a)),i.set(e,o),s=!0}if(!s&&!o.shared||s&&r){var u=this.freshName();this.statements.push(lr(u).set(o.resolved).toDeclStmt(Ce,[x.StmtModifier.Final])),o.fixup(lr(u))}return o},Yr.prototype.getLiteralFactory=function(n){if(n instanceof Ot){var e=n.entries.map(function(e){return e.isConstant()?e:gr(null)}),t=this.keyOf(dr(e));return this._getLiteralFactory(t,n.entries,function(e){return dr(e)})}var r=vr(n.entries.map(function(e){return{key:e.key,value:e.value.isConstant()?e.value:gr(null),quoted:e.quoted}}));return t=this.keyOf(r),this._getLiteralFactory(t,n.entries.map(function(e){return e.value}),function(e){return vr(e.map(function(e,t){return{key:n.entries[t].key,value:e,quoted:n.entries[t].quoted}}))})},Yr.prototype._getLiteralFactory=function(e,t,n){var r=this,i=this.literalFactories.get(e),o=t.filter(function(e){return!e.isConstant()});if(!i){var s=t.map(function(e,t){return e.isConstant()?r.getConstLiteral(e,!0):lr("a"+t)}),a=mr(s.filter(ei).map(function(e){return new Mt(e.name,we)}),[new xn(n(s))],Ce),u=this.freshName();this.statements.push(lr(u).set(a).toDeclStmt(Ce,[x.StmtModifier.Final])),i=lr(u),this.literalFactories.set(e,i)}return{literalFactory:i,literalFactoryArguments:o}},Yr.prototype.uniqueName=function(e){return""+e+this.nextNameIndex++},Yr.prototype.definitionsOf=function(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return Ir("Unknown definition kind "+e),this.componentDefinitions},Yr.prototype.propertyNameOf=function(e){switch(e){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return Ir("Unknown definition kind "+e),"<unknown>"},Yr.prototype.freshName=function(){return this.uniqueName("_c")},Yr.prototype.keyOf=function(e){return e.visitExpression(new Gr,Kr)},Yr),Gr=($r.prototype.visitLiteralExpr=function(e){return""+("string"==typeof e.value?'"'+e.value+'"':e.value)},$r.prototype.visitLiteralArrayExpr=function(e,t){var n=this;return"["+e.entries.map(function(e){return e.visitExpression(n,t)}).join(",")+"]"},$r.prototype.visitLiteralMapExpr=function(e,r){var i=this;return"{"+e.entries.map(function(e){return(n=(t=e).quoted?'"':"")+t.key+n+":"+e.value.visitExpression(i,r);var t,n}).join(",")},$r.prototype.visitExternalExpr=function(e){return e.value.moduleName?"EX:"+e.value.moduleName+":"+e.value.name:"EX:"+e.value.runtime.name},$r.prototype.visitReadVarExpr=function(e){return"VAR:"+e.name},$r.prototype.visitTypeofExpr=function(e,t){return"TYPEOF:"+e.expr.visitExpression(this,t)},$r);function $r(){this.visitWrappedNodeExpr=Zr,this.visitWriteVarExpr=Zr,this.visitWriteKeyExpr=Zr,this.visitWritePropExpr=Zr,this.visitInvokeMethodExpr=Zr,this.visitInvokeFunctionExpr=Zr,this.visitInstantiateExpr=Zr,this.visitConditionalExpr=Zr,this.visitNotExpr=Zr,this.visitAssertNotNullExpr=Zr,this.visitCastExpr=Zr,this.visitFunctionExpr=Zr,this.visitBinaryOperatorExpr=Zr,this.visitReadPropExpr=Zr,this.visitReadKeyExpr=Zr,this.visitCommaExpr=Zr}function Yr(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}function Jr(e){var t=Hr.call(this,e.type)||this;return t.resolved=e,t.original=e,t}function Zr(e){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+e.constructor.name)}function ei(e){return e instanceof We}var ti="@angular/core",ni=(ri.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:ti},ri.ElementRef={name:"ElementRef",moduleName:ti},ri.NgModuleRef={name:"NgModuleRef",moduleName:ti},ri.ViewContainerRef={name:"ViewContainerRef",moduleName:ti},ri.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:ti},ri.QueryList={name:"QueryList",moduleName:ti},ri.TemplateRef={name:"TemplateRef",moduleName:ti},ri.Renderer2={name:"Renderer2",moduleName:ti},ri.CodegenComponentFactoryResolver={name:"ɵCodegenComponentFactoryResolver",moduleName:ti},ri.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:ti},ri.ComponentFactory={name:"ComponentFactory",moduleName:ti},ri.ComponentRef={name:"ComponentRef",moduleName:ti},ri.NgModuleFactory={name:"NgModuleFactory",moduleName:ti},ri.createModuleFactory={name:"ɵcmf",moduleName:ti},ri.moduleDef={name:"ɵmod",moduleName:ti},ri.moduleProviderDef={name:"ɵmpd",moduleName:ti},ri.RegisterModuleFactoryFn={name:"ɵregisterModuleFactory",moduleName:ti},ri.inject={name:"ɵɵinject",moduleName:ti},ri.INJECTOR={name:"INJECTOR",moduleName:ti},ri.Injector={name:"Injector",moduleName:ti},ri.ɵɵdefineInjectable={name:"ɵɵdefineInjectable",moduleName:ti},ri.InjectableDef={name:"ɵɵInjectableDef",moduleName:ti},ri.ViewEncapsulation={name:"ViewEncapsulation",moduleName:ti},ri.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:ti},ri.SecurityContext={name:"SecurityContext",moduleName:ti},ri.LOCALE_ID={name:"LOCALE_ID",moduleName:ti},ri.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:ti},ri.inlineInterpolate={name:"ɵinlineInterpolate",moduleName:ti},ri.interpolate={name:"ɵinterpolate",moduleName:ti},ri.EMPTY_ARRAY={name:"ɵEMPTY_ARRAY",moduleName:ti},ri.EMPTY_MAP={name:"ɵEMPTY_MAP",moduleName:ti},ri.Renderer={name:"Renderer",moduleName:ti},ri.viewDef={name:"ɵvid",moduleName:ti},ri.elementDef={name:"ɵeld",moduleName:ti},ri.anchorDef={name:"ɵand",moduleName:ti},ri.textDef={name:"ɵted",moduleName:ti},ri.directiveDef={name:"ɵdid",moduleName:ti},ri.providerDef={name:"ɵprd",moduleName:ti},ri.queryDef={name:"ɵqud",moduleName:ti},ri.pureArrayDef={name:"ɵpad",moduleName:ti},ri.pureObjectDef={name:"ɵpod",moduleName:ti},ri.purePipeDef={name:"ɵppd",moduleName:ti},ri.pipeDef={name:"ɵpid",moduleName:ti},ri.nodeValue={name:"ɵnov",moduleName:ti},ri.ngContentDef={name:"ɵncd",moduleName:ti},ri.unwrapValue={name:"ɵunv",moduleName:ti},ri.createRendererType2={name:"ɵcrt",moduleName:ti},ri.RendererType2={name:"RendererType2",moduleName:ti},ri.ViewDefinition={name:"ɵViewDefinition",moduleName:ti},ri.createComponentFactory={name:"ɵccf",moduleName:ti},ri.setClassMetadata={name:"ɵsetClassMetadata",moduleName:ti},ri);function ri(){}function ii(e){return{identifier:{reference:e}}}function oi(e,t){return ii(e.resolveExternalReference(t))}var si=(li.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},li),ai=(pi.prototype.get=function(e,t,n){var r='"'+e+'".'+t+((n=n||[]).length?"."+n.join("."):""),i=this.cache.get(r);return i||(i=new si(e,t,n),this.cache.set(r,i)),i},pi),ui=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function pi(){this.cache=new Map}function li(e,t,n){this.filePath=e,this.name=t,this.members=n}function ci(e){return e.replace(/\W/g,"_")}var hi,fi=0;function di(e){if(!e||!e.reference)return null;var t=e.reference;if(t instanceof si)return t.name;if(t.__anonymousType)return t.__anonymousType;var n=Br(t);return 0<=n.indexOf("(")?(n="anonymous_"+fi++,t.__anonymousType=n):n=ci(n),n}function vi(e){var t=e.reference;return t instanceof si?t.filePath:"./"+Br(t)}function mi(e,t){return"View_"+di({reference:e})+"_"+t}function yi(e){return"RenderType_"+di({reference:e})}function gi(e){return"HostView_"+di({reference:e})}function _i(e){return di({reference:e})+"NgFactory"}function Ei(e){return null!=e.value?ci(e.value):di(e.identifier)}function Si(e){return null!=e.identifier?e.identifier.reference:e.value}(hi=x.CompileSummaryKind||(x.CompileSummaryKind={}))[hi.Pipe=0]="Pipe",hi[hi.Directive=1]="Directive",hi[hi.NgModule=2]="NgModule",hi[hi.Injectable=3]="Injectable";function xi(e){var t=void 0===e?{}:e,n=t.styles,r=t.styleUrls;this.moduleUrl=t.moduleUrl||null,this.styles=Ri(n),this.styleUrls=Ri(r)}var wi=(ki.prototype.toSummary=function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}},ki),Ci=(Ii.create=function(e){var t=e.isHost,n=e.type,r=e.isComponent,i=e.selector,o=e.exportAs,s=e.changeDetection,a=e.inputs,u=e.outputs,p=e.host,l=e.providers,c=e.viewProviders,h=e.queries,f=e.guards,d=e.viewQueries,v=e.entryComponents,m=e.template,y=e.componentViewType,g=e.rendererType,_=e.componentFactory,E={},S={},x={};null!=p&&Object.keys(p).forEach(function(e){var t=p[e],n=e.match(ui);null===n?x[e]=t:null!=n[1]?S[n[1]]=t:null!=n[2]&&(E[n[2]]=t)});var w={};null!=a&&a.forEach(function(e){var t=Sr(e,[e,e]);w[t[0]]=t[1]});var C={};return null!=u&&u.forEach(function(e){var t=Sr(e,[e,e]);C[t[0]]=t[1]}),new Ii({isHost:t,type:n,isComponent:!!r,selector:i,exportAs:o,changeDetection:s,inputs:w,outputs:C,hostListeners:E,hostProperties:S,hostAttributes:x,providers:l,viewProviders:c,queries:h,guards:f,viewQueries:d,entryComponents:v,template:m,componentViewType:y,rendererType:g,componentFactory:_})},Ii.prototype.toSummary=function(){return{summaryKind:x.CompileSummaryKind.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},Ii),bi=(Ai.prototype.toSummary=function(){return{summaryKind:x.CompileSummaryKind.Pipe,type:this.type,name:this.name,pure:this.pure}},Ai),Ti=(Mi.prototype.toSummary=function(){var e=this.transitiveModule;return{summaryKind:x.CompileSummaryKind.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}},Mi),Pi=(Ni.prototype.addProvider=function(e,t){this.providers.push({provider:e,module:t})},Ni.prototype.addDirective=function(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))},Ni.prototype.addExportedDirective=function(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))},Ni.prototype.addPipe=function(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))},Ni.prototype.addExportedPipe=function(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))},Ni.prototype.addModule=function(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))},Ni.prototype.addEntryComponent=function(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))},Ni);function Ni(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}function Mi(e){var t=e.providers,n=e.declaredDirectives,r=e.exportedDirectives,i=e.declaredPipes,o=e.exportedPipes,s=e.entryComponents,a=e.bootstrapComponents,u=e.importedModules,p=e.exportedModules,l=e.schemas,c=e.transitiveModule,h=e.id;this.type=e.type||null,this.declaredDirectives=Ri(n),this.exportedDirectives=Ri(r),this.declaredPipes=Ri(i),this.exportedPipes=Ri(o),this.providers=Ri(t),this.entryComponents=Ri(s),this.bootstrapComponents=Ri(a),this.importedModules=Ri(u),this.exportedModules=Ri(p),this.schemas=Ri(l),this.id=h||null,this.transitiveModule=c||null}function Ai(e){var t=e.name,n=e.pure;this.type=e.type,this.name=t,this.pure=!!n}function Ii(e){var t=e.type,n=e.isComponent,r=e.selector,i=e.exportAs,o=e.changeDetection,s=e.inputs,a=e.outputs,u=e.hostListeners,p=e.hostProperties,l=e.hostAttributes,c=e.providers,h=e.viewProviders,f=e.queries,d=e.guards,v=e.viewQueries,m=e.entryComponents,y=e.template,g=e.componentViewType,_=e.rendererType,E=e.componentFactory;this.isHost=!!e.isHost,this.type=t,this.isComponent=n,this.selector=r,this.exportAs=i,this.changeDetection=o,this.inputs=s,this.outputs=a,this.hostListeners=u,this.hostProperties=p,this.hostAttributes=l,this.providers=Ri(c),this.viewProviders=Ri(h),this.queries=Ri(f),this.guards=d,this.viewQueries=Ri(v),this.entryComponents=Ri(m),this.template=y,this.componentViewType=g,this.rendererType=_,this.componentFactory=E}function ki(e){var t=e.template,n=e.templateUrl,r=e.htmlAst,i=e.styles,o=e.styleUrls,s=e.externalStylesheets,a=e.animations,u=e.ngContentSelectors,p=e.interpolation,l=e.isInline,c=e.preserveWhitespaces;if(this.encapsulation=e.encapsulation,this.template=t,this.templateUrl=n,this.htmlAst=r,this.styles=Ri(i),this.styleUrls=Ri(o),this.externalStylesheets=Ri(s),this.animations=a?Di(a):[],this.ngContentSelectors=u||[],p&&2!=p.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=p,this.isInline=l,this.preserveWhitespaces=c}function Ri(e){return e||[]}function Oi(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,a=t.multi;this.token=e,this.useClass=n||null,this.useValue=r,this.useExisting=i,this.useFactory=o||null,this.dependencies=s||null,this.multi=!!a}function Di(e){return e.reduce(function(e,t){var n=Array.isArray(t)?Di(t):t;return e.concat(n)},[])}function Fi(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function Li(e,t,n){var r;return r=n.isInline?t.type.reference instanceof si?t.type.reference.filePath+"."+t.type.reference.name+".html":di(e)+"/"+di(t.type)+".html":n.templateUrl,t.type.reference instanceof si?r:Fi(r)}function Bi(e,t){var n=e.moduleUrl.split(/\/\\/g);return Fi("css/"+t+n[n.length-1]+".ngstyle.js")}function Vi(e){return Fi(di(e.type)+"/module.ngfactory.js")}function ji(e,t){return Fi(di(e)+"/"+di(t.type)+".ngfactory.js")}var Ui="@angular/core",Hi=(co.NEW_METHOD="factory",co.TRANSFORM_METHOD="transform",co.PATCH_DEPS="patchedDeps",co.namespaceHTML={name:"ɵɵnamespaceHTML",moduleName:Ui},co.namespaceMathML={name:"ɵɵnamespaceMathML",moduleName:Ui},co.namespaceSVG={name:"ɵɵnamespaceSVG",moduleName:Ui},co.element={name:"ɵɵelement",moduleName:Ui},co.elementStart={name:"ɵɵelementStart",moduleName:Ui},co.elementEnd={name:"ɵɵelementEnd",moduleName:Ui},co.elementProperty={name:"ɵɵelementProperty",moduleName:Ui},co.select={name:"ɵɵselect",moduleName:Ui},co.componentHostSyntheticProperty={name:"ɵɵcomponentHostSyntheticProperty",moduleName:Ui},co.componentHostSyntheticListener={name:"ɵɵcomponentHostSyntheticListener",moduleName:Ui},co.elementAttribute={name:"ɵɵelementAttribute",moduleName:Ui},co.elementClassProp={name:"ɵɵelementClassProp",moduleName:Ui},co.elementContainerStart={name:"ɵɵelementContainerStart",moduleName:Ui},co.elementContainerEnd={name:"ɵɵelementContainerEnd",moduleName:Ui},co.elementStyling={name:"ɵɵelementStyling",moduleName:Ui},co.elementStylingMap={name:"ɵɵelementStylingMap",moduleName:Ui},co.elementStyleProp={name:"ɵɵelementStyleProp",moduleName:Ui},co.elementStylingApply={name:"ɵɵelementStylingApply",moduleName:Ui},co.elementHostAttrs={name:"ɵɵelementHostAttrs",moduleName:Ui},co.elementHostStyling={name:"ɵɵelementHostStyling",moduleName:Ui},co.elementHostStylingMap={name:"ɵɵelementHostStylingMap",moduleName:Ui},co.elementHostStyleProp={name:"ɵɵelementHostStyleProp",moduleName:Ui},co.elementHostClassProp={name:"ɵɵelementHostClassProp",moduleName:Ui},co.elementHostStylingApply={name:"ɵɵelementHostStylingApply",moduleName:Ui},co.containerCreate={name:"ɵɵcontainer",moduleName:Ui},co.nextContext={name:"ɵɵnextContext",moduleName:Ui},co.templateCreate={name:"ɵɵtemplate",moduleName:Ui},co.text={name:"ɵɵtext",moduleName:Ui},co.textBinding={name:"ɵɵtextBinding",moduleName:Ui},co.bind={name:"ɵɵbind",moduleName:Ui},co.enableBindings={name:"ɵɵenableBindings",moduleName:Ui},co.disableBindings={name:"ɵɵdisableBindings",moduleName:Ui},co.allocHostVars={name:"ɵɵallocHostVars",moduleName:Ui},co.getCurrentView={name:"ɵɵgetCurrentView",moduleName:Ui},co.restoreView={name:"ɵɵrestoreView",moduleName:Ui},co.interpolation1={name:"ɵɵinterpolation1",moduleName:Ui},co.interpolation2={name:"ɵɵinterpolation2",moduleName:Ui},co.interpolation3={name:"ɵɵinterpolation3",moduleName:Ui},co.interpolation4={name:"ɵɵinterpolation4",moduleName:Ui},co.interpolation5={name:"ɵɵinterpolation5",moduleName:Ui},co.interpolation6={name:"ɵɵinterpolation6",moduleName:Ui},co.interpolation7={name:"ɵɵinterpolation7",moduleName:Ui},co.interpolation8={name:"ɵɵinterpolation8",moduleName:Ui},co.interpolationV={name:"ɵɵinterpolationV",moduleName:Ui},co.pureFunction0={name:"ɵɵpureFunction0",moduleName:Ui},co.pureFunction1={name:"ɵɵpureFunction1",moduleName:Ui},co.pureFunction2={name:"ɵɵpureFunction2",moduleName:Ui},co.pureFunction3={name:"ɵɵpureFunction3",moduleName:Ui},co.pureFunction4={name:"ɵɵpureFunction4",moduleName:Ui},co.pureFunction5={name:"ɵɵpureFunction5",moduleName:Ui},co.pureFunction6={name:"ɵɵpureFunction6",moduleName:Ui},co.pureFunction7={name:"ɵɵpureFunction7",moduleName:Ui},co.pureFunction8={name:"ɵɵpureFunction8",moduleName:Ui},co.pureFunctionV={name:"ɵɵpureFunctionV",moduleName:Ui},co.pipeBind1={name:"ɵɵpipeBind1",moduleName:Ui},co.pipeBind2={name:"ɵɵpipeBind2",moduleName:Ui},co.pipeBind3={name:"ɵɵpipeBind3",moduleName:Ui},co.pipeBind4={name:"ɵɵpipeBind4",moduleName:Ui},co.pipeBindV={name:"ɵɵpipeBindV",moduleName:Ui},co.property={name:"ɵɵproperty",moduleName:Ui},co.propertyInterpolate={name:"ɵɵpropertyInterpolate",moduleName:Ui},co.propertyInterpolate1={name:"ɵɵpropertyInterpolate1",moduleName:Ui},co.propertyInterpolate2={name:"ɵɵpropertyInterpolate2",moduleName:Ui},co.propertyInterpolate3={name:"ɵɵpropertyInterpolate3",moduleName:Ui},co.propertyInterpolate4={name:"ɵɵpropertyInterpolate4",moduleName:Ui},co.propertyInterpolate5={name:"ɵɵpropertyInterpolate5",moduleName:Ui},co.propertyInterpolate6={name:"ɵɵpropertyInterpolate6",moduleName:Ui},co.propertyInterpolate7={name:"ɵɵpropertyInterpolate7",moduleName:Ui},co.propertyInterpolate8={name:"ɵɵpropertyInterpolate8",moduleName:Ui},co.propertyInterpolateV={name:"ɵɵpropertyInterpolateV",moduleName:Ui},co.i18n={name:"ɵɵi18n",moduleName:Ui},co.i18nAttributes={name:"ɵɵi18nAttributes",moduleName:Ui},co.i18nExp={name:"ɵɵi18nExp",moduleName:Ui},co.i18nStart={name:"ɵɵi18nStart",moduleName:Ui},co.i18nEnd={name:"ɵɵi18nEnd",moduleName:Ui},co.i18nApply={name:"ɵɵi18nApply",moduleName:Ui},co.i18nPostprocess={name:"ɵɵi18nPostprocess",moduleName:Ui},co.i18nLocalize={name:"ɵɵi18nLocalize",moduleName:Ui},co.load={name:"ɵɵload",moduleName:Ui},co.pipe={name:"ɵɵpipe",moduleName:Ui},co.projection={name:"ɵɵprojection",moduleName:Ui},co.projectionDef={name:"ɵɵprojectionDef",moduleName:Ui},co.reference={name:"ɵɵreference",moduleName:Ui},co.inject={name:"ɵɵinject",moduleName:Ui},co.injectAttribute={name:"ɵɵinjectAttribute",moduleName:Ui},co.directiveInject={name:"ɵɵdirectiveInject",moduleName:Ui},co.templateRefExtractor={name:"ɵɵtemplateRefExtractor",moduleName:Ui},co.resolveWindow={name:"ɵɵresolveWindow",moduleName:Ui},co.resolveDocument={name:"ɵɵresolveDocument",moduleName:Ui},co.resolveBody={name:"ɵɵresolveBody",moduleName:Ui},co.defineBase={name:"ɵɵdefineBase",moduleName:Ui},co.BaseDef={name:"ɵɵBaseDef",moduleName:Ui},co.defineComponent={name:"ɵɵdefineComponent",moduleName:Ui},co.setComponentScope={name:"ɵɵsetComponentScope",moduleName:Ui},co.ComponentDefWithMeta={name:"ɵɵComponentDefWithMeta",moduleName:Ui},co.defineDirective={name:"ɵɵdefineDirective",moduleName:Ui},co.DirectiveDefWithMeta={name:"ɵɵDirectiveDefWithMeta",moduleName:Ui},co.InjectorDef={name:"ɵɵInjectorDef",moduleName:Ui},co.defineInjector={name:"ɵɵdefineInjector",moduleName:Ui},co.NgModuleDefWithMeta={name:"ɵɵNgModuleDefWithMeta",moduleName:Ui},co.defineNgModule={name:"ɵɵdefineNgModule",moduleName:Ui},co.setNgModuleScope={name:"ɵɵsetNgModuleScope",moduleName:Ui},co.PipeDefWithMeta={name:"ɵɵPipeDefWithMeta",moduleName:Ui},co.definePipe={name:"ɵɵdefinePipe",moduleName:Ui},co.queryRefresh={name:"ɵɵqueryRefresh",moduleName:Ui},co.viewQuery={name:"ɵɵviewQuery",moduleName:Ui},co.staticViewQuery={name:"ɵɵstaticViewQuery",moduleName:Ui},co.staticContentQuery={name:"ɵɵstaticContentQuery",moduleName:Ui},co.loadViewQuery={name:"ɵɵloadViewQuery",moduleName:Ui},co.contentQuery={name:"ɵɵcontentQuery",moduleName:Ui},co.loadContentQuery={name:"ɵɵloadContentQuery",moduleName:Ui},co.NgOnChangesFeature={name:"ɵɵNgOnChangesFeature",moduleName:Ui},co.InheritDefinitionFeature={name:"ɵɵInheritDefinitionFeature",moduleName:Ui},co.ProvidersFeature={name:"ɵɵProvidersFeature",moduleName:Ui},co.listener={name:"ɵɵlistener",moduleName:Ui},co.getFactoryOf={name:"ɵɵgetFactoryOf",moduleName:Ui},co.getInheritedFactory={name:"ɵɵgetInheritedFactory",moduleName:Ui},co.registerNgModuleType={name:"ɵregisterNgModuleType",moduleName:Ui},co.sanitizeHtml={name:"ɵɵsanitizeHtml",moduleName:Ui},co.sanitizeStyle={name:"ɵɵsanitizeStyle",moduleName:Ui},co.defaultStyleSanitizer={name:"ɵɵdefaultStyleSanitizer",moduleName:Ui},co.sanitizeResourceUrl={name:"ɵɵsanitizeResourceUrl",moduleName:Ui},co.sanitizeScript={name:"ɵɵsanitizeScript",moduleName:Ui},co.sanitizeUrl={name:"ɵɵsanitizeUrl",moduleName:Ui},co.sanitizeUrlOrResourceUrl={name:"ɵɵsanitizeUrlOrResourceUrl",moduleName:Ui},co),qi=(lo.prototype.visit=function(e){return e.visitText(this)},lo),Wi=(po.prototype.visit=function(e){return e.visitBoundText(this)},po),zi=(uo.prototype.visit=function(e){return e.visitTextAttribute(this)},uo),Ki=(ao.fromBoundElementProperty=function(e,t){return new ao(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,t)},ao.prototype.visit=function(e){return e.visitBoundAttribute(this)},ao),Qi=(so.fromParsedEvent=function(e){return new so(e.name,e.type,e.handler,0===e.type?e.targetOrPhase:null,1===e.type?e.targetOrPhase:null,e.sourceSpan,e.handlerSpan)},so.prototype.visit=function(e){return e.visitBoundEvent(this)},so),Xi=(oo.prototype.visit=function(e){return e.visitElement(this)},oo),Gi=(io.prototype.visit=function(e){return e.visitTemplate(this)},io),$i=(ro.prototype.visit=function(e){return e.visitContent(this)},ro),Yi=(no.prototype.visit=function(e){return e.visitVariable(this)},no),Ji=(to.prototype.visit=function(e){return e.visitReference(this)},to),Zi=(eo.prototype.visit=function(e){return e.visitIcu(this)},eo);function eo(e,t,n,r){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=r}function to(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function no(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function ro(e,t,n,r){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=r}function io(e,t,n,r,i,o,s,a,u,p,l,c){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=r,this.templateAttrs=i,this.children=o,this.references=s,this.variables=a,this.sourceSpan=u,this.startSourceSpan=p,this.endSourceSpan=l,this.i18n=c}function oo(e,t,n,r,i,o,s,a,u,p){this.name=e,this.attributes=t,this.inputs=n,this.outputs=r,this.children=i,this.references=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=u,this.i18n=p,0===i.length&&a&&u&&(this.sourceSpan=d({},s,{end:u.end}))}function so(e,t,n,r,i,o,s){this.name=e,this.type=t,this.handler=n,this.target=r,this.phase=i,this.sourceSpan=o,this.handlerSpan=s}function ao(e,t,n,r,i,o,s){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o,this.i18n=s}function uo(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}function po(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}function lo(e,t){this.value=e,this.sourceSpan=t}function co(){}function ho(e,t){var n,r,i,o,s=[];if(e.visit)try{for(var a=U(t),u=a.next();!u.done;u=a.next())var p=e.visit(h=u.value)||h.visit(e)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}else try{for(var l=U(t),c=l.next();!c.done;c=l.next()){var h;(p=(h=c.value).visit(e))&&s.push(p)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s}var fo=function(e,t,n,r,i,o){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=o,this.sources=e.length?[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:[]},vo=(Ao.prototype.visit=function(e,t){return e.visitText(this,t)},Ao),mo=(Mo.prototype.visit=function(e,t){return e.visitContainer(this,t)},Mo),yo=(No.prototype.visit=function(e,t){return e.visitIcu(this,t)},No),go=(Po.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},Po),_o=(To.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},To),Eo=(bo.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},bo),So=(Co.prototype.visitText=function(e,t){return new vo(e.value,e.sourceSpan)},Co.prototype.visitContainer=function(e,t){var n=this,r=e.children.map(function(e){return e.visit(n,t)});return new mo(r,e.sourceSpan)},Co.prototype.visitIcu=function(t,n){var r=this,i={};Object.keys(t.cases).forEach(function(e){return i[e]=t.cases[e].visit(r,n)});var e=new yo(t.expression,t.type,i,t.sourceSpan);return e.expressionPlaceholder=t.expressionPlaceholder,e},Co.prototype.visitTagPlaceholder=function(e,t){var n=this,r=e.children.map(function(e){return e.visit(n,t)});return new go(e.tag,e.attrs,e.startName,e.closeName,r,e.isVoid,e.sourceSpan)},Co.prototype.visitPlaceholder=function(e,t){return new _o(e.value,e.name,e.sourceSpan)},Co.prototype.visitIcuPlaceholder=function(e,t){return new Eo(e.value,e.name,e.sourceSpan)},Co),xo=(wo.prototype.visitText=function(e,t){},wo.prototype.visitContainer=function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n)})},wo.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},wo.prototype.visitTagPlaceholder=function(e,t){var n=this;e.children.forEach(function(e){return e.visit(n)})},wo.prototype.visitPlaceholder=function(e,t){},wo.prototype.visitIcuPlaceholder=function(e,t){},wo);function wo(){}function Co(){}function bo(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}function To(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}function Po(e,t,n,r,i,o,s){this.tag=e,this.attrs=t,this.startName=n,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=s}function No(e,t,n,r){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=r}function Mo(e,t){this.children=e,this.sourceSpan=t}function Ao(e,t){this.value=e,this.sourceSpan=t}function Io(e){return e.id||function(e){var t,n,r,i,o,s,a=Lr(e),u=function(e,t){for(var n=Array(e.length+3>>>2),r=0;r<n.length;r++)n[r]=Go(e,4*r,t);return n}(a,Ro.Big),p=8*a.length,l=new Array(80),c=k([1732584193,4023233417,2562383102,271733878,3285377520],5),h=c[0],f=c[1],d=c[2],v=c[3],m=c[4];u[p>>5]|=128<<24-p%32,u[15+(64+p>>9<<4)]=p;for(var y=0;y<u.length;y+=16){for(var g=k([h,f,d,v,m],5),_=g[0],E=g[1],S=g[2],x=g[3],w=g[4],C=0;C<80;C++){l[C]=C<16?u[y+C]:Qo(l[C-3]^l[C-8]^l[C-14]^l[C-16],1);var b=k((i=f,o=d,s=v,(r=C)<20?[i&o|~i&s,1518500249]:r<40?[i^o^s,1859775393]:r<60?[i&o|i&s|o&s,2400959708]:[i^o^s,3395469782]),2),T=b[0],P=b[1],N=[Qo(h,5),T,m,P,l[C]].reduce(Wo);m=(t=k([v,d,Qo(f,30),h,N],5))[0],v=t[1],d=t[2],f=t[3],h=t[4]}h=(n=k([Wo(h,_),Wo(f,E),Wo(d,S),Wo(v,x),Wo(m,w)],5))[0],f=n[1],d=n[2],v=n[3],m=n[4]}return function(e){for(var t="",n=0;n<e.length;n++){var r=Xo(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}($o([h,f,d,v,m]))}(e.nodes.map(function(e){return e.visit(Lo,null)}).join("")+"["+e.meaning+"]")}function ko(e){if(e.id)return e.id;var t=new Bo;return function(e,t){var n,r,i,o,s,a,u,p,l,c,h,f,d,v,m=k(Uo(e),2),y=m[0],g=m[1];if(t){var _=k(Uo(t),2),E=_[0],S=_[1];y=(n=k((h=1,f=k([y,g],2),d=f[0],v=f[1],r=[E,S],i=k([d<<h|v>>>32-h,v<<h|d>>>32-h],2),o=i[0],s=i[1],a=k(r,2),u=a[0],p=k(zo(s,a[1]),2),l=p[0],c=p[1],[Wo(Wo(o,u),l),c]),2))[0],g=n[1]}return function(e){for(var t="",n="1",r=e.length-1;0<=r;r--)t=Yo(t,Jo(Xo(e,r),n)),n=Jo(256,n);return t.split("").reverse().join("")}($o([2147483647&y,g]))}(e.nodes.map(function(e){return e.visit(t,null)}).join(""),e.meaning)}var Ro,Oo,Do,Fo=(jo.prototype.visitText=function(e,t){return e.value},jo.prototype.visitContainer=function(e,t){var n=this;return"["+e.children.map(function(e){return e.visit(n)}).join(", ")+"]"},jo.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},jo.prototype.visitTagPlaceholder=function(e,t){var n=this;return e.isVoid?'<ph tag name="'+e.startName+'"/>':'<ph tag name="'+e.startName+'">'+e.children.map(function(e){return e.visit(n)}).join(", ")+'</ph name="'+e.closeName+'">'},jo.prototype.visitPlaceholder=function(e,t){return e.value?'<ph name="'+e.name+'">'+e.value+"</ph>":'<ph name="'+e.name+'"/>'},jo.prototype.visitIcuPlaceholder=function(e,t){return'<ph icu name="'+e.name+'">'+e.value.visit(this)+"</ph>"},jo),Lo=new Fo,Bo=(a(Vo,Oo=Fo),Vo.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+r.join(", ")+"}"},Vo);function Vo(){return null!==Oo&&Oo.apply(this,arguments)||this}function jo(){}function Uo(e){var t=Lr(e),n=k([Ho(t,0),Ho(t,102072)],2),r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}function Ho(e,t){var n,r,i=k([2654435769,2654435769],2),o=i[0],s=i[1],a=e.length;for(r=0;r+12<=a;r+=12)o=(n=k(qo([o=Wo(o,Go(e,r,Ro.Little)),s=Wo(s,Go(e,r+4,Ro.Little)),t=Wo(t,Go(e,r+8,Ro.Little))]),3))[0],s=n[1],t=n[2];return qo([o=Wo(o,Go(e,r,Ro.Little)),s=Wo(s,Go(e,r+4,Ro.Little)),t=Wo(t=Wo(t,a),Go(e,r+8,Ro.Little)<<8)])[2]}function qo(e){var t=k(e,3),n=t[0],r=t[1],i=t[2];return n=Ko(n=Ko(n,r),i),n^=i>>>13,r=Ko(r=Ko(r,i),n),r^=n<<8,i=Ko(i=Ko(i,n),r),i^=r>>>13,n=Ko(n=Ko(n,r),i),n^=i>>>12,r=Ko(r=Ko(r,i),n),r^=n<<16,i=Ko(i=Ko(i,n),r),i^=r>>>5,n=Ko(n=Ko(n,r),i),n^=i>>>3,r=Ko(r=Ko(r,i),n),r^=n<<10,i=Ko(i=Ko(i,n),r),[n,r,i^=r>>>15]}function Wo(e,t){return zo(e,t)[1]}function zo(e,t){var n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function Ko(e,t){var n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function Qo(e,t){return e<<t|e>>>32-t}function Xo(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function Go(e,t,n){var r=0;if(n===Ro.Big)for(var i=0;i<4;i++)r+=Xo(e,t+i)<<24-8*i;else for(i=0;i<4;i++)r+=Xo(e,t+i)<<8*i;return r}function $o(e){return e.reduce(function(e,t){return e+function(e){for(var t="",n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t)},"")}function Yo(e,t){for(var n="",r=Math.max(e.length,t.length),i=0,o=0;i<r||o;i++){var s=o+ +(e[i]||0)+ +(t[i]||0);10<=s?(o=1,n+=s-10):(o=0,n+=s)}return n}function Jo(e,t){for(var n="",r=t;0!==e;e>>>=1)1&e&&(n=Yo(n,r)),r=Yo(r,r);return n}(Do=Ro=Ro||{})[Do.Little=0]="Little",Do[Do.Big=1]="Big";var Zo,es=(os.prototype.createNameMapper=function(e){return null},os),ts=(a(is,Zo=xo),is.prototype.toPublicName=function(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null},is.prototype.toInternalName=function(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null},is.prototype.visitText=function(e,t){return null},is.prototype.visitTagPlaceholder=function(e,t){this.visitPlaceholderName(e.startName),Zo.prototype.visitTagPlaceholder.call(this,e,t),this.visitPlaceholderName(e.closeName)},is.prototype.visitPlaceholder=function(e,t){this.visitPlaceholderName(e.name)},is.prototype.visitIcuPlaceholder=function(e,t){this.visitPlaceholderName(e.name)},is.prototype.visitPlaceholderName=function(e){if(e&&!this.internalToPublic.hasOwnProperty(e)){var t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){var n=this.publicToNextId[t];this.publicToNextId[t]=n+1,t=t+"_"+n}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}},is),ns=(rs.prototype.visitTag=function(e){var t=this,n=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+n+"/>";var r=e.children.map(function(e){return e.visit(t)});return"<"+e.name+n+">"+r.join("")+"</"+e.name+">"},rs.prototype.visitText=function(e){return e.value},rs.prototype.visitDeclaration=function(e){return"<?xml"+this._serializeAttributes(e.attrs)+" ?>"},rs.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return 0<e.length?" "+e:""},rs.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},new rs);function rs(){}function is(e,t){var n=Zo.call(this)||this;return n.mapName=t,n.internalToPublic={},n.publicToNextId={},n.publicToInternal={},e.nodes.forEach(function(e){return e.visit(n)}),n}function os(){}function ss(e){return e.map(function(e){return e.visit(ns)}).join("")}var as,us=(gs.prototype.visit=function(e){return e.visitDeclaration(this)},gs),ps=(ys.prototype.visit=function(e){return e.visitDoctype(this)},ys),ls=(ms.prototype.visit=function(e){return e.visitTag(this)},ms),cs=(vs.prototype.visit=function(e){return e.visitText(this)},vs),hs=(a(ds,as=cs),ds),fs=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function ds(e){return void 0===e&&(e=0),as.call(this,"\n"+new Array(e+1).join(" "))||this}function vs(e){this.value=_s(e)}function ms(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=[]),this.name=e,this.children=n,this.attrs={},Object.keys(t).forEach(function(e){r.attrs[e]=_s(t[e])})}function ys(e,t){this.rootTag=e,this.dtd=t}function gs(t){var n=this;this.attrs={},Object.keys(t).forEach(function(e){n.attrs[e]=_s(t[e])})}function _s(e){return fs.reduce(function(e,t){return e.replace(t[0],t[1])},e)}var Es,Ss=(a(Cs,Es=es),Cs.prototype.write=function(e,t){var n=new Ts,r=new xs,i=new ls("messagebundle");return e.forEach(function(e){var t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);var n=[];e.sources.forEach(function(e){n.push(new ls("source",{},[new cs(e.filePath+":"+e.startLine+(e.endLine!==e.startLine?","+e.endLine:""))]))}),i.children.push(new hs(2),new ls("msg",t,H(n,r.serialize(e.nodes))))}),i.children.push(new hs),ss([new us({version:"1.0",encoding:"UTF-8"}),new hs,new ps("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new hs,n.addDefaultExamples(i),new hs])},Cs.prototype.load=function(e,t){throw new Error("Unsupported")},Cs.prototype.digest=function(e){return bs(e)},Cs.prototype.createNameMapper=function(e){return new ts(e,Ns)},Cs),xs=(ws.prototype.visitText=function(e,t){return[new cs(e.value)]},ws.prototype.visitContainer=function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,H(e.visit(n)))}),r},ws.prototype.visitIcu=function(t,e){var n=this,r=[new cs("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,H([new cs(e+" {")],t.cases[e].visit(n),[new cs("} ")]))}),r.push(new cs("}")),r},ws.prototype.visitTagPlaceholder=function(e,t){var n=new cs("<"+e.tag+">"),r=new ls("ex",{},[n]),i=new ls("ph",{name:e.startName},[r,n]);if(e.isVoid)return[i];var o=new cs("</"+e.tag+">"),s=new ls("ex",{},[o]),a=new ls("ph",{name:e.closeName},[s,o]);return H([i],this.serialize(e.children),[a])},ws.prototype.visitPlaceholder=function(e,t){var n=new cs("{{"+e.value+"}}"),r=new ls("ex",{},[n]);return[new ls("ph",{name:e.name},[r,n])]},ws.prototype.visitIcuPlaceholder=function(e,t){var n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),o=new cs("{"+n+", "+r+", "+i+"}"),s=new ls("ex",{},[o]);return[new ls("ph",{name:e.name},[s,o])]},ws.prototype.serialize=function(e){var t=this;return[].concat.apply([],H(e.map(function(e){return e.visit(t)})))},ws);function ws(){}function Cs(){return null!==Es&&Es.apply(this,arguments)||this}function bs(e){return ko(e)}var Ts=(Ps.prototype.addDefaultExamples=function(e){return e.visit(this),e},Ps.prototype.visitTag=function(e){var t=this;if("ph"===e.name){if(!e.children||0==e.children.length){var n=new cs(e.attrs.name||"...");e.children=[new ls("ex",{},[n])]}}else e.children&&e.children.forEach(function(e){return e.visit(t)})},Ps.prototype.visitText=function(e){},Ps.prototype.visitDeclaration=function(e){},Ps.prototype.visitDoctype=function(e){},Ps);function Ps(){}function Ns(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function Ms(t,n){return void 0===n&&(n=!1),vr(Object.keys(t).map(function(e){return{key:e,quoted:n,value:t[e]}}))}var As="i18n",Is="i18n-",ks="�";function Rs(e){return e===As||e.startsWith(Is)}function Os(e){return e instanceof fo}function Ds(e){return Os(e)&&1===e.nodes.length&&e.nodes[0]instanceof yo}function Fs(e,t){return void 0===t&&(t=null),{id:"string"==typeof t?t:e.id||"",meaning:e.meaning||"",description:e.description||""}}function Ls(e){return e.nodes[0]}function Bs(e,t){return void 0===t&&(t=0),""+ks+e+(0<t?":"+t:"")+ks}function Vs(e){var n={};return e.forEach(function(e,t){n[t]=gr(1<e.length?"["+e.join("|")+"]":e[0])}),n}function js(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e.get(t)||[];i.push.apply(i,H(n)),e.set(t,i)}function Us(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var i=t,o=new Map,n=e instanceof fo?e.nodes.find(function(e){return e instanceof mo}):e;return n&&n.children.filter(function(e){return e instanceof _o}).forEach(function(e,t){var n=Bs(i+t,r);js(o,e.name,n)}),o}function Hs(e){var t,n=Ns(e).split("_");if(1===n.length)return e.toLowerCase();/^\d+$/.test(n[n.length-1])&&(t=n.pop());var r=n.shift().toLowerCase();return n.length&&(r+=n.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join("")),t?r+"_"+t:r}function qs(e){return("MSG_"+e).toUpperCase()}var Ws=/-/,zs="_t",Ks="ctx",Qs="rf";function Xs(e,t){var n=null;return function(){return n||(e.push(new _n(zs,void 0,we)),n=lr(t)),n}}function Gs(e){if(this)throw new Error("Builder "+this.constructor.name+" doesn't support "+e+" yet");throw new Error("Feature "+e+" is not supported yet")}function $s(e){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+e.constructor.name)}function Ys(e){return Array.isArray(e)?dr(e.map(Ys)):gr(e,Ce)}function Js(e,t){return 0<Object.getOwnPropertyNames(e).length?(a=e,u=t,vr(Object.getOwnPropertyNames(a).map(function(e){var t,n,r,i,o,s=a[e];return Array.isArray(s)?(i=(t=k(s,2))[0],r=t[1]):(r=(n=k(Sr(e,[e,s]),2))[0],i=n[1]),{key:o=r,quoted:Ws.test(o),value:u&&i!==r?dr([Ys(i),Ys(r)]):Ys(i)}}))):null;var a,u}function Zs(e){for(;(t=e[e.length-1])instanceof wt&&null===t.value;)e.pop();var t;return e}var ea,ta,na,ra=(ia.prototype.set=function(e,t){t&&this.values.push({key:e,value:t,quoted:!1})},ia.prototype.toLiteralMap=function(){return vr(this.values)},ia);function ia(){this.values=[]}function oa(e){var t={};return e instanceof Gi&&"ng-template"!==e.tagName?e.templateAttrs.forEach(function(e){return t[e.name]=""}):(e.attributes.forEach(function(e){Rs(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(function(e){t[e.name]=""}),e.outputs.forEach(function(e){t[e.name]=""})),t}function sa(r){var i=lr("t"),e=[],t=pa(r)?i:new It(x.BinaryOperator.Or,i,r.type),n=null;if(null!==r.deps)"invalid"!==r.deps&&(n=new xt(t,aa(r.deps,r.injectFn)));else{var o=lr("ɵ"+r.name+"_BaseFactory"),s=cr(Hi.getInheritedFactory),a=o.set(s.callFn([r.type])).toDeclStmt(Ce,[x.StmtModifier.Exported,x.StmtModifier.Final]);e.push(a),n=o.callFn([t])}var u=n,p=[],l=null;function c(e){var t,n=lr("r");return p.push(n.set(Bt).toDeclStmt()),t=null!==u?n.set(u).toStmt():ua(r.name),p.push(yr(i,[t],[n.set(e).toStmt()])),n}if(pa(r)&&r.delegateType===ea.Factory){var h=lr("ɵ"+r.name+"_BaseFactory"),f=cr(Hi.getFactoryOf);if(r.delegate.isEquivalent(r.type))throw new Error("Illegal state: compiling factory that delegates to itself");var d=h.set(f.callFn([r.delegate])).toDeclStmt(Ce,[x.StmtModifier.Exported,x.StmtModifier.Final]);e.push(d),l=c(h.callFn([]))}else if(pa(r)){var v=aa(r.delegateDeps,r.injectFn);l=c(new(r.delegateType===ea.Class?xt:St)(r.delegate,v))}else l=void 0!==r.expression?c(r.expression):n;return p.push(null!==l?new xn(l):ua(r.name)),{factory:mr([new Mt("t",we)],p,Ce,void 0,r.name+"_Factory"),statements:e}}function aa(e,t){return e.map(function(e){return function(e,t){switch(e.resolved){case x.R3ResolvedDependencyType.Token:var n=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0),r=[e.token];return 0==n&&!e.optional||r.push(gr(n)),cr(t).callFn(r);case x.R3ResolvedDependencyType.Attribute:return cr(Hi.injectAttribute).callFn([e.token]);default:return Gs("Unknown R3ResolvedDependencyType: "+x.R3ResolvedDependencyType[e.resolved])}}(e,t)})}function ua(e){return new kn(new xt(new We("Error"),[gr(e+" has a constructor which is not compatible with Dependency Injection. It should probably not be @Injectable().")]))}function pa(e){return void 0!==e.delegateType}function la(t){return vr(Object.keys(t).map(function(e){return{key:e,value:t[e],quoted:!1}}))}function ca(e,t){if(Array.isArray(e))return dr(e.map(function(e){return ca(e,t)}));if(e instanceof si)return t.importExpr(e);if(null==e)return gr(e);throw new Error("Internal error: Unsupported or unknown metadata: "+e)}function ha(e,t){var n=null;if(0<t){n=[];for(var r=0;r<t;r++)n.push(we)}return fr(e,null,n)}(na=ea=ea||{})[na.Class=0]="Class",na[na.Function=1]="Function",na[na.Factory=2]="Factory",(ta=x.R3ResolvedDependencyType||(x.R3ResolvedDependencyType={}))[ta.Token=0]="Token",ta[ta.Attribute=1]="Attribute";var fa="@";function da(e){return""+fa+e}function va(e,t){return"animation_"+e+"_"+t}function ma(e){var t=null,n={name:e.name,type:e.type,deps:e.ctorDeps,injectFn:ni.inject};if(void 0!==e.useClass){var r=e.useClass.isEquivalent(e.type),i=void 0;void 0!==e.userDeps&&(i=e.userDeps),t=sa(void 0!==i?d({},n,{delegate:e.useClass,delegateDeps:i,delegateType:ea.Class}):r?n:d({},n,{delegate:e.useClass,delegateType:ea.Factory}))}else t=sa(void 0!==e.useFactory?d({},n,{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:ea.Function}):void 0!==e.useValue?d({},n,{expression:e.useValue}):void 0!==e.useExisting?d({},n,{expression:cr(ni.inject).callFn([e.useExisting])}):n);var o=e.type,s=e.providedIn;return{expression:cr(ni.ɵɵdefineInjectable).callFn([la({token:o,factory:t.factory,providedIn:s})]),type:new Ee(cr(ni.InjectableDef,[ha(e.type,e.typeArgumentCount)])),statements:t.statements}}function ya(e,t){if(null!=t){if(!Array.isArray(t))throw new Error("Expected '"+e+"' to be an array of strings.");for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error("Expected '"+e+"' to be an array of strings.")}}var ga=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function _a(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");if(null!=t){var n=t[0],r=t[1];ga.forEach(function(e){if(e.test(n)||e.test(r))throw new Error("['"+n+"', '"+r+"'] contains unusable interpolation symbol.")})}}var Ea=(Ca.fromArray=function(e){return e?(_a("interpolation",e),new Ca(e[0],e[1])):Sa},Ca),Sa=new Ea("{{","}}"),xa=(wa.prototype.addSource=function(e,t){return void 0===t&&(t=null),this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this},wa.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},wa.prototype.addMapping=function(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error('Unknown source file "'+t+'"');if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this},Object.defineProperty(wa.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),wa.prototype.toJSON=function(){var n=this;if(!this.hasMappings)return null;var r=new Map,i=[],o=[];Array.from(this.sourcesContent.keys()).forEach(function(e,t){r.set(e,t),i.push(e),o.push(n.sourcesContent.get(e)||null)});var t="",s=0,a=0,u=0,p=0;return this.lines.forEach(function(e){s=0,t+=e.map(function(e){var t=ba(e.col0-s);return s=e.col0,null!=e.sourceUrl&&(t+=ba(r.get(e.sourceUrl)-a),a=r.get(e.sourceUrl),t+=ba(e.sourceLine0-u),u=e.sourceLine0,t+=ba(e.sourceCol0-p),p=e.sourceCol0),t}).join(","),t+=";"}),t=t.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:i,sourcesContent:o,mappings:t}},wa.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){var t="";e=Lr(e);for(var n=0;n<e.length;){var r=e.charCodeAt(n++),i=e.charCodeAt(n++),o=e.charCodeAt(n++);t+=Pa(r>>2),t+=Pa((3&r)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":Pa((15&i)<<2|o>>6),t+=isNaN(i)||isNaN(o)?"=":Pa(63&o)}return t}(JSON.stringify(this,null,0)):""},wa);function wa(e){void 0===e&&(e=null),this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}function Ca(e,t){this.start=e,this.end=t}function ba(e){e=e<0?1+(-e<<1):e<<1;var t="";do{var n=31&e;0<(e>>=5)&&(n|=32),t+=Pa(n)}while(0<e);return t}var Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Pa(e){if(e<0||64<=e)throw new Error("Can only encode value in the range [0, 63]");return Ta[e]}function Na(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}var Ma=/'|\\|\n|\r|\$/g,Aa=/^[$A-Z_][0-9A-Z_$]*$/i,Ia=lr("error",null,null),ka=lr("stack",null,null),Ra=(Fa.createRoot=function(){return new Fa(0)},Object.defineProperty(Fa.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),Fa.prototype.println=function(e,t){void 0===t&&(t=""),this.print(e||null,t,!0)},Fa.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},Fa.prototype.lineLength=function(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength},Fa.prototype.print=function(e,t,n){void 0===n&&(n=!1),0<t.length&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new Na(this._indent))},Fa.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},Fa.prototype.incIndent=function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},Fa.prototype.decIndent=function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},Fa.prototype.pushClass=function(e){this._classes.push(e)},Fa.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(Fa.prototype,"currentClass",{get:function(){return 0<this._classes.length?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),Fa.prototype.toSource=function(){return this.sourceLines.map(function(e){return 0<e.parts.length?Ba(e.indent)+e.parts.join(""):""}).join("\n")},Fa.prototype.toSourceMapGenerator=function(e,t){void 0===t&&(t=0);for(var l=new xa(e),c=!1,h=function(){c||(l.addSource(e," ").addMapping(0,e,0,0),c=!0)},n=0;n<t;n++)l.addLine(),h();return this.sourceLines.forEach(function(e,t){l.addLine();for(var n=e.srcSpans,r=e.parts,i=e.indent*"  ".length,o=0;o<n.length&&!n[o];)i+=r[o].length,o++;for(o<n.length&&0===t&&0===i?c=!0:h();o<n.length;){var s=n[o],a=s.start.file,u=s.start.line,p=s.start.col;for(l.addSource(a.url,a.content).addMapping(i,a.url,u,p),i+=r[o].length,o++;o<n.length&&(s===n[o]||!n[o]);)i+=r[o].length,o++}}),l},Fa.prototype.setPreambleLineCount=function(e){return this._preambleLineCount=e},Fa.prototype.spanOf=function(e,t){var n=this._lines[e-this._preambleLineCount];if(n)for(var r=t-Ba(n.indent).length,i=0;i<n.parts.length;i++){var o=n.parts[i];if(o.length>r)return n.srcSpans[i];r-=o.length}return null},Object.defineProperty(Fa.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),Fa),Oa=(Da.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null},Da.prototype.visitReturnStmt=function(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null},Da.prototype.visitIfStmt=function(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");var n=null!=e.falseCase&&0<e.falseCase.length;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null},Da.prototype.visitThrowStmt=function(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null},Da.prototype.visitCommentStmt=function(t,n){return t.multiline?n.println(t,"/* "+t.comment+" */"):t.comment.split("\n").forEach(function(e){n.println(t,"// "+e)}),null},Da.prototype.visitJSDocCommentStmt=function(e,t){return t.println(e,"/*"+e.toString()+"*/"),null},Da.prototype.visitWriteVarExpr=function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,e.name+" = "),e.value.visitExpression(this,t),n||t.print(e,")"),null},Da.prototype.visitWriteKeyExpr=function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null},Da.prototype.visitWritePropExpr=function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"."+e.name+" = "),e.value.visitExpression(this,t),n||t.print(e,")"),null},Da.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))||(t.print(e,"."+n+"("),this.visitAllExpressions(e.args,t,","),t.print(e,")")),null},Da.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},Da.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")},Da.prototype.visitTypeofExpr=function(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)},Da.prototype.visitReadVarExpr=function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case x.BuiltinVar.Super:n="super";break;case x.BuiltinVar.This:n="this";break;case x.BuiltinVar.CatchError:n=Ia.name;break;case x.BuiltinVar.CatchStack:n=ka.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(e,n),null},Da.prototype.visitInstantiateExpr=function(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},Da.prototype.visitLiteralExpr=function(e,t){var n=e.value;return t.print(e,"string"==typeof n?La(n,this._escapeDollarInStrings):""+n),null},Da.prototype.visitConditionalExpr=function(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null},Da.prototype.visitNotExpr=function(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null},Da.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t),null},Da.prototype.visitBinaryOperatorExpr=function(e,t){var n;switch(e.operator){case x.BinaryOperator.Equals:n="==";break;case x.BinaryOperator.Identical:n="===";break;case x.BinaryOperator.NotEquals:n="!=";break;case x.BinaryOperator.NotIdentical:n="!==";break;case x.BinaryOperator.And:n="&&";break;case x.BinaryOperator.BitwiseAnd:n="&";break;case x.BinaryOperator.Or:n="||";break;case x.BinaryOperator.Plus:n="+";break;case x.BinaryOperator.Minus:n="-";break;case x.BinaryOperator.Divide:n="/";break;case x.BinaryOperator.Multiply:n="*";break;case x.BinaryOperator.Modulo:n="%";break;case x.BinaryOperator.Lower:n="<";break;case x.BinaryOperator.LowerEquals:n="<=";break;case x.BinaryOperator.Bigger:n=">";break;case x.BinaryOperator.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+e.operator)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e," "+n+" "),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null},Da.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null},Da.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null},Da.prototype.visitLiteralArrayExpr=function(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null},Da.prototype.visitLiteralMapExpr=function(t,n){var r=this;return n.print(t,"{"),this.visitAllObjects(function(e){n.print(t,La(e.key,r._escapeDollarInStrings,e.quoted)+":"),e.value.visitExpression(r,n)},t.entries,n,","),n.print(t,"}"),null},Da.prototype.visitCommaExpr=function(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null},Da.prototype.visitAllExpressions=function(e,t,n){var r=this;this.visitAllObjects(function(e){return e.visitExpression(r,t)},e,t,n)},Da.prototype.visitAllObjects=function(e,t,n,r){for(var i=!1,o=0;o<t.length;o++)0<o&&(80<n.lineLength()?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[o]);i&&(n.decIndent(),n.decIndent())},Da.prototype.visitAllStatements=function(e,t){var n=this;e.forEach(function(e){return e.visitStatement(n,t)})},Da);function Da(e){this._escapeDollarInStrings=e}function Fa(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new Na(e)]}function La(e,n,t){if(void 0===t&&(t=!0),null==e)return null;var r=e.replace(Ma,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"$"==e[0]?n?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]});return t||!Aa.test(r)?"'"+r+"'":r}function Ba(e){for(var t="",n=0;n<e;n++)t+="  ";return t}var Va,ja,Ua=(a(yu,ja=Oa),yu.prototype.visitDeclareClassStmt=function(t,n){var r=this;return n.pushClass(t),this._visitClassConstructor(t,n),null!=t.parent&&(n.print(t,t.name+".prototype = Object.create("),t.parent.visitExpression(this,n),n.println(t,".prototype);")),t.getters.forEach(function(e){return r._visitClassGetter(t,e,n)}),t.methods.forEach(function(e){return r._visitClassMethod(t,e,n)}),n.popClass(),null},yu.prototype._visitClassConstructor=function(e,t){t.print(e,"function "+e.name+"("),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&0<e.constructorMethod.body.length&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")},yu.prototype._visitClassGetter=function(e,t,n){n.println(e,"Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),n.incIndent(),0<t.body.length&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")},yu.prototype._visitClassMethod=function(e,t,n){n.print(e,e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),0<t.body.length&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")},yu.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")},yu.prototype.visitReadVarExpr=function(e,t){if(e.builtin===x.BuiltinVar.This)t.print(e,"self");else{if(e.builtin===x.BuiltinVar.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");ja.prototype.visitReadVarExpr.call(this,e,t)}return null},yu.prototype.visitDeclareVarStmt=function(e,t){return t.print(e,"var "+e.name),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null},yu.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},yu.prototype.visitInvokeFunctionExpr=function(e,t){var n=e.fn;return n instanceof We&&n.builtin===x.BuiltinVar.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),0<e.args.length&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):ja.prototype.visitInvokeFunctionExpr.call(this,e,t),null},yu.prototype.visitFunctionExpr=function(e,t){return t.print(e,"function"+(e.name?" "+e.name:"")+"("),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null},yu.prototype.visitDeclareFunctionStmt=function(e,t){return t.print(e,"function "+e.name+"("),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null},yu.prototype.visitTryCatchStmt=function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch ("+Ia.name+") {"),t.incIndent();var n=[ka.set(Ia.prop("stack")).toDeclStmt(null,[x.StmtModifier.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null},yu.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(null,e.name)},e,t,",")},yu.prototype.getBuiltinMethodName=function(e){var t;switch(e){case x.BuiltinMethod.ConcatArray:t="concat";break;case x.BuiltinMethod.SubscribeObservable:t="subscribe";break;case x.BuiltinMethod.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},yu),Ha=(mu.prototype.evaluateStatements=function(e,t,n,r){var i=new qa(n),o=Ra.createRoot();return 0<t.length&&!t[0].isEquivalent(gr("use strict").toStmt())&&(t=H([gr("use strict").toStmt()],t)),i.visitAllStatements(t,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),r)},mu.prototype.evaluateCode=function(e,t,n,r){var i=t.toSource()+"\n//# sourceURL="+e,o=[],s=[];for(var a in n)s.push(n[a]),o.push(a);if(r){var u=(new(Function.bind.apply(Function,H([void 0],o.concat("return null;"))))).toString(),p=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n"+t.toSourceMapGenerator(e,p).toJsComment()}var l=new(Function.bind.apply(Function,H([void 0],o.concat(i))));return this.executeFunction(l,s)},mu.prototype.executeFunction=function(e,t){return e.apply(void 0,H(t))},mu),qa=(a(vu,Va=Ua),vu.prototype.createReturnStmt=function(e){new xn(new Ft(this._evalExportedVars.map(function(e){return new Dt(e,lr(e),!1)}))).visitStatement(this,e)},vu.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},vu.prototype.visitExternalExpr=function(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null},vu.prototype.visitWrappedNodeExpr=function(e,t){return this._emitReferenceToExternal(e,e.node,t),null},vu.prototype.visitDeclareVarStmt=function(e,t){return e.hasModifier(x.StmtModifier.Exported)&&this._evalExportedVars.push(e.name),Va.prototype.visitDeclareVarStmt.call(this,e,t)},vu.prototype.visitDeclareFunctionStmt=function(e,t){return e.hasModifier(x.StmtModifier.Exported)&&this._evalExportedVars.push(e.name),Va.prototype.visitDeclareFunctionStmt.call(this,e,t)},vu.prototype.visitDeclareClassStmt=function(e,t){return e.hasModifier(x.StmtModifier.Exported)&&this._evalExportedVars.push(e.name),Va.prototype.visitDeclareClassStmt.call(this,e,t)},vu.prototype._emitReferenceToExternal=function(e,t,n){var r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);var i=di({reference:t})||"val";this._evalArgNames.push("jit_"+i+"_"+r)}n.print(e,this._evalArgNames[r])},vu),Wa=9,za=10,Ka=11,Qa=12,Xa=13,Ga=32,$a=34,Ya=36,Ja=39,Za=43,eu=45,tu=48,nu=57,ru=65,iu=90,ou=95,su=97,au=102,uu=110,pu=114,lu=116,cu=118,hu=122,fu=160,du=96;function vu(e){var t=Va.call(this)||this;return t.reflector=e,t._evalArgNames=[],t._evalArgValues=[],t._evalExportedVars=[],t}function mu(){}function yu(){return ja.call(this,!1)||this}function gu(e){return Wa<=e&&e<=Ga||e==fu}function _u(e){return tu<=e&&e<=nu}function Eu(e){return su<=e&&e<=hu||ru<=e&&e<=iu}function Su(e){return e===za||e===Xa}function xu(e){return tu<=e&&e<=55}function wu(e,t){this.content=e,this.url=t}var Cu,bu=(Nu.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},Nu.prototype.moveBy=function(e){for(var t=this.file.content,n=t.length,r=this.offset,i=this.line,o=this.col;0<r&&e<0;)if(e++,(a=t.charCodeAt(--r))==za){i--;var s=t.substr(0,r-1).lastIndexOf(String.fromCharCode(za));o=0<s?r-s:r}else o--;for(;r<n&&0<e;){var a=t.charCodeAt(r);r++,e--,a==za?(i++,o=0):o++}return new Nu(this.file,r,i,o)},Nu.prototype.getContext=function(e,t){var n=this.file.content,r=this.offset;if(null==r)return null;r>n.length-1&&(r=n.length-1);for(var i=r,o=0,s=0;o<e&&0<r&&(o++,"\n"!=n[--r]||++s!=t););for(s=o=0;o<e&&i<n.length-1&&(o++,"\n"!=n[++i]||++s!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}},Nu),Tu=(Pu.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},Pu);function Pu(e,t,n){void 0===n&&(n=null),this.start=e,this.end=t,this.details=n}function Nu(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}(Cu=x.ParseErrorLevel||(x.ParseErrorLevel={}))[Cu.WARNING=0]="WARNING",Cu[Cu.ERROR=1]="ERROR";var Mu=(Au.prototype.contextualMessage=function(){var e=this.span.start.getContext(100,3);return e?this.msg+' ("'+e.before+"["+x.ParseErrorLevel[this.level]+" ->]"+e.after+'")':this.msg},Au.prototype.toString=function(){var e=this.span.details?", "+this.span.details:"";return this.contextualMessage()+": "+this.span.start+e},Au);function Au(e,t,n){void 0===n&&(n=x.ParseErrorLevel.ERROR),this.span=e,this.msg=t,this.level=n}function Iu(e,t){var n=vi(t),r=null!=n?"in "+e+" "+di(t)+" in "+n:"in "+e+" "+di(t),i=new wu("",r);return new Tu(new bu(i,-1,-1,-1),new bu(i,-1,-1,-1))}function ku(e,t,n){var r=new wu("","in "+e+" "+t+" in "+n);return new Tu(new bu(r,-1,-1,-1),new bu(r,-1,-1,-1))}var Ru=(Ou.prototype.resolveExternalReference=function(e){if("@angular/core"!==e.moduleName)throw new Error("Cannot resolve external reference to "+e.moduleName+", only references to @angular/core are supported.");if(!this.context.hasOwnProperty(e.name))throw new Error("No value provided for @angular/core symbol '"+e.name+"'.");return this.context[e.name]},Ou.prototype.parameters=function(e){throw new Error("Not implemented.")},Ou.prototype.annotations=function(e){throw new Error("Not implemented.")},Ou.prototype.shallowAnnotations=function(e){throw new Error("Not implemented.")},Ou.prototype.tryAnnotations=function(e){throw new Error("Not implemented.")},Ou.prototype.propMetadata=function(e){throw new Error("Not implemented.")},Ou.prototype.hasLifecycleHook=function(e,t){throw new Error("Not implemented.")},Ou.prototype.guards=function(e){throw new Error("Not implemented.")},Ou.prototype.componentModuleUrl=function(e,t){throw new Error("Not implemented.")},Ou);function Ou(e){this.context=e}function Du(e){var t,n,r,i,o,s,a,u=e.type,p=e.bootstrap,l=e.declarations,c=e.imports,h=e.exports,f=e.schemas,d=e.containsForwardDecls,v=e.emitInline,m=[],y={type:u};if(p.length&&(y.bootstrap=Bu(p,d)),v)l.length&&(y.declarations=Bu(l,d)),c.length&&(y.imports=Bu(c,d)),h.length&&(y.exports=Bu(h,d));else{var g=(n=(t=e).type,r=t.declarations,i=t.imports,o=t.exports,s=t.containsForwardDecls,a={},r.length&&(a.declarations=Bu(r,s)),i.length&&(a.imports=Bu(i,s)),o.length&&(a.exports=Bu(o,s)),0===Object.keys(a).length?null:new St(cr(Hi.setNgModuleScope),[n,la(a)],void 0,void 0,!0).toStmt());null!==g&&m.push(g)}return f&&f.length&&(y.schemas=dr(f.map(function(e){return e.value}))),{expression:cr(Hi.defineNgModule).callFn([la(y)]),type:new Ee(cr(Hi.NgModuleDefWithMeta,[new Ee(u),Lu(l),Lu(c),Lu(h)])),additionalStatements:m}}function Fu(e){var t=sa({name:e.name,type:e.type,deps:e.deps,injectFn:Hi.inject}),n={factory:t.factory};return null!==e.providers&&(n.providers=e.providers),0<e.imports.length&&(n.imports=dr(e.imports)),{expression:cr(Hi.defineInjector).callFn([la(n)]),type:new Ee(cr(Hi.InjectorDef,[new Ee(e.type)])),statements:t.statements}}function Lu(e){var t=e.map(function(e){return t=e.type,new ze(t);var t});return 0<e.length?fr(dr(t)):Pe}function Bu(e,t){var n=dr(e.map(function(e){return e.value}));return t?mr([],[new xn(n)]):n}function Vu(e){var t=[];t.push({key:"name",value:gr(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type,quoted:!1});var n=sa({name:e.name,type:e.type,deps:e.deps,injectFn:Hi.directiveInject});return t.push({key:"factory",value:n.factory,quoted:!1}),t.push({key:"pure",value:gr(e.pure),quoted:!1}),{expression:cr(Hi.definePipe).callFn([vr(t)]),type:new Ee(cr(Hi.PipeDefWithMeta,[ha(e.type,e.typeArgumentCount),new Ee(new wt(e.pipeName))])),statements:n.statements}}function ju(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+e+" "+n+" ["+t+"] in "+r}function Uu(e,t){this.start=e,this.end=t}function Hu(e,t,n,r,i){this.span=e,this.key=t,this.keyIsVar=n,this.name=r,this.expression=i}function qu(e,t,n,r){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.isLiteral=this.type===x.ParsedPropertyType.LITERAL_ATTR,this.isAnimation=this.type===x.ParsedPropertyType.ANIMATION}var Wu,zu,Ku,Qu,Xu,Gu,$u,Yu,Ju,Zu,ep,tp,np,rp,ip,op,sp,ap,up,pp,lp,cp,hp,fp=(hl.prototype.visit=function(e,t){return void 0===t&&(t=null),null},hl.prototype.toString=function(){return"AST"},hl),dp=(a(cl,hp=fp),cl.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},cl.prototype.toString=function(){return"Quote"},cl),vp=(a(ll,cp=fp),ll.prototype.visit=function(e,t){void 0===t&&(t=null)},ll),mp=(a(pl,lp=fp),pl.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},pl),yp=(a(ul,pp=fp),ul.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},ul),gp=(a(al,up=fp),al.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},al),_p=(a(sl,ap=fp),sl.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},sl),Ep=(a(ol,sp=fp),ol.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},ol),Sp=(a(il,op=fp),il.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},il),xp=(a(rl,ip=fp),rl.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},rl),wp=(a(nl,rp=fp),nl.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},nl),Cp=(a(tl,np=fp),tl.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},tl),bp=(a(el,tp=fp),el.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},el),Tp=(a(Zp,ep=fp),Zp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},Zp),Pp=(a(Jp,Zu=fp),Jp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},Jp),Np=(a(Yp,Ju=fp),Yp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},Yp),Mp=(a($p,Yu=fp),$p.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},$p),Ap=(a(Gp,$u=fp),Gp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},Gp),Ip=(a(Xp,Gu=fp),Xp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitNonNullAssert(this,t)},Xp),kp=(a(Qp,Xu=fp),Qp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},Qp),Rp=(a(Kp,Qu=fp),Kp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},Kp),Op=(a(zp,Ku=fp),zp.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},zp),Dp=(a(Wp,zu=fp),Wp.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},Wp.prototype.toString=function(){return this.source+" in "+this.location},Wp),Fp=(qp.prototype.visitBinary=function(e,t){},qp.prototype.visitChain=function(e,t){},qp.prototype.visitConditional=function(e,t){},qp.prototype.visitFunctionCall=function(e,t){},qp.prototype.visitImplicitReceiver=function(e,t){},qp.prototype.visitInterpolation=function(e,t){},qp.prototype.visitKeyedRead=function(e,t){},qp.prototype.visitKeyedWrite=function(e,t){},qp.prototype.visitLiteralArray=function(e,t){},qp.prototype.visitLiteralMap=function(e,t){},qp.prototype.visitLiteralPrimitive=function(e,t){},qp.prototype.visitMethodCall=function(e,t){},qp.prototype.visitPipe=function(e,t){},qp.prototype.visitPrefixNot=function(e,t){},qp.prototype.visitNonNullAssert=function(e,t){},qp.prototype.visitPropertyRead=function(e,t){},qp.prototype.visitPropertyWrite=function(e,t){},qp.prototype.visitQuote=function(e,t){},qp.prototype.visitSafeMethodCall=function(e,t){},qp.prototype.visitSafePropertyRead=function(e,t){},qp),Lp=(Hp.prototype.visitBinary=function(e,t){return e.left.visit(this),e.right.visit(this),null},Hp.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},Hp.prototype.visitConditional=function(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},Hp.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},Hp.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},Hp.prototype.visitImplicitReceiver=function(e,t){return null},Hp.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},Hp.prototype.visitKeyedRead=function(e,t){return e.obj.visit(this),e.key.visit(this),null},Hp.prototype.visitKeyedWrite=function(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},Hp.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},Hp.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},Hp.prototype.visitLiteralPrimitive=function(e,t){return null},Hp.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},Hp.prototype.visitPrefixNot=function(e,t){return e.expression.visit(this),null},Hp.prototype.visitNonNullAssert=function(e,t){return e.expression.visit(this),null},Hp.prototype.visitPropertyRead=function(e,t){return e.receiver.visit(this),null},Hp.prototype.visitPropertyWrite=function(e,t){return e.receiver.visit(this),e.value.visit(this),null},Hp.prototype.visitSafePropertyRead=function(e,t){return e.receiver.visit(this),null},Hp.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},Hp.prototype.visitAll=function(e,t){var n=this;return e.forEach(function(e){return e.visit(n,t)}),null},Hp.prototype.visitQuote=function(e,t){return null},Hp),Bp=(Up.prototype.visitImplicitReceiver=function(e,t){return e},Up.prototype.visitInterpolation=function(e,t){return new Np(e.span,e.strings,this.visitAll(e.expressions))},Up.prototype.visitLiteralPrimitive=function(e,t){return new bp(e.span,e.value)},Up.prototype.visitPropertyRead=function(e,t){return new _p(e.span,e.receiver.visit(this),e.name)},Up.prototype.visitPropertyWrite=function(e,t){return new Ep(e.span,e.receiver.visit(this),e.name,e.value.visit(this))},Up.prototype.visitSafePropertyRead=function(e,t){return new Sp(e.span,e.receiver.visit(this),e.name)},Up.prototype.visitMethodCall=function(e,t){return new kp(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))},Up.prototype.visitSafeMethodCall=function(e,t){return new Rp(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))},Up.prototype.visitFunctionCall=function(e,t){return new Op(e.span,e.target.visit(this),this.visitAll(e.args))},Up.prototype.visitLiteralArray=function(e,t){return new Tp(e.span,this.visitAll(e.expressions))},Up.prototype.visitLiteralMap=function(e,t){return new Pp(e.span,e.keys,this.visitAll(e.values))},Up.prototype.visitBinary=function(e,t){return new Mp(e.span,e.operation,e.left.visit(this),e.right.visit(this))},Up.prototype.visitPrefixNot=function(e,t){return new Ap(e.span,e.expression.visit(this))},Up.prototype.visitNonNullAssert=function(e,t){return new Ip(e.span,e.expression.visit(this))},Up.prototype.visitConditional=function(e,t){return new gp(e.span,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))},Up.prototype.visitPipe=function(e,t){return new Cp(e.span,e.exp.visit(this),e.name,this.visitAll(e.args))},Up.prototype.visitKeyedRead=function(e,t){return new xp(e.span,e.obj.visit(this),e.key.visit(this))},Up.prototype.visitKeyedWrite=function(e,t){return new wp(e.span,e.obj.visit(this),e.key.visit(this),e.value.visit(this))},Up.prototype.visitAll=function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},Up.prototype.visitChain=function(e,t){return new yp(e.span,this.visitAll(e.expressions))},Up.prototype.visitQuote=function(e,t){return new dp(e.span,e.prefix,e.uninterpretedExpression,e.location)},Up),Vp=(jp.prototype.visitImplicitReceiver=function(e,t){return e},jp.prototype.visitInterpolation=function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new Np(e.span,e.strings,n):e},jp.prototype.visitLiteralPrimitive=function(e,t){return e},jp.prototype.visitPropertyRead=function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new _p(e.span,n,e.name):e},jp.prototype.visitPropertyWrite=function(e,t){var n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new Ep(e.span,n,e.name,r):e},jp.prototype.visitSafePropertyRead=function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new Sp(e.span,n,e.name):e},jp.prototype.visitMethodCall=function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new kp(e.span,n,e.name,r):e},jp.prototype.visitSafeMethodCall=function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new Rp(e.span,n,e.name,r):e},jp.prototype.visitFunctionCall=function(e,t){var n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new Op(e.span,n,r):e},jp.prototype.visitLiteralArray=function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new Tp(e.span,n):e},jp.prototype.visitLiteralMap=function(e,t){var n=this.visitAll(e.values);return n!==e.values?new Pp(e.span,e.keys,n):e},jp.prototype.visitBinary=function(e,t){var n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new Mp(e.span,e.operation,n,r):e},jp.prototype.visitPrefixNot=function(e,t){var n=e.expression.visit(this);return n!==e.expression?new Ap(e.span,n):e},jp.prototype.visitNonNullAssert=function(e,t){var n=e.expression.visit(this);return n!==e.expression?new Ip(e.span,n):e},jp.prototype.visitConditional=function(e,t){var n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new gp(e.span,n,r,i):e},jp.prototype.visitPipe=function(e,t){var n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new Cp(e.span,n,e.name,r):e},jp.prototype.visitKeyedRead=function(e,t){var n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new xp(e.span,n,r):e},jp.prototype.visitKeyedWrite=function(e,t){var n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new wp(e.span,n,r,i):e},jp.prototype.visitAll=function(e){for(var t=new Array(e.length),n=!1,r=0;r<e.length;++r){var i=e[r],o=i.visit(this);t[r]=o,n=n||o!==i}return n?t:e},jp.prototype.visitChain=function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new yp(e.span,n):e},jp.prototype.visitQuote=function(e,t){return e},jp);function jp(){}function Up(){}function Hp(){}function qp(){}function Wp(e,t,n,r){var i=zu.call(this,new Uu(0,null==t?0:t.length))||this;return i.ast=e,i.source=t,i.location=n,i.errors=r,i}function zp(e,t,n){var r=Ku.call(this,e)||this;return r.target=t,r.args=n,r}function Kp(e,t,n,r){var i=Qu.call(this,e)||this;return i.receiver=t,i.name=n,i.args=r,i}function Qp(e,t,n,r){var i=Xu.call(this,e)||this;return i.receiver=t,i.name=n,i.args=r,i}function Xp(e,t){var n=Gu.call(this,e)||this;return n.expression=t,n}function Gp(e,t){var n=$u.call(this,e)||this;return n.expression=t,n}function $p(e,t,n,r){var i=Yu.call(this,e)||this;return i.operation=t,i.left=n,i.right=r,i}function Yp(e,t,n){var r=Ju.call(this,e)||this;return r.strings=t,r.expressions=n,r}function Jp(e,t,n){var r=Zu.call(this,e)||this;return r.keys=t,r.values=n,r}function Zp(e,t){var n=ep.call(this,e)||this;return n.expressions=t,n}function el(e,t){var n=tp.call(this,e)||this;return n.value=t,n}function tl(e,t,n,r){var i=np.call(this,e)||this;return i.exp=t,i.name=n,i.args=r,i}function nl(e,t,n,r){var i=rp.call(this,e)||this;return i.obj=t,i.key=n,i.value=r,i}function rl(e,t,n){var r=ip.call(this,e)||this;return r.obj=t,r.key=n,r}function il(e,t,n){var r=op.call(this,e)||this;return r.receiver=t,r.name=n,r}function ol(e,t,n,r){var i=sp.call(this,e)||this;return i.receiver=t,i.name=n,i.value=r,i}function sl(e,t,n){var r=ap.call(this,e)||this;return r.receiver=t,r.name=n,r}function al(e,t,n,r){var i=up.call(this,e)||this;return i.condition=t,i.trueExp=n,i.falseExp=r,i}function ul(e,t){var n=pp.call(this,e)||this;return n.expressions=t,n}function pl(){return null!==lp&&lp.apply(this,arguments)||this}function ll(){return null!==cp&&cp.apply(this,arguments)||this}function cl(e,t,n,r){var i=hp.call(this,e)||this;return i.prefix=t,i.uninterpretedExpression=n,i.location=r,i}function hl(e){this.span=e}(Wu=x.ParsedPropertyType||(x.ParsedPropertyType={}))[Wu.DEFAULT=0]="DEFAULT",Wu[Wu.LITERAL_ATTR=1]="LITERAL_ATTR",Wu[Wu.ANIMATION=2]="ANIMATION";function fl(e,t,n,r,i,o){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=o}function dl(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function vl(e,t,n,r,i,o){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o}var ml=(gl.event=lr("$event"),gl),yl=function(e,t){this.stmts=e,this.allowDefault=t,this.render3Stmts=e.map(function(e){return e instanceof _n&&e.name==t.name&&e.value instanceof It?new xn(e.value.lhs.value):e})};function gl(){}function _l(e,t,n,r,i,o){e=e||new Bl;var s=El({createLiteralArrayConverter:function(e){return function(e){return dr(e)}},createLiteralMapConverter:function(e){return function(n){return vr(e.map(function(e,t){return{key:e.key,value:n[t],quoted:e.quoted}}))}},createPipeConverter:function(e){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+e)}},n),a=new Ll(e,t,r,i,o),u=[];!function t(e,n){Array.isArray(e)?e.forEach(function(e){return t(e,n)}):n.push(e)}(s.visit(a,xl.Statement),u),function(e,t,n){for(var r=e-1;0<=r;r--)n.unshift(Ml(t,r))}(a.temporaryCount,r,u),a.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var p,l=u.length-1,c=null;if(0<=l){var h=(p=u[l])instanceof Sn?p.expr:p instanceof xn?p.value:null;h&&(c=lr("pd_"+r),u[l]=c.set(h.cast(we).notIdentical(gr(!1))).toDeclStmt(null,[x.StmtModifier.Final]))}return new yl(u,c)}function El(e,t){return n=t,r=new Fl(e),n.visit(r);var n,r}var Sl,xl,wl,Cl,bl=function(e,t){this.stmts=e,this.currValExpr=t};function Tl(e,t,n,r,i,o){e=e||new Bl;var s=lr("currVal_"+r),a=new Ll(e,t,r,o),u=n.visit(a,xl.Expression),p=Pl(a,r);return a.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===a.temporaryCount&&i==Sl.TrySimple?new bl([],u):(p.push(s.set(u).toDeclStmt(we,[x.StmtModifier.Final])),new bl(p,s))}function Pl(e,t){for(var n=[],r=0;r<e.temporaryCount;r++)n.push(Ml(t,r));return n}function Nl(e,t){return"tmp_"+e+"_"+t}function Ml(e,t){return new _n(Nl(e,t),Bt)}function Al(e,t){if(e!==xl.Expression)throw new Error("Expected an expression, but saw "+t)}function Il(e,t){return e===xl.Statement?t.toStmt():t}(Cl=Sl=Sl||{})[Cl.General=0]="General",Cl[Cl.TrySimple=1]="TrySimple",(wl=xl=xl||{})[wl.Statement=0]="Statement",wl[wl.Expression=1]="Expression";function kl(e,t,n){this.name=e,this.moduleUrl=t,this.setValue=n}function Rl(e,t,n,r,i){this.outputCtx=e,this.stylesVar=t,this.dependencies=n,this.isShimmed=r,this.meta=i}var Ol,Dl,Fl=(a(xc,Dl=Bp),xc.prototype.visitPipe=function(e,t){var n=this,r=H([e.exp],e.args).map(function(e){return e.visit(n,t)});return new Vl(e.span,r,this._converterFactory.createPipeConverter(e.name,r.length))},xc.prototype.visitLiteralArray=function(e,t){var n=this,r=e.expressions.map(function(e){return e.visit(n,t)});return new Vl(e.span,r,this._converterFactory.createLiteralArrayConverter(e.expressions.length))},xc.prototype.visitLiteralMap=function(e,t){var n=this,r=e.values.map(function(e){return e.visit(n,t)});return new Vl(e.span,r,this._converterFactory.createLiteralMapConverter(e.keys))},xc),Ll=(Sc.prototype.visitBinary=function(e,t){var n;switch(e.operation){case"+":n=x.BinaryOperator.Plus;break;case"-":n=x.BinaryOperator.Minus;break;case"*":n=x.BinaryOperator.Multiply;break;case"/":n=x.BinaryOperator.Divide;break;case"%":n=x.BinaryOperator.Modulo;break;case"&&":n=x.BinaryOperator.And;break;case"||":n=x.BinaryOperator.Or;break;case"==":n=x.BinaryOperator.Equals;break;case"!=":n=x.BinaryOperator.NotEquals;break;case"===":n=x.BinaryOperator.Identical;break;case"!==":n=x.BinaryOperator.NotIdentical;break;case"<":n=x.BinaryOperator.Lower;break;case">":n=x.BinaryOperator.Bigger;break;case"<=":n=x.BinaryOperator.LowerEquals;break;case">=":n=x.BinaryOperator.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return Il(t,new It(n,this._visit(e.left,xl.Expression),this._visit(e.right,xl.Expression),void 0,this.convertSourceSpan(e.span)))},Sc.prototype.visitChain=function(e,t){return function(e,t){if(e!==xl.Statement)throw new Error("Expected a statement, but saw "+t)}(t,e),this.visitAll(e.expressions,t)},Sc.prototype.visitConditional=function(e,t){return Il(t,this._visit(e.condition,xl.Expression).conditional(this._visit(e.trueExp,xl.Expression),this._visit(e.falseExp,xl.Expression),this.convertSourceSpan(e.span)))},Sc.prototype.visitPipe=function(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+e.name)},Sc.prototype.visitFunctionCall=function(e,t){var n=this.visitAll(e.args,xl.Expression);return Il(t,e instanceof Vl?e.converter(n):this._visit(e.target,xl.Expression).callFn(n,this.convertSourceSpan(e.span)))},Sc.prototype.visitImplicitReceiver=function(e,t){return Al(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver},Sc.prototype.visitInterpolation=function(e,t){Al(t,e);for(var n=[gr(e.expressions.length)],r=0;r<e.strings.length-1;r++)n.push(gr(e.strings[r])),n.push(this._visit(e.expressions[r],xl.Expression));return n.push(gr(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?cr(ni.inlineInterpolate).callFn(n):cr(ni.interpolate).callFn([n[0],dr(n.slice(1),void 0,this.convertSourceSpan(e.span))])},Sc.prototype.visitKeyedRead=function(e,t){var n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):Il(t,this._visit(e.obj,xl.Expression).key(this._visit(e.key,xl.Expression)))},Sc.prototype.visitKeyedWrite=function(e,t){var n=this._visit(e.obj,xl.Expression),r=this._visit(e.key,xl.Expression),i=this._visit(e.value,xl.Expression);return Il(t,n.key(r).set(i))},Sc.prototype.visitLiteralArray=function(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")},Sc.prototype.visitLiteralMap=function(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")},Sc.prototype.visitLiteralPrimitive=function(e,t){return Il(t,gr(e.value,null==e.value||!0===e.value||!0===e.value?Ce:void 0,this.convertSourceSpan(e.span)))},Sc.prototype._getLocal=function(e){return this._localResolver.getLocal(e)},Sc.prototype.visitMethodCall=function(e,t){if(e.receiver instanceof mp&&"$any"==e.name){if(1!=(r=this.visitAll(e.args,xl.Expression)).length)throw new Error("Invalid call to $any, expected 1 argument but received "+(r.length||"none"));return r[0].cast(we,this.convertSourceSpan(e.span))}var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=this.visitAll(e.args,xl.Expression),i=this.usesImplicitReceiver,o=null,s=this._visit(e.receiver,xl.Expression);if(s===this._implicitReceiver){var a=this._getLocal(e.name);a&&(this.usesImplicitReceiver=i,o=a.callFn(r))}return null==o&&(o=s.callMethod(e.name,r,this.convertSourceSpan(e.span))),Il(t,o)},Sc.prototype.visitPrefixNot=function(e,t){return Il(t,(n=this._visit(e.expression,xl.Expression),new Tt(n,r)));var n,r},Sc.prototype.visitNonNullAssert=function(e,t){return Il(t,(n=this._visit(e.expression,xl.Expression),new Pt(n,r)));var n,r},Sc.prototype.visitPropertyRead=function(e,t){var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=null,i=this.usesImplicitReceiver,o=this._visit(e.receiver,xl.Expression);return o===this._implicitReceiver&&(r=this._getLocal(e.name))&&(this.usesImplicitReceiver=i),null==r&&(r=o.prop(e.name)),Il(t,r)},Sc.prototype.visitPropertyWrite=function(e,t){var n=this._visit(e.receiver,xl.Expression),r=this.usesImplicitReceiver,i=null;if(n===this._implicitReceiver){var o=this._getLocal(e.name);if(o){if(!(o instanceof kt))throw new Error("Cannot assign to a reference or variable!");i=o,this.usesImplicitReceiver=r}}return null===i&&(i=n.prop(e.name)),Il(t,i.set(this._visit(e.value,xl.Expression)))},Sc.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},Sc.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},Sc.prototype.visitAll=function(e,t){var n=this;return e.map(function(e){return n._visit(e,t)})},Sc.prototype.visitQuote=function(e,t){throw new Error("Quotes are not supported for evaluation!\n        Statement: "+e.uninterpretedExpression+" located at "+e.location)},Sc.prototype._visit=function(e,t){return this._resultMap.get(e)||(this._nodeMap.get(e)||e).visit(this,t)},Sc.prototype.convertSafeAccess=function(e,t,n){var r=this._visit(t.receiver,xl.Expression),i=void 0;this.needsTemporary(t.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(t.receiver,i));var o=r.isBlank();this._nodeMap.set(t,t instanceof Rp?new kp(t.span,t.receiver,t.name,t.args):new _p(t.span,t.receiver,t.name));var s=this._visit(e,xl.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),Il(n,o.conditional(gr(null),s))},Sc.prototype.leftMostSafeNode=function(e){function t(e,t){return(n._nodeMap.get(t)||t).visit(e)}var n=this;return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return t(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return t(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitNonNullAssert:function(e){return null},visitPropertyRead:function(e){return t(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return t(this,e.receiver)||e},visitSafePropertyRead:function(e){return t(this,e.receiver)||e}})},Sc.prototype.needsTemporary=function(e){function n(e,t){return t&&(r._nodeMap.get(t)||t).visit(e)}var r=this;return e.visit({visitBinary:function(e){return n(this,e.left)||n(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return n(this,e.condition)||n(this,e.trueExp)||n(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return t=this,e.expressions.some(function(e){return n(t,e)});var t},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return n(this,e.expression)},visitNonNullAssert:function(e){return n(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})},Sc.prototype.allocateTemporary=function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new We(Nl(this.bindingId,e))},Sc.prototype.releaseTemporary=function(e){if(this._currentTemporary--,e.name!=Nl(this.bindingId,this._currentTemporary))throw new Error("Temporary "+e.name+" released out of order")},Sc.prototype.convertSourceSpan=function(e){if(this.baseSourceSpan){var t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end);return new Tu(t,n)}return null},Sc),Bl=(Ec.prototype.notifyImplicitReceiverUse=function(){},Ec.prototype.getLocal=function(e){return e===ml.event.name?ml.event:null},Ec),Vl=(a(_c,Ol=Op),_c),jl=(gc.prototype.shimCssText=function(e,t,n){void 0===n&&(n="");var r=e.match(oc)||[];return e=e.replace(ic,""),e=this._insertDirectives(e),H([this._scopeCssText(e,t,n)],r).join("\n")},gc.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},gc.prototype._insertPolyfillDirectivesInCssText=function(e){return e.replace(Hl,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[2]+"{"})},gc.prototype._insertPolyfillRulesInCssText=function(e){return e.replace(ql,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0].replace(e[1],"").replace(e[2],"");return e[4]+n})},gc.prototype._scopeCssText=function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()},gc.prototype._extractUnscopedRulesFromCssText=function(e){var t,n="";for(Wl.lastIndex=0;null!==(t=Wl.exec(e));)n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n";return n},gc.prototype._convertColonHost=function(e){return this._convertColonRule(e,Xl,this._colonHostPartReplacer)},gc.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,Gl,this._colonHostContextPartReplacer)},gc.prototype._convertColonRule=function(e,t,s){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e[2]){for(var n=e[2].split(","),r=[],i=0;i<n.length;i++){var o=n[i].trim();if(!o)break;r.push(s($l,o,e[3]))}return r.join(",")}return $l+e[3]})},gc.prototype._colonHostContextPartReplacer=function(e,t,n){return-1<t.indexOf(zl)?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n},gc.prototype._colonHostPartReplacer=function(e,t,n){return e+t.replace(zl,"")+n},gc.prototype._convertShadowDOMSelectors=function(e){return Jl.reduce(function(e,t){return e.replace(t," ")},e)},gc.prototype._scopeSelectors=function(e,r,i){var a,u,p,o=this;return a=function(e){var t=e.selector,n=e.content;return"@"!=e.selector[0]?t=o._scopeSelector(e.selector,r,i,o.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(n=o._scopeSelectors(e.content,r,i)),new cc(t,n)},u=function(e){for(var t=e.split(ac),n=[],r=[],i=0,o=[],s=0;s<t.length;s++){var a=t[s];a==pc&&i--,0<i?o.push(a):(0<o.length&&(r.push(o.join("")),n.push(lc),o=[]),n.push(a)),a==uc&&i++}return 0<o.length&&(r.push(o.join("")),n.push(lc)),new hc(n.join(""),r)}(e),p=0,u.escapedString.replace(sc,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[2],r="",i=e[4],o="";i&&i.startsWith("{"+lc)&&(r=u.blocks[p++],i=i.substring(lc.length+1),o="{");var s=a(new cc(n,r));return""+e[1]+s.selector+e[3]+o+s.content+i})},gc.prototype._scopeSelector=function(e,o,s,a){var u=this;return e.split(",").map(function(e){return e.trim().split(Zl)}).map(function(e){var t,n=k(e),r=n[0],i=n.slice(1);return H([(t=r,u._selectorNeedsScoping(t,o)?a?u._applyStrictSelectorScope(t,o,s):u._applySelectorScope(t,o,s):t)],i).join(" ")}).join(", ")},gc.prototype._selectorNeedsScoping=function(e,t){return!this._makeScopeMatcher(t).test(e)},gc.prototype._makeScopeMatcher=function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+ec,"m")},gc.prototype._applySelectorScope=function(e,t,n){return this._applySimpleSelectorScope(e,t,n)},gc.prototype._applySimpleSelectorScope=function(e,t,n){if(tc.lastIndex=0,tc.test(e)){var i=this.strictStyling?"["+n+"]":t;return e.replace(Yl,function(e,t){return t.replace(/([^:]*)(:*)(.*)/,function(e,t,n,r){return t+i+n+r})}).replace(tc,i+" ")}return t+" "+e},gc.prototype._applyStrictSelectorScope=function(e,i,o){for(var t,s=this,a="["+(i=i.replace(/\[is=([^\]]*)\]/g,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t[0]}))+"]",n=function(e){var t=e.trim();if(!t)return"";if(-1<e.indexOf($l))t=s._applySimpleSelectorScope(e,i,o);else{var n=e.replace(tc,"");if(0<n.length){var r=n.match(/([^:]*)(:*)(.*)/);r&&(t=r[1]+a+r[2]+r[3])}}return t},r=new Ul(e),u="",p=0,l=/( |>|\+|~(?!=))\s*/g,c=!(-1<(e=r.content()).indexOf($l));null!==(t=l.exec(e));){var h=t[1],f=e.slice(p,t.index).trim();u+=((c=c||-1<f.indexOf($l))?n(f):f)+" "+h+" ",p=l.lastIndex}var d=e.substring(p);return u+=(c=c||-1<d.indexOf($l))?n(d):d,r.restore(u)},gc.prototype._insertPolyfillHostInCssText=function(e){return e.replace(rc,Kl).replace(nc,zl)},gc),Ul=(yc.prototype.restore=function(e){var n=this;return e.replace(/__ph-(\d+)__/g,function(e,t){return n.placeholders[+t]})},yc.prototype.content=function(){return this._content},yc),Hl=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,ql=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Wl=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,zl="-shadowcsshost",Kl="-shadowcsscontext",Ql=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Xl=new RegExp("("+zl+Ql,"gim"),Gl=new RegExp("("+Kl+Ql,"gim"),$l=zl+"-no-combinator",Yl=/-shadowcsshost-no-combinator([^\s]*)/,Jl=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Zl=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,ec="([>\\s~+[.,{:][\\s\\S]*)?$",tc=/-shadowcsshost/gim,nc=/:host/gim,rc=/:host-context/gim,ic=/\/\*\s*[\s\S]*?\*\//g,oc=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,sc=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,ac=/([{}])/g,uc="{",pc="}",lc="%BLOCK%",cc=function(e,t){this.selector=e,this.content=t},hc=function(e,t){this.escapedString=e,this.blocks=t},fc="_nghost-%COMP%",dc="_ngcontent-%COMP%",vc=(mc.prototype.compileComponent=function(e,t){var n=t.template;return this._compileStyles(e,t,new xi({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:vi(t.type)}),this.needsStyleShim(t),!0)},mc.prototype.compileStyles=function(e,t,n,r){return void 0===r&&(r=this.needsStyleShim(t)),this._compileStyles(e,t,n,r,!1)},mc.prototype.needsStyleShim=function(e){return e.template.encapsulation===D.Emulated},mc.prototype._compileStyles=function(n,e,t,r,i){var o=this,s=t.styles.map(function(e){return gr(o._shimIfNeeded(e,r))}),a=[];t.styleUrls.forEach(function(e){var t=s.length;s.push(null),a.push(new kl(wc(null),e,function(e){return s[t]=n.importExpr(e)}))});var u=wc(i?e:null),p=lr(u).set(dr(s,new Se(we,[ue.Const]))).toDeclStmt(null,i?[x.StmtModifier.Final]:[x.StmtModifier.Final,x.StmtModifier.Exported]);return n.statements.push(p),new Rl(n,u,a,r,t)},mc.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,dc,fc):e},mc);function mc(e){this._urlResolver=e,this._shadowCss=new jl}function yc(e){var i=this;this.placeholders=[],this.index=0,e=e.replace(/(\[[^\]]*\])/g,function(e,t){var n="__ph-"+i.index+"__";return i.placeholders.push(t),i.index++,n}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(e,t,n){var r="__ph-"+i.index+"__";return i.placeholders.push(n),i.index++,t+r})}function gc(){this.strictStyling=!0}function _c(e,t,n){var r=Ol.call(this,e,null,t)||this;return r.args=t,r.converter=n,r}function Ec(){}function Sc(e,t,n,r,i){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=r,this.baseSourceSpan=i,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}function xc(e){var t=Dl.call(this)||this;return t._converterFactory=e,t}function wc(e){var t="styles";return e&&(t+="_"+di(e.type)),t}var Cc=(Object.defineProperty(Lc.prototype,"empty",{get:function(){return!this.path||!this.path.length},enumerable:!0,configurable:!0}),Object.defineProperty(Lc.prototype,"head",{get:function(){return this.path[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Lc.prototype,"tail",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),Lc.prototype.parentOf=function(e){return e&&this.path[this.path.indexOf(e)-1]},Lc.prototype.childOf=function(e){return this.path[this.path.indexOf(e)+1]},Lc.prototype.first=function(e){for(var t=this.path.length-1;0<=t;t--){var n=this.path[t];if(n instanceof e)return n}},Lc.prototype.push=function(e){this.path.push(e)},Lc.prototype.pop=function(){return this.path.pop()},Lc),bc=(Fc.prototype.visit=function(e,t){return e.visitText(this,t)},Fc),Tc=(Dc.prototype.visit=function(e,t){return e.visitExpansion(this,t)},Dc),Pc=(Oc.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},Oc),Nc=(Rc.prototype.visit=function(e,t){return e.visitAttribute(this,t)},Rc),Mc=(kc.prototype.visit=function(e,t){return e.visitElement(this,t)},kc),Ac=(Ic.prototype.visit=function(e,t){return e.visitComment(this,t)},Ic);function Ic(e,t){this.value=e,this.sourceSpan=t}function kc(e,t,n,r,i,o,s){void 0===i&&(i=null),void 0===o&&(o=null),this.name=e,this.attrs=t,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o,this.i18n=s}function Rc(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}function Oc(e,t,n,r,i){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}function Dc(e,t,n,r,i,o){this.switchValue=e,this.type=t,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i,this.i18n=o}function Fc(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}function Lc(e,t){void 0===t&&(t=-1),this.path=e,this.position=t}function Bc(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(e){var t=i(e);t&&r.push(t)}),r}var Vc,jc,Uc=(Hc.prototype.visitElement=function(t,e){this.visitChildren(e,function(e){e(t.attrs),e(t.children)})},Hc.prototype.visitAttribute=function(e,t){},Hc.prototype.visitText=function(e,t){},Hc.prototype.visitComment=function(e,t){},Hc.prototype.visitExpansion=function(t,e){return this.visitChildren(e,function(e){e(t.cases)})},Hc.prototype.visitExpansionCase=function(e,t){},Hc.prototype.visitChildren=function(t,e){var n=[],r=this;return e(function(e){e&&n.push(Bc(r,e,t))}),[].concat.apply([],n)},Hc);function Hc(){}(jc=Vc=Vc||{})[jc.TAG_OPEN_START=0]="TAG_OPEN_START",jc[jc.TAG_OPEN_END=1]="TAG_OPEN_END",jc[jc.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",jc[jc.TAG_CLOSE=3]="TAG_CLOSE",jc[jc.TEXT=4]="TEXT",jc[jc.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",jc[jc.RAW_TEXT=6]="RAW_TEXT",jc[jc.COMMENT_START=7]="COMMENT_START",jc[jc.COMMENT_END=8]="COMMENT_END",jc[jc.CDATA_START=9]="CDATA_START",jc[jc.CDATA_END=10]="CDATA_END",jc[jc.ATTR_NAME=11]="ATTR_NAME",jc[jc.ATTR_QUOTE=12]="ATTR_QUOTE",jc[jc.ATTR_VALUE=13]="ATTR_VALUE",jc[jc.DOC_TYPE=14]="DOC_TYPE",jc[jc.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",jc[jc.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",jc[jc.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",jc[jc.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",jc[jc.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",jc[jc.EOF=20]="EOF";function qc(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}function Wc(e,t){this.tokens=e,this.errors=t}var zc,Kc=(a(Xc,zc=Mu),Xc),Qc=/\r\n?/g;function Xc(e,t,n){var r=zc.call(this,n,e)||this;return r.tokenType=t,r}function Gc(e){return'Unexpected character "'+(0===e?"EOF":String.fromCharCode(e))+'"'}function $c(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function Yc(e){this.error=e}var Jc=(Zc.prototype._processCarriageReturns=function(e){return e.replace(Qc,"\n")},Zc.prototype.tokenize=function(){for(;0!==this._cursor.peek();){var e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(eu)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(Vc.EOF),this._endToken([]),new Wc(function(e){for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];n&&n.type==Vc.TEXT&&i.type==Vc.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):t.push(n=i)}return t}(this.tokens),this.errors)},Zc.prototype._tokenizeExpansionForm=function(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if((61===(e=this._cursor.peek())||Eu(e)||_u(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},Zc.prototype._beginToken=function(e,t){void 0===t&&(t=this._cursor.clone()),this._currentTokenStart=t,this._currentTokenType=e},Zc.prototype._endToken=function(e,t){if(void 0===t&&(t=this._cursor.clone()),null===this._currentTokenStart)throw new Kc("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new Kc("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));var n=new qc(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},Zc.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new Kc(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Yc(n)},Zc.prototype.handleError=function(e){if(e instanceof lh&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof Yc))throw e;this.errors.push(e.error)},Zc.prototype._attemptCharCode=function(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)},Zc.prototype._attemptCharCodeCaseInsensitive=function(e){return t=this._cursor.peek(),n=e,!(ih(t)!=ih(n)||(this._cursor.advance(),0));var t,n},Zc.prototype._requireCharCode=function(e){var t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Gc(this._cursor.peek()),this._cursor.getSpan(t))},Zc.prototype._attemptStr=function(e){var t=e.length;if(this._cursor.charsLeft()<t)return!1;for(var n=this._cursor.clone(),r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0},Zc.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},Zc.prototype._requireStr=function(e){var t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Gc(this._cursor.peek()),this._cursor.getSpan(t))},Zc.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._cursor.peek());)this._cursor.advance()},Zc.prototype._requireCharCodeUntilFn=function(e,t){var n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.clone().diff(n)<t)throw this._createError(Gc(this._cursor.peek()),this._cursor.getSpan(n))},Zc.prototype._attemptUntilChar=function(e){for(;this._cursor.peek()!==e;)this._cursor.advance()},Zc.prototype._readChar=function(e){if(e&&38===this._cursor.peek())return this._decodeEntity();var t=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),t},Zc.prototype._decodeEntity=function(){var e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){var t=this._cursor.clone();if(this._attemptCharCodeUntilFn(rh),59!=this._cursor.peek())return this._cursor=t,"&";var n=this._cursor.getChars(t);this._cursor.advance();var r=u[n];if(!r)throw this._createError($c(n),this._cursor.getSpan(e));return r}var i=this._attemptCharCode(120)||this._attemptCharCode(88),o=this._cursor.clone();if(this._attemptCharCodeUntilFn(nh),59!=this._cursor.peek())throw this._createError(Gc(this._cursor.peek()),this._cursor.getSpan());var s=this._cursor.getChars(o);this._cursor.advance();try{var a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(t){throw this._createError($c(this._cursor.getChars(e)),this._cursor.getSpan())}},Zc.prototype._consumeRawText=function(e,t){this._beginToken(e?Vc.ESCAPABLE_RAW_TEXT:Vc.RAW_TEXT);for(var n=[];;){var r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])},Zc.prototype._consumeComment=function(e){var t=this;this._beginToken(Vc.COMMENT_START,e),this._requireCharCode(eu),this._endToken([]),this._consumeRawText(!1,function(){return t._attemptStr("--\x3e")}),this._beginToken(Vc.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])},Zc.prototype._consumeCdata=function(e){var t=this;this._beginToken(Vc.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,function(){return t._attemptStr("]]>")}),this._beginToken(Vc.CDATA_END),this._requireStr("]]>"),this._endToken([])},Zc.prototype._consumeDocType=function(e){this._beginToken(Vc.DOC_TYPE,e);var t=this._cursor.clone();this._attemptUntilChar(62);var n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])},Zc.prototype._consumePrefixAndName=function(){for(var e,t,n=this._cursor.clone(),r="";58!==this._cursor.peek()&&!(((e=this._cursor.peek())<su||hu<e)&&(e<ru||iu<e)&&(e<tu||nu<e));)this._cursor.advance();return t=58===this._cursor.peek()?(r=this._cursor.getChars(n),this._cursor.advance(),this._cursor.clone()):n,this._requireCharCodeUntilFn(th,""===r?0:1),[r,this._cursor.getChars(t)]},Zc.prototype._consumeTagOpen=function(t){var e,n,r,i=this.tokens.length,o=this._cursor.clone();try{if(!Eu(this._cursor.peek()))throw this._createError(Gc(this._cursor.peek()),this._cursor.getSpan(t));for(n=(r=this._consumeTagOpenStart(t)).parts[0],e=r.parts[1],this._attemptCharCodeUntilFn(eh);47!==this._cursor.peek()&&62!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(eh),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(eh),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(eh);this._consumeTagOpenEnd()}catch(e){if(e instanceof Yc)return this._cursor=o,r&&(this.tokens.length=i),this._beginToken(Vc.TEXT,t),void this._endToken(["<"]);throw e}var s=this._getTagDefinition(e).contentType;s===x.TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(n,e,!1):s===x.TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,e,!0)},Zc.prototype._consumeRawTextWithTagClose=function(e,t,n){var r=this;this._consumeRawText(n,function(){return!!r._attemptCharCode(60)&&!!r._attemptCharCode(47)&&(r._attemptCharCodeUntilFn(eh),!!r._attemptStrCaseInsensitive(t)&&(r._attemptCharCodeUntilFn(eh),r._attemptCharCode(62)))}),this._beginToken(Vc.TAG_CLOSE),this._requireCharCodeUntilFn(function(e){return 62===e},3),this._cursor.advance(),this._endToken([e,t])},Zc.prototype._consumeTagOpenStart=function(e){this._beginToken(Vc.TAG_OPEN_START,e);var t=this._consumePrefixAndName();return this._endToken(t)},Zc.prototype._consumeAttributeName=function(){var e=this._cursor.peek();if(e===Ja||e===$a)throw this._createError(Gc(e),this._cursor.getSpan());this._beginToken(Vc.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},Zc.prototype._consumeAttributeValue=function(){var e;if(this._cursor.peek()===Ja||this._cursor.peek()===$a){this._beginToken(Vc.ATTR_QUOTE);var t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(Vc.ATTR_VALUE);for(var n=[];this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(Vc.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(Vc.ATTR_VALUE);var r=this._cursor.clone();this._requireCharCodeUntilFn(th,1),e=this._cursor.getChars(r),this._endToken([this._processCarriageReturns(e)])}},Zc.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(47)?Vc.TAG_OPEN_END_VOID:Vc.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])},Zc.prototype._consumeTagClose=function(e){this._beginToken(Vc.TAG_CLOSE,e),this._attemptCharCodeUntilFn(eh);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(eh),this._requireCharCode(62),this._endToken(t)},Zc.prototype._consumeExpansionFormStart=function(){this._beginToken(Vc.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(Vc.EXPANSION_FORM_START),this._beginToken(Vc.RAW_TEXT);var e=this._readUntil(44);this._endToken([e]),this._requireCharCode(44),this._attemptCharCodeUntilFn(eh),this._beginToken(Vc.RAW_TEXT);var t=this._readUntil(44);this._endToken([t]),this._requireCharCode(44),this._attemptCharCodeUntilFn(eh)},Zc.prototype._consumeExpansionCaseStart=function(){this._beginToken(Vc.EXPANSION_CASE_VALUE);var e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(eh),this._beginToken(Vc.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(eh),this._expansionCaseStack.push(Vc.EXPANSION_CASE_EXP_START)},Zc.prototype._consumeExpansionCaseEnd=function(){this._beginToken(Vc.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(eh),this._expansionCaseStack.pop()},Zc.prototype._consumeExpansionFormEnd=function(){this._beginToken(Vc.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},Zc.prototype._consumeText=function(){var e=this._cursor.clone();this._beginToken(Vc.TEXT,e);for(var t=[];this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0)),!this._isTextEnd(););this._endToken([this._processCarriageReturns(t.join(""))])},Zc.prototype._isTextEnd=function(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1},Zc.prototype._readUntil=function(e){var t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)},Zc.prototype._isInExpansionCase=function(){return 0<this._expansionCaseStack.length&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Vc.EXPANSION_CASE_EXP_START},Zc.prototype._isInExpansionForm=function(){return 0<this._expansionCaseStack.length&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Vc.EXPANSION_FORM_START},Zc.prototype.isExpansionFormStart=function(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){var e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0},Zc);function Zc(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||Sa,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(function(e){return e.codePointAt(0)||0});var r=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new ph(e,r):new uh(e,r);try{this._cursor.init()}catch(e){this.handleError(e)}}function eh(e){return!gu(e)||0===e}function th(e){return gu(e)||62===e||47===e||e===Ja||e===$a||61===e}function nh(e){return 59==e||0==e||!(su<=(t=e)&&t<=au||ru<=t&&t<=70||_u(t));var t}function rh(e){return 59==e||0==e||!Eu(e)}function ih(e){return su<=e&&e<=hu?e-su+ru:e}function oh(e,t){this.rootNodes=e,this.errors=t}var sh,ah,uh=(gh.prototype.clone=function(){return new gh(this)},gh.prototype.peek=function(){return this.state.peek},gh.prototype.charsLeft=function(){return this.end-this.state.offset},gh.prototype.diff=function(e){return this.state.offset-e.state.offset},gh.prototype.advance=function(){this.advanceState(this.state)},gh.prototype.init=function(){this.updatePeek(this.state)},gh.prototype.getSpan=function(e,t){if(e=e||this,t)for(e=e.clone();0<this.diff(e)&&-1!==t.indexOf(e.peek());)e.advance();return new Tu(new bu(e.file,e.state.offset,e.state.line,e.state.column),new bu(this.file,this.state.offset,this.state.line,this.state.column))},gh.prototype.getChars=function(e){return this.input.substring(e.state.offset,this.state.offset)},gh.prototype.charAt=function(e){return this.input.charCodeAt(e)},gh.prototype.advanceState=function(e){if(e.offset>=this.end)throw this.state=e,new lh('Unexpected character "EOF"',this);var t=this.charAt(e.offset);t===za?(e.line++,e.column=0):Su(t)||e.column++,e.offset++,this.updatePeek(e)},gh.prototype.updatePeek=function(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)},gh),ph=(a(yh,ah=uh),yh.prototype.advance=function(){this.state=this.internalState,ah.prototype.advance.call(this),this.processEscapeSequence()},yh.prototype.init=function(){ah.prototype.init.call(this),this.processEscapeSequence()},yh.prototype.clone=function(){return new yh(this)},yh.prototype.getChars=function(e){for(var t=e.clone(),n="";t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n},yh.prototype.processEscapeSequence=function(){function e(){return t.internalState.peek}var t=this;if(92===e())if(this.internalState=d({},this.state),this.advanceState(this.internalState),e()===uu)this.state.peek=za;else if(e()===pu)this.state.peek=Xa;else if(e()===cu)this.state.peek=Ka;else if(e()===lu)this.state.peek=Wa;else if(98===e())this.state.peek=8;else if(e()===au)this.state.peek=Qa;else if(117===e())if(this.advanceState(this.internalState),123===e()){this.advanceState(this.internalState);for(var n=this.clone(),r=0;125!==e();)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else n=this.clone(),this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4);else if(120===e())this.advanceState(this.internalState),n=this.clone(),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2);else if(xu(e())){for(var i="",o=0,s=this.clone();xu(e())&&o<3;)s=this.clone(),i+=String.fromCodePoint(e()),this.advanceState(this.internalState),o++;this.state.peek=parseInt(i,8),this.internalState=s.internalState}else Su(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek},yh.prototype.decodeHexDigits=function(e,t){var n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new lh("Invalid hexadecimal escape sequence",e);return r},yh),lh=function(e,t){this.msg=e,this.cursor=t},ch=(a(mh,sh=Mu),mh.create=function(e,t,n){return new mh(e,t,n)},mh),hh=(vh.prototype.parse=function(e,t,n){var r,i,o,s,a=(r=e,i=t,o=this.getTagDefinition,void 0===(s=n)&&(s={}),new Jc(new wu(r,i),o,s).tokenize()),u=new fh(a.tokens,this.getTagDefinition).build();return new oh(u.rootNodes,a.errors.concat(u.errors))},vh),fh=(dh.prototype.build=function(){for(;this._peek.type!==Vc.EOF;)this._peek.type===Vc.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Vc.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Vc.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Vc.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Vc.TEXT||this._peek.type===Vc.RAW_TEXT||this._peek.type===Vc.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Vc.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new oh(this._rootNodes,this._errors)},dh.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},dh.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},dh.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(Vc.CDATA_END)},dh.prototype._consumeComment=function(e){var t=this._advanceIf(Vc.RAW_TEXT);this._advanceIf(Vc.COMMENT_END);var n=null!=t?t.parts[0].trim():null;this._addToParent(new Ac(n,e.sourceSpan))},dh.prototype._consumeExpansion=function(e){for(var t=this._advance(),n=this._advance(),r=[];this._peek.type===Vc.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type===Vc.EXPANSION_FORM_END){var o=new Tu(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Tc(t.parts[0],n.parts[0],r,o,t.sourceSpan)),this._advance()}else this._errors.push(ch.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))},dh.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==Vc.EXPANSION_CASE_EXP_START)return this._errors.push(ch.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;var r=this._advance();n.push(new qc(Vc.EOF,[],r.sourceSpan));var i=new dh(n,this.getTagDefinition).build();if(0<i.errors.length)return this._errors=this._errors.concat(i.errors),null;var o=new Tu(e.sourceSpan.start,r.sourceSpan.end),s=new Tu(t.sourceSpan.start,r.sourceSpan.end);return new Pc(e.parts[0],i.rootNodes,o,e.sourceSpan,s)},dh.prototype._collectExpansionExpTokens=function(e){for(var t=[],n=[Vc.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==Vc.EXPANSION_FORM_START&&this._peek.type!==Vc.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===Vc.EXPANSION_CASE_EXP_END){if(!_h(n,Vc.EXPANSION_CASE_EXP_START))return this._errors.push(ch.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===Vc.EXPANSION_FORM_END){if(!_h(n,Vc.EXPANSION_FORM_START))return this._errors.push(ch.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===Vc.EOF)return this._errors.push(ch.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},dh.prototype._consumeText=function(e){var t=e.parts[0];if(0<t.length&&"\n"==t[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}0<t.length&&this._addToParent(new bc(t,e.sourceSpan))},dh.prototype._closeVoidElement=function(){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()},dh.prototype._consumeStartTag=function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this._peek.type===Vc.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(t,n,this._getParentElement()),o=!1;if(this._peek.type===Vc.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==l(i)||s.isVoid||this._errors.push(ch.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))}else this._peek.type===Vc.TAG_OPEN_END&&(this._advance(),o=!1);var a=new Tu(e.sourceSpan.start,this._peek.sourceSpan.start),u=new Mc(i,r,[],a,a,void 0);this._pushElement(u),o&&(this._popElement(i),u.endSourceSpan=a)},dh.prototype._pushElement=function(e){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)},dh.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(ch.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this._errors.push(ch.create(t,e.sourceSpan,'Unexpected closing tag "'+t+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags'))},dh.prototype._popElement=function(e){for(var t=this._elementStack.length-1;0<=t;t--){var n=this._elementStack[t];if(n.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},dh.prototype._consumeAttr=function(e){var t=c(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="",i=void 0;if(this._peek.type===Vc.ATTR_QUOTE&&this._advance(),this._peek.type===Vc.ATTR_VALUE){var o=this._advance();r=o.parts[0],n=o.sourceSpan.end,i=o.sourceSpan}return this._peek.type===Vc.ATTR_QUOTE&&(n=this._advance().sourceSpan.end),new Nc(t,r,new Tu(e.sourceSpan.start,n),i)},dh.prototype._getParentElement=function(){return 0<this._elementStack.length?this._elementStack[this._elementStack.length-1]:null},dh.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;0<=t;t--){if(!O(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}},dh.prototype._addToParent=function(e){var t=this._getParentElement();null!=t?t.children.push(e):this._rootNodes.push(e)},dh.prototype._insertBeforeContainer=function(e,t,n){if(t){if(e){var r=e.children.indexOf(t);e.children[r]=n}else this._rootNodes.push(n);n.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,n)}else this._addToParent(n),this._elementStack.push(n)},dh.prototype._getElementFullName=function(e,t,n){return""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n&&(e=l(n.name)),c(e,t)},dh);function dh(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}function vh(e){this.getTagDefinition=e}function mh(e,t,n){var r=sh.call(this,t,n)||this;return r.elementName=e,r}function yh(e,t){var n=this;return e instanceof yh?(n=ah.call(this,e)||this).internalState=d({},e.internalState):(n=ah.call(this,e,t)||this).internalState=n.state,n}function gh(e,t){if(e instanceof gh)this.file=e.file,this.input=e.input,this.end=e.end,this.state=d({},e.state);else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}function _h(e,t){return 0<e.length&&e[e.length-1]===t}var Eh,Sh=(a(Th,Eh=hh),Th.prototype.parse=function(e,t,n){return Eh.prototype.parse.call(this,e,t,n)},Th),xh=new Set(["pre","template","textarea","script","style"]),wh=" \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff",Ch=new RegExp("[^"+wh+"]"),bh=new RegExp("["+wh+"]{2,}","g");function Th(){return Eh.call(this,h)||this}function Ph(e){return e.replace(new RegExp("","g")," ")}var Nh=(Mh.prototype.visitElement=function(e,t){return xh.has(e.name)||e.attrs.some(function(e){return"ngPreserveWhitespaces"===e.name})?new Mc(e.name,Bc(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new Mc(e.name,e.attrs,Bc(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)},Mh.prototype.visitAttribute=function(e,t){return"ngPreserveWhitespaces"!==e.name?e:null},Mh.prototype.visitText=function(e,t){return e.value.match(Ch)?new bc(Ph(e.value).replace(bh," "),e.sourceSpan,e.i18n):null},Mh.prototype.visitComment=function(e,t){return e},Mh.prototype.visitExpansion=function(e,t){return e},Mh.prototype.visitExpansionCase=function(e,t){return e},Mh);function Mh(){}function Ah(e){return new oh(Bc(new Nh,e.rootNodes),e.errors)}var Ih=["zero","one","two","few","many","other"];function kh(e){var t=new Bh;return new Rh(Bc(t,e),t.isExpanded,t.errors)}function Rh(e,t,n){this.nodes=e,this.expanded=t,this.errors=n}var Oh,Dh,Fh,Lh=(a(hf,Fh=Mu),hf),Bh=(cf.prototype.visitElement=function(e,t){return new Mc(e.name,e.attrs,Bc(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},cf.prototype.visitAttribute=function(e,t){return e},cf.prototype.visitText=function(e,t){return e},cf.prototype.visitComment=function(e,t){return e},cf.prototype.visitExpansion=function(e,t){return this.isExpanded=!0,"plural"==e.type?(s=e,a=this.errors,u=s.cases.map(function(e){-1!=Ih.indexOf(e.value)||e.value.match(/^=\d+$/)||a.push(new Lh(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '+Ih.join(", ")));var t=kh(e.expression);return a.push.apply(a,H(t.errors)),new Mc("ng-template",[new Nc("ngPluralCase",""+e.value,e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),p=new Nc("[ngPlural]",s.switchValue,s.switchValueSourceSpan),new Mc("ng-container",[p],u,s.sourceSpan,s.sourceSpan,s.sourceSpan)):(n=e,r=this.errors,i=n.cases.map(function(e){var t=kh(e.expression);return r.push.apply(r,H(t.errors)),new Mc("ng-template","other"===e.value?[new Nc("ngSwitchDefault","",e.valueSourceSpan)]:[new Nc("ngSwitchCase",""+e.value,e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),o=new Nc("[ngSwitch]",n.switchValue,n.switchValueSourceSpan),new Mc("ng-container",[o],i,n.sourceSpan,n.sourceSpan,n.sourceSpan));var n,r,i,o,s,a,u,p},cf.prototype.visitExpansionCase=function(e,t){throw new Error("Should not be reached")},cf),Vh=(lf.prototype.visit=function(e,t){return e.visitText(this,t)},lf),jh=(pf.prototype.visit=function(e,t){return e.visitBoundText(this,t)},pf),Uh=(uf.prototype.visit=function(e,t){return e.visitAttr(this,t)},uf),Hh=((Oh={})[4]=4,Oh[1]=1,Oh[2]=2,Oh[0]=0,Oh[3]=3,Oh),qh=(af.fromBoundProperty=function(e){return new af(e.name,Hh[e.type],e.securityContext,e.value,e.unit,e.sourceSpan)},af.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},af),Wh=(sf.calcFullName=function(e,t,n){return t?t+":"+e:n?"@"+e+"."+n:e},sf.fromParsedEvent=function(e){return new sf(e.name,0===e.type?e.targetOrPhase:null,1===e.type?e.targetOrPhase:null,e.handler,e.sourceSpan,e.handlerSpan)},sf.prototype.visit=function(e,t){return e.visitEvent(this,t)},sf),zh=(of.prototype.visit=function(e,t){return e.visitReference(this,t)},of),Kh=(rf.fromParsedVariable=function(e){return new rf(e.name,e.value,e.sourceSpan)},rf.prototype.visit=function(e,t){return e.visitVariable(this,t)},rf),Qh=(nf.prototype.visit=function(e,t){return e.visitElement(this,t)},nf),Xh=(tf.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},tf),Gh=(ef.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},ef),$h=(Zh.prototype.visit=function(e,t){return e.visitDirective(this,t)},Zh),Yh=(Jh.prototype.visit=function(e,t){return null},Jh);function Jh(e,t,n,r,i,o,s,a){this.token=e,this.multiProvider=t,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s,this.isModule=a}function Zh(e,t,n,r,i,o){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=o}function ef(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}function tf(e,t,n,r,i,o,s,a,u,p,l){this.attrs=e,this.outputs=t,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=s,this.queryMatches=a,this.children=u,this.ngContentIndex=p,this.sourceSpan=l}function nf(e,t,n,r,i,o,s,a,u,p,l,c,h){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.queryMatches=u,this.children=p,this.ngContentIndex=l,this.sourceSpan=c,this.endSourceSpan=h}function rf(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function of(e,t,n,r){this.name=e,this.value=t,this.originalValue=n,this.sourceSpan=r}function sf(e,t,n,r,i,o){this.name=e,this.target=t,this.phase=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=o,this.fullName=sf.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}function af(e,t,n,r,i,o){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o,this.isAnimation=4===this.type}function uf(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function pf(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}function lf(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}function cf(){this.isExpanded=!1,this.errors=[]}function hf(e,t){return Fh.call(this,e,t)||this}(Dh=x.ProviderAstType||(x.ProviderAstType={}))[Dh.PublicService=0]="PublicService",Dh[Dh.PrivateService=1]="PrivateService",Dh[Dh.Component=2]="Component",Dh[Dh.Directive=3]="Directive",Dh[Dh.Builtin=4]="Builtin";var ff,df=(_f.prototype.visit=function(e,t){return e.visitNgContent(this,t)},_f),vf=(gf.prototype.visitNgContent=function(e,t){},gf.prototype.visitEmbeddedTemplate=function(e,t){},gf.prototype.visitElement=function(e,t){},gf.prototype.visitReference=function(e,t){},gf.prototype.visitVariable=function(e,t){},gf.prototype.visitEvent=function(e,t){},gf.prototype.visitElementProperty=function(e,t){},gf.prototype.visitAttr=function(e,t){},gf.prototype.visitBoundText=function(e,t){},gf.prototype.visitText=function(e,t){},gf.prototype.visitDirective=function(e,t){},gf.prototype.visitDirectiveProperty=function(e,t){},gf),mf=(a(yf,ff=vf),yf.prototype.visitEmbeddedTemplate=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.references),e(t.variables),e(t.directives),e(t.providers),e(t.children)})},yf.prototype.visitElement=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.inputs),e(t.outputs),e(t.references),e(t.directives),e(t.providers),e(t.children)})},yf.prototype.visitDirective=function(t,e){return this.visitChildren(e,function(e){e(t.inputs),e(t.hostProperties),e(t.hostEvents)})},yf.prototype.visitChildren=function(t,e){var n=[],r=this;return e(function(e){e&&e.length&&n.push(Ef(r,e,t))}),[].concat.apply([],n)},yf);function yf(){return ff.call(this)||this}function gf(){}function _f(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}function Ef(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(e){var t=i(e);t&&r.push(t)}),r}function Sf(e,t){var n,r,i,o=this;this.reflector=e,this.component=t,this.errors=[],this.viewQueries=(n=t,r=1,i=new Map,n.viewQueries&&n.viewQueries.forEach(function(e){return kf(i,{meta:e,queryId:r++})}),i),this.viewProviders=new Map,t.viewProviders.forEach(function(e){null==o.viewProviders.get(Si(e.token))&&o.viewProviders.set(Si(e.token),!0)})}var xf,wf=(a(Nf,xf=Mu),Nf),Cf=(Pf.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(Pf.prototype,"transformProviders",{get:function(){var t=[],n=[];return this._transformedProviders.forEach(function(e){e.eager?n.push(e):t.push(e)}),t.concat(n)},enumerable:!0,configurable:!0}),Object.defineProperty(Pf.prototype,"transformedDirectiveAsts",{get:function(){var n=this.transformProviders.map(function(e){return e.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,t){return n.indexOf(e.directive.type)-n.indexOf(t.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(Pf.prototype,"queryMatches",{get:function(){var t=[];return this._queriedTokens.forEach(function(e){t.push.apply(t,H(e))}),t},enumerable:!0,configurable:!0}),Pf.prototype._addQueryReadsTo=function(e,i,o){this._getQueriesFor(e).forEach(function(e){var t=e.meta.read||i,n=Si(t),r=o.get(n);r||o.set(n,r=[]),r.push({queryId:e.queryId,value:t})})},Pf.prototype._getQueriesFor=function(e){for(var t,n=[],r=this,i=0;null!==r;)(t=r._contentQueries.get(Si(e)))&&n.push.apply(n,H(t.filter(function(e){return e.meta.descendants||i<=1}))),0<r._directiveAsts.length&&i++,r=r._parent;return(t=this.viewContext.viewQueries.get(Si(e)))&&n.push.apply(n,H(t)),n},Pf.prototype._getOrCreateLocalProvider=function(e,t,o){var s=this,a=this._allProviders.get(Si(t));if(!a||(e===x.ProviderAstType.Directive||e===x.ProviderAstType.PublicService)&&a.providerType===x.ProviderAstType.PrivateService||(e===x.ProviderAstType.PrivateService||e===x.ProviderAstType.PublicService)&&a.providerType===x.ProviderAstType.Builtin)return null;var n=this._transformedProviders.get(Si(t));if(n)return n;if(null!=this._seenProviders.get(Si(t)))return this.viewContext.errors.push(new wf("Cannot instantiate cyclic dependency! "+Ei(t),this._sourceSpan)),null;this._seenProviders.set(Si(t),!0);var r=a.providers.map(function(e){var t=e.useValue,n=e.useExisting,r=void 0;if(null!=e.useExisting){var i=s._getDependency(a.providerType,{token:e.useExisting},o);null!=i.token?n=i.token:(n=null,t=i.value)}else e.useFactory?r=(e.deps||e.useFactory.diDeps).map(function(e){return s._getDependency(a.providerType,e,o)}):e.useClass&&(r=(e.deps||e.useClass.diDeps).map(function(e){return s._getDependency(a.providerType,e,o)}));return Mf(e,{useExisting:n,useValue:t,deps:r})});return n=Af(a,{eager:o,providers:r}),this._transformedProviders.set(Si(t),n),n},Pf.prototype._getLocalDependency=function(e,t,n){if(void 0===n&&(n=!1),t.isAttribute){var r=this._attrs[t.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=t.token){if(e===x.ProviderAstType.Directive||e===x.ProviderAstType.Component){if(Si(t.token)===this.viewContext.reflector.resolveExternalReference(ni.Renderer)||Si(t.token)===this.viewContext.reflector.resolveExternalReference(ni.ElementRef)||Si(t.token)===this.viewContext.reflector.resolveExternalReference(ni.ChangeDetectorRef)||Si(t.token)===this.viewContext.reflector.resolveExternalReference(ni.TemplateRef))return t;Si(t.token)===this.viewContext.reflector.resolveExternalReference(ni.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(Si(t.token)===this.viewContext.reflector.resolveExternalReference(ni.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null},Pf.prototype._getDependency=function(e,t,n){void 0===n&&(n=!1);var r=this,i=n,o=null;if(t.isSkipSelf||(o=this._getLocalDependency(e,t,n)),t.isSelf)!o&&t.isOptional&&(o={isValue:!0,value:null});else{for(;!o&&r._parent;)r._isViewRoot&&(i=!1),o=(r=r._parent)._getLocalDependency(x.ProviderAstType.PublicService,t,i);o=o||(!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===Si(t.token)||null!=this.viewContext.viewProviders.get(Si(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return o||this.viewContext.errors.push(new wf("No provider for "+Ei(t.token),this._sourceSpan)),o},Pf),bf=(Tf.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),0<this._errors.length){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}var n=[],r=[];return this._transformedProviders.forEach(function(e){e.eager?r.push(e):n.push(e)}),n.concat(r)},Tf.prototype._getOrCreateLocalProvider=function(e,o){var s=this,a=this._allProviders.get(Si(e));if(!a)return null;var t=this._transformedProviders.get(Si(e));if(t)return t;if(null!=this._seenProviders.get(Si(e)))return this._errors.push(new wf("Cannot instantiate cyclic dependency! "+Ei(e),a.sourceSpan)),null;this._seenProviders.set(Si(e),!0);var n=a.providers.map(function(e){var t=e.useValue,n=e.useExisting,r=void 0;if(null!=e.useExisting){var i=s._getDependency({token:e.useExisting},o,a.sourceSpan);null!=i.token?n=i.token:(n=null,t=i.value)}else e.useFactory?r=(e.deps||e.useFactory.diDeps).map(function(e){return s._getDependency(e,o,a.sourceSpan)}):e.useClass&&(r=(e.deps||e.useClass.diDeps).map(function(e){return s._getDependency(e,o,a.sourceSpan)}));return Mf(e,{useExisting:n,useValue:t,deps:r})});return t=Af(a,{eager:o,providers:n}),this._transformedProviders.set(Si(e),t),t},Tf.prototype._getDependency=function(e,t,n){return void 0===t&&(t=!1),e.isSkipSelf||null==e.token||Si(e.token)===this.reflector.resolveExternalReference(ni.Injector)||Si(e.token)===this.reflector.resolveExternalReference(ni.ComponentFactoryResolver)||this._getOrCreateLocalProvider(e.token,t),e},Tf);function Tf(e,t,n,r){var i=this;this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(e){If([{token:{identifier:e},useClass:e}],x.ProviderAstType.PublicService,!0,r,i._errors,i._allProviders,!0)}),If(t.transitiveModule.providers.map(function(e){return e.provider}).concat(n),x.ProviderAstType.PublicService,!1,r,this._errors,this._allProviders,!1)}function Pf(e,t,n,r,i,o,s,a,u){var p=this;this.viewContext=e,this._parent=t,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(function(e){return p._attrs[e.name]=e.value});var l,c,h,f,d,v,m,y=r.map(function(e){return e.directive});if(this._allProviders=(f=y,d=u,v=e.errors,m=new Map,f.forEach(function(e){If([{token:{identifier:e.type},useClass:e.type}],e.isComponent?x.ProviderAstType.Component:x.ProviderAstType.Directive,!0,d,v,m,!1)}),f.filter(function(e){return e.isComponent}).concat(f.filter(function(e){return!e.isComponent})).forEach(function(e){If(e.providers,x.ProviderAstType.PublicService,!1,d,v,m,!1),If(e.viewProviders,x.ProviderAstType.PrivateService,!1,d,v,m,!1)}),m),this._contentQueries=(l=y,c=a,h=new Map,l.forEach(function(e,t){e.queries&&e.queries.forEach(function(e){return kf(h,{meta:e,queryId:c++})})}),h),Array.from(this._allProviders.values()).forEach(function(e){p._addQueryReadsTo(e.token,e.token,p._queriedTokens)}),s){var g=oi(this.viewContext.reflector,ni.TemplateRef);this._addQueryReadsTo(g,g,this._queriedTokens)}o.forEach(function(e){var t=e.value||oi(p.viewContext.reflector,ni.ElementRef);p._addQueryReadsTo({value:e.name},t,p._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(ni.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(e){(e.eager||p._queriedTokens.get(Si(e.token)))&&p._getOrCreateLocalProvider(e.providerType,e.token,!0)})}function Nf(e,t){return xf.call(this,t,e)||this}function Mf(e,t){return{token:e.token,useClass:e.useClass,useExisting:t.useExisting,useFactory:e.useFactory,useValue:t.useValue,deps:t.deps,multi:e.multi}}function Af(e,t){return new Yh(e.token,e.multiProvider,e.eager||t.eager,t.providers,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function If(e,n,r,i,o,s,a){e.forEach(function(e){var t=s.get(Si(e.token));null!=t&&!!t.multiProvider!=!!e.multi&&o.push(new wf("Mixing multi and non multi provider is not possible for token "+Ei(t.token),i)),t?(e.multi||(t.providers.length=0),t.providers.push(e)):(t=new Yh(e.token,!!e.multi,r||!(e.useClass||e.useExisting||e.useFactory),[e],n,e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],i,a),s.set(Si(e.token),t))})}function kf(n,r){r.meta.selectors.forEach(function(e){var t=n.get(Si(e));t||(t=[],n.set(Si(e),t)),t.push(r)})}function Rf(e,t){this.style=e,this.styleUrls=t}function Of(e){if(null==e||0===e.length||"/"==e[0])return!1;var t=e.match(Bf);return null===t||"package"==t[1]||"asset"==t[1]}var Df,Ff=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,Lf=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,Bf=/^([^:\/?#]+):/,Vf=(Object.defineProperty(Hf.prototype,"interpolationConfig",{get:function(){return this._interpolationConfig},enumerable:!0,configurable:!0}),Hf.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},Hf.prototype.createBoundHostProperties=function(n,r){var i=this;if(n.hostProperties){var o=[];return Object.keys(n.hostProperties).forEach(function(e){var t=n.hostProperties[e];"string"==typeof t?i.parsePropertyBinding(e,t,!0,r,[],o):i._reportError('Value of the host property binding "'+e+'" needs to be a string representing an expression but got "'+t+'" ('+typeof t+")",r)}),o}return null},Hf.prototype.createDirectiveHostPropertyAsts=function(e,t,n){var r=this,i=this.createBoundHostProperties(e,n);return i&&i.map(function(e){return r.createBoundElementProperty(t,e)})},Hf.prototype.createDirectiveHostEventAsts=function(n,r){var i=this;if(n.hostListeners){var o=[];return Object.keys(n.hostListeners).forEach(function(e){var t=n.hostListeners[e];"string"==typeof t?i.parseEvent(e,t,r,r,[],o):i._reportError('Value of the host listener "'+e+'" needs to be a string representing an expression but got "'+t+'" ('+typeof t+")",r)}),o}return null},Hf.prototype.parseInterpolation=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},Hf.prototype.parseInlineTemplateBinding=function(e,t,n,r,i,o){for(var s=this._parseTemplateBindings(e,t,n),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?o.push(new dl(u.key,u.name,n)):u.expression?this._parsePropertyAst(u.key,u.expression,n,r,i):(r.push([u.key,""]),this.parseLiteralAttr(u.key,null,n,r,i))}},Hf.prototype._parseTemplateBindings=function(e,t,n){var r=this,i=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(e,t,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(e){e.expression&&r._checkPipes(e.expression,n)}),o.warnings.forEach(function(e){r._reportError(e,n,x.ParseErrorLevel.WARNING)}),o.templateBindings}catch(e){return this._reportError(""+e,n),[]}},Hf.prototype.parseLiteralAttr=function(e,t,n,r,i){qf(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,x.ParseErrorLevel.ERROR),this._parseAnimation(e,t,n,r,i)):i.push(new qu(e,this._exprParser.wrapLiteralPrimitive(t,""),x.ParsedPropertyType.LITERAL_ATTR,n))},Hf.prototype.parsePropertyBinding=function(e,t,n,r,i,o){var s=!1;e.startsWith("animate-")?(s=!0,e=e.substring("animate-".length)):qf(e)&&(s=!0,e=e.substring(1)),s?this._parseAnimation(e,t,r,i,o):this._parsePropertyAst(e,this._parseBinding(t,n,r),r,i,o)},Hf.prototype.parsePropertyInterpolation=function(e,t,n,r,i){var o=this.parseInterpolation(t,n);return!!o&&(this._parsePropertyAst(e,o,n,r,i),!0)},Hf.prototype._parsePropertyAst=function(e,t,n,r,i){r.push([e,t.source]),i.push(new qu(e,t,x.ParsedPropertyType.DEFAULT,n))},Hf.prototype._parseAnimation=function(e,t,n,r,i){var o=this._parseBinding(t||"undefined",!1,n);r.push([e,o.source]),i.push(new qu(e,o,x.ParsedPropertyType.ANIMATION,n))},Hf.prototype._parseBinding=function(e,t,n){var r=(n&&n.start||"(unknown)").toString();try{var i=t?this._exprParser.parseSimpleBinding(e,r,this._interpolationConfig):this._exprParser.parseBinding(e,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(e){return this._reportError(""+e,n),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},Hf.prototype.createBoundElementProperty=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t.isAnimation)return new vl(t.name,4,A.NONE,t.expression,null,t.sourceSpan);var i=null,o=void 0,s=null,a=t.name.split("."),u=void 0;if(1<a.length)if("attr"==a[0]){s=a[1],n||this._validatePropertyOrAttributeName(s,t.sourceSpan,!0),u=Wf(this._schemaRegistry,e,s,!0);var p=s.indexOf(":");-1<p&&(s=c(s.substring(0,p),s.substring(p+1))),o=1}else"class"==a[0]?(s=a[1],o=2,u=[A.NONE]):"style"==a[0]&&(i=2<a.length?a[2]:null,s=a[1],o=3,u=[A.STYLE]);if(null===s){var l=this._schemaRegistry.getMappedPropName(t.name);s=r?l:t.name,u=Wf(this._schemaRegistry,e,l,!1),o=0,n||this._validatePropertyOrAttributeName(l,t.sourceSpan,!1)}return new vl(s,o,u[0],t.expression,i,t.sourceSpan)},Hf.prototype.parseEvent=function(e,t,n,r,i,o){qf(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r,o)):this._parseRegularEvent(e,t,n,r,i,o)},Hf.prototype.calcPossibleSecurityContexts=function(e,t,n){var r=this._schemaRegistry.getMappedPropName(t);return Wf(this._schemaRegistry,e,r,n)},Hf.prototype._parseAnimationEvent=function(e,t,n,r,i){var o=xr(e,".",[e,""]),s=o[0],a=o[1].toLowerCase();if(a)switch(a){case"start":case"done":var u=this._parseAction(t,r);i.push(new fl(s,a,1,u,n,r));break;default:this._reportError('The provided animation output phase value "'+a+'" for "@'+s+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+s+") is missing its phase value name (start or done are currently supported)",n)},Hf.prototype._parseRegularEvent=function(e,t,n,r,i,o){var s=k(Sr(e,[null,e]),2),a=s[0],u=s[1],p=this._parseAction(t,r);i.push([e,p.source]),o.push(new fl(u,a,0,p,n,r))},Hf.prototype._parseAction=function(e,t){var n=(t&&t.start||"(unknown").toString();try{var r=this._exprParser.parseAction(e,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),!r||r.ast instanceof vp?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,t),r)}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},Hf.prototype._reportError=function(e,t,n){void 0===n&&(n=x.ParseErrorLevel.ERROR),this.errors.push(new Mu(t,e,n))},Hf.prototype._reportExpressionParserErrors=function(e,t){var n,r;try{for(var i=U(e),o=i.next();!o.done;o=i.next())this._reportError(o.value.message,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Hf.prototype._checkPipes=function(e,r){var i=this;if(e&&this.pipesByName){var t=new jf;e.visit(t),t.pipes.forEach(function(e,t){var n=i.pipesByName.get(t);n?i._usedPipes.set(t,n):i._reportError("The pipe '"+t+"' could not be found",new Tu(r.start.moveBy(e.span.start),r.start.moveBy(e.span.end)))})}},Hf.prototype._validatePropertyOrAttributeName=function(e,t,n){var r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,x.ParseErrorLevel.ERROR)},Hf),jf=(a(Uf,Df=Lp),Uf.prototype.visitPipe=function(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null},Uf);function Uf(){var e=null!==Df&&Df.apply(this,arguments)||this;return e.pipes=new Map,e}function Hf(e,t,n,r,i){if(this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r){var o=new Map;r.forEach(function(e){return o.set(e.name,e)}),this.pipesByName=o}}function qf(e){return"@"==e[0]}function Wf(i,e,o,s){var a=[];return V.parse(e).forEach(function(e){var t=e.element?[e.element]:i.allKnownElementNames(),n=new Set(e.notSelectors.filter(function(e){return e.isElementSelector()}).map(function(e){return e.element})),r=t.filter(function(e){return!n.has(e)});a.push.apply(a,H(r.map(function(e){return i.securityContext(e,o,s)})))}),0===a.length?[A.NONE]:Array.from(new Set(a)).sort()}var zf,Kf;function Qf(e){var t,n=null,r=null,i=null,o=!1,s="";e.attrs.forEach(function(e){var t=e.name.toLowerCase();"select"==t?n=e.value:"href"==t?r=e.value:"rel"==t?i=e.value:"ngNonBindable"==e.name?o=!0:"ngProjectAs"==e.name&&0<e.value.length&&(s=e.value)}),n=null===(t=n)||0===t.length?"*":t;var a=e.name.toLowerCase(),u=zf.OTHER;return p(a)?u=zf.NG_CONTENT:"style"==a?u=zf.STYLE:"script"==a?u=zf.SCRIPT:"link"==a&&"stylesheet"==i&&(u=zf.STYLESHEET),new Xf(u,n,r,o,s)}(Kf=zf=zf||{})[Kf.NG_CONTENT=0]="NG_CONTENT",Kf[Kf.STYLE=1]="STYLE",Kf[Kf.STYLESHEET=2]="STYLESHEET",Kf[Kf.SCRIPT=3]="SCRIPT",Kf[Kf.OTHER=4]="OTHER";function Xf(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}var Gf,$f=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function Yf(){return Gf=Gf||V.parse("*")[0]}function Jf(e,t,n){this.templateAst=e,this.usedPipes=t,this.errors=n}var Zf,ed=(a(pd,Zf=Mu),pd),td=(Object.defineProperty(ud.prototype,"expressionParser",{get:function(){return this._exprParser},enumerable:!0,configurable:!0}),ud.prototype.parse=function(e,t,n,r,i,o,s){var a=this.tryParse(e,t,n,r,i,o,s),u=a.errors.filter(function(e){return e.level===x.ParseErrorLevel.WARNING}),p=a.errors.filter(function(e){return e.level===x.ParseErrorLevel.ERROR});if(0<u.length&&this._console.warn("Template parse warnings:\n"+u.join("\n")),0<p.length)throw kr("Template parse errors:\n"+p.join("\n"),p);return{template:a.templateAst,pipes:a.usedPipes}},ud.prototype.tryParse=function(e,t,n,r,i,o,s){var a="string"==typeof t?this._htmlParser.parse(t,o,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return s||(a=Ah(a)),this.tryParseHtml(this.expandHtml(a),e,n,r,i)},ud.prototype.tryParseHtml=function(e,t,n,r,i){var o,s=e.errors,a=[];if(0<e.rootNodes.length){var u=yd(n),p=yd(r),l=new Sf(this._reflector,t),c=void 0;t.template&&t.template.interpolation&&(c={start:t.template.interpolation[0],end:t.template.interpolation[1]});var h=new Vf(this._exprParser,c,this._schemaRegistry,p,s),f=new nd(this._reflector,this._config,l,u,h,this._schemaRegistry,i,s);o=Bc(f,e.rootNodes,dd),s.push.apply(s,H(l.errors)),a.push.apply(a,H(h.getUsedPipes()))}else o=[];return this._assertNoReferenceDuplicationOnTemplate(o,s),0<s.length||this.transforms&&this.transforms.forEach(function(e){o=Ef(e,o)}),new Jf(o,a,s)},ud.prototype.expandHtml=function(e,t){void 0===t&&(t=!1);var n=e.errors;if(0==n.length||t){var r=kh(e.rootNodes);n.push.apply(n,H(r.errors)),e=new oh(r.nodes,n)}return e},ud.prototype.getInterpolationConfig=function(e){if(e.template)return Ea.fromArray(e.template.interpolation)},ud.prototype._assertNoReferenceDuplicationOnTemplate=function(e,r){var i=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var t=e.name;if(i.indexOf(t)<0)i.push(t);else{var n=new ed('Reference "#'+t+'" is defined several times',e.sourceSpan,x.ParseErrorLevel.ERROR);r.push(n)}})})},ud),nd=(ad.prototype.visitExpansion=function(e,t){return null},ad.prototype.visitExpansionCase=function(e,t){return null},ad.prototype.visitText=function(e,t){var n=t.findNgContentIndex(Yf()),r=Ph(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new jh(i,n,e.sourceSpan):new Vh(r,n,e.sourceSpan)},ad.prototype.visitAttribute=function(e,t){return new Uh(e.name,e.value,e.sourceSpan)},ad.prototype.visitComment=function(e,t){return null},ad.prototype.visitElement=function(e,t){var a=this,n=this.contentQueryStartId,r=e.name,i=Qf(e);if(i.type===zf.SCRIPT||i.type===zf.STYLE)return null;if(i.type===zf.STYLESHEET&&Of(i.hrefAttr))return null;var u=[],p=[],l=[],c=[],h=[],f=[],d=[],v=[],m=!1,y=[],g=B(e.name);e.attrs.forEach(function(e){var t,n,r=a._parseAttr(g,e,u,p,h,l,c);c.push.apply(c,H([].map(function(e){return Kh.fromParsedVariable(e)})));var i=a._normalizeAttributeName(e.name);i.startsWith("*")&&(t=e.value,n=i.substring("*".length));var o=null!=t;if(o){m&&a._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),m=!0;var s=[];a._bindingParser.parseInlineTemplateBinding(n,t,e.sourceSpan,d,f,s),v.push.apply(v,H(s.map(function(e){return Kh.fromParsedVariable(e)})))}r||o||(y.push(a.visitAttribute(e,null)),u.push([e.name,e.value]))});var o=fd(r,u),s=this._parseDirectives(this.selectorMatcher,o),_=s.directives,E=s.matchElement,S=[],x=new Set,w=this._createDirectiveAsts(g,e.name,_,p,l,e.sourceSpan,S,x),C=this._createElementPropertyAsts(e.name,p,x),b=new Cf(this.providerViewContext,t.providerContext,t.isTemplateElement||m,w,y,S,g,n,e.sourceSpan),T=Bc(i.nonBindable?vd:this,e.children,cd.create(g,w,g?t.providerContext:b));b.afterElement();var P,N=""!=i.projectAs?V.parse(i.projectAs)[0]:o,M=t.findNgContentIndex(N);if(i.type===zf.NG_CONTENT)e.children&&!e.children.every(md)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),P=new df(this.ngContentCount++,m?null:M,e.sourceSpan);else if(g)this._assertAllEventsPublishedByDirectives(w,h),this._assertNoComponentsNorElementBindingsOnTemplate(w,C,e.sourceSpan),P=new Xh(y,h,S,c,b.transformedDirectiveAsts,b.transformProviders,b.transformedHasViewContainer,b.queryMatches,T,m?null:M,e.sourceSpan);else{this._assertElementExists(E,e),this._assertOnlyOneComponent(w,e.sourceSpan);var A=m?null:t.findNgContentIndex(N);P=new Qh(r,y,C,h,S,b.transformedDirectiveAsts,b.transformProviders,b.transformedHasViewContainer,b.queryMatches,T,m?null:A,e.sourceSpan,e.endSourceSpan||null)}if(m){var I=this.contentQueryStartId,k=fd("ng-template",d),R=this._parseDirectives(this.selectorMatcher,k).directives,O=new Set,D=this._createDirectiveAsts(!0,r,R,f,[],e.sourceSpan,[],O),F=this._createElementPropertyAsts(r,f,O);this._assertNoComponentsNorElementBindingsOnTemplate(D,F,e.sourceSpan);var L=new Cf(this.providerViewContext,t.providerContext,t.isTemplateElement,D,[],[],!0,I,e.sourceSpan);L.afterElement(),P=new Xh([],[],[],v,L.transformedDirectiveAsts,L.transformProviders,L.transformedHasViewContainer,L.queryMatches,[P],M,e.sourceSpan)}return P},ad.prototype._parseAttr=function(e,t,n,r,i,o,s){var a=this._normalizeAttributeName(t.name),u=t.value,p=t.sourceSpan,l=[],c=a.match($f),h=!1;return null!==c?(h=!0,null!=c[1]?this._bindingParser.parsePropertyBinding(c[7],u,!1,p,n,r):c[2]?e?this._parseVariable(c[7],u,p,s):this._reportError('"let-" is only supported on ng-template elements.',p):c[3]?this._parseReference(c[7],u,p,o):c[4]?this._bindingParser.parseEvent(c[7],u,p,t.valueSpan||p,n,l):c[5]?(this._bindingParser.parsePropertyBinding(c[7],u,!1,p,n,r),this._parseAssignmentEvent(c[7],u,p,t.valueSpan||p,n,l)):c[6]?this._bindingParser.parseLiteralAttr(a,u,p,n,r):c[8]?(this._bindingParser.parsePropertyBinding(c[8],u,!1,p,n,r),this._parseAssignmentEvent(c[8],u,p,t.valueSpan||p,n,l)):c[9]?this._bindingParser.parsePropertyBinding(c[9],u,!1,p,n,r):c[10]&&this._bindingParser.parseEvent(c[10],u,p,t.valueSpan||p,n,l)):h=this._bindingParser.parsePropertyInterpolation(a,u,p,n,r),h||this._bindingParser.parseLiteralAttr(a,u,p,n,r),i.push.apply(i,H(l.map(function(e){return Wh.fromParsedEvent(e)}))),h},ad.prototype._normalizeAttributeName=function(e){return/^data-/i.test(e)?e.substring(5):e},ad.prototype._parseVariable=function(e,t,n,r){-1<e.indexOf("-")&&this._reportError('"-" is not allowed in variable names',n),r.push(new Kh(e,t,n))},ad.prototype._parseReference=function(e,t,n,r){-1<e.indexOf("-")&&this._reportError('"-" is not allowed in reference names',n),r.push(new id(e,t,n))},ad.prototype._parseAssignmentEvent=function(e,t,n,r,i,o){this._bindingParser.parseEvent(e+"Change",t+"=$event",n,r,i,o)},ad.prototype._parseDirectives=function(e,t){var n=this,r=new Array(this.directivesIndex.size),i=!1;return e.match(t,function(e,t){r[n.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()}),{directives:r.filter(function(e){return!!e}),matchElement:i}},ad.prototype._createDirectiveAsts=function(n,a,e,u,p,l,c,h){var f=this,d=new Set,v=null,t=e.map(function(t){var e=new Tu(l.start,l.end,"Directive "+di(t.type));t.isComponent&&(v=t);var n=[],r=f._bindingParser.createDirectiveHostPropertyAsts(t,a,e).map(function(e){return qh.fromBoundProperty(e)});r=f._checkPropertiesInSchema(a,r);var i=f._bindingParser.createDirectiveHostEventAsts(t,e);f._createDirectivePropertyAsts(t.inputs,u,n,h),p.forEach(function(e){(0===e.value.length&&t.isComponent||e.isReferenceToDirective(t))&&(c.push(new zh(e.name,ii(t.type.reference),e.value,e.sourceSpan)),d.add(e.name))});var o=i.map(function(e){return Wh.fromParsedEvent(e)}),s=f.contentQueryStartId;return f.contentQueryStartId+=t.queries.length,new $h(t,n,r,o,s,e)});return p.forEach(function(e){if(0<e.value.length)d.has(e.name)||f._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!v){var t=null;n&&(t=oi(f.reflector,ni.TemplateRef)),c.push(new zh(e.name,t,e.value,e.sourceSpan))}}),t},ad.prototype._createDirectivePropertyAsts=function(n,e,r,i){if(n){var o=new Map;e.forEach(function(e){var t=o.get(e.name);t&&!t.isLiteral||o.set(e.name,e)}),Object.keys(n).forEach(function(e){var t=o.get(n[e]);t&&(i.add(t.name),gd(t.expression)||r.push(new Gh(e,t.name,t.expression,t.sourceSpan)))})}},ad.prototype._createElementPropertyAsts=function(n,e,r){var i=this,o=[];return e.forEach(function(e){if(!e.isLiteral&&!r.has(e.name)){var t=i._bindingParser.createBoundElementProperty(n,e);o.push(qh.fromBoundProperty(t))}}),this._checkPropertiesInSchema(n,o)},ad.prototype._findComponentDirectives=function(e){return e.filter(function(e){return e.directive.isComponent})},ad.prototype._findComponentDirectiveNames=function(e){return this._findComponentDirectives(e).map(function(e){return di(e.directive.type)})},ad.prototype._assertOnlyOneComponent=function(e,t){var n=this._findComponentDirectiveNames(e);1<n.length&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),t)},ad.prototype._assertElementExists=function(e,t){var n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'"+n+"' is not a known element:\n";r+="1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n",-1<n.indexOf("-")?r+="2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":r+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,t.sourceSpan)}},ad.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,n){var r=this,i=this._findComponentDirectiveNames(e);0<i.length&&this._reportError("Components on an embedded template: "+i.join(","),n),t.forEach(function(e){r._reportError("Property binding "+e.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},ad.prototype._assertAllEventsPublishedByDirectives=function(e,t){var n=this,r=new Set;e.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){r.add(t.directive.outputs[e])})}),t.forEach(function(e){null==e.target&&r.has(e.name)||n._reportError("Event binding "+e.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',e.sourceSpan)})},ad.prototype._checkPropertiesInSchema=function(n,e){var r=this;return e.filter(function(e){if(0===e.type&&!r._schemaRegistry.hasProperty(n,e.name,r._schemas)){var t="Can't bind to '"+e.name+"' since it isn't a known property of '"+n+"'.";n.startsWith("ng-")?t+="\n1. If '"+e.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":-1<n.indexOf("-")&&(t+="\n1. If '"+n+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module.\n2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),r._reportError(t,e.sourceSpan)}return!gd(e.value)})},ad.prototype._reportError=function(e,t,n){void 0===n&&(n=x.ParseErrorLevel.ERROR),this._targetErrors.push(new Mu(t,e,n))},ad),rd=(sd.prototype.visitElement=function(e,t){var n=Qf(e);if(n.type===zf.SCRIPT||n.type===zf.STYLE||n.type===zf.STYLESHEET)return null;var r=e.attrs.map(function(e){return[e.name,e.value]}),i=fd(e.name,r),o=t.findNgContentIndex(i),s=Bc(this,e.children,dd);return new Qh(e.name,Bc(this,e.attrs),[],[],[],[],[],!1,[],s,o,e.sourceSpan,e.endSourceSpan)},sd.prototype.visitComment=function(e,t){return null},sd.prototype.visitAttribute=function(e,t){return new Uh(e.name,e.value,e.sourceSpan)},sd.prototype.visitText=function(e,t){var n=t.findNgContentIndex(Yf());return new Vh(e.value,n,e.sourceSpan)},sd.prototype.visitExpansion=function(e,t){return e},sd.prototype.visitExpansionCase=function(e,t){return e},sd),id=(od.prototype.isReferenceToDirective=function(e){return-1!==((t=e.exportAs)?t.split(",").map(function(e){return e.trim()}):[]).indexOf(this.value);var t},od);function od(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}function sd(){}function ad(e,t,n,r,i,o,s,a){var u=this;this.reflector=e,this.config=t,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=o,this._schemas=s,this._targetErrors=a,this.selectorMatcher=new L,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach(function(e,t){var n=V.parse(e.selector);u.selectorMatcher.addSelectables(n,e),u.directivesIndex.set(e,t)})}function ud(e,t,n,r,i,o,s){this._config=e,this._reflector=t,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=o,this.transforms=s}function pd(e,t,n){return Zf.call(this,t,e,n)||this}function ld(e){return e.trim().split(/\s+/g)}var cd=(hd.create=function(e,t,n){var r=new L,i=null,o=t.find(function(e){return e.directive.isComponent});if(o)for(var s=o.directive.template.ngContentSelectors,a=0;a<s.length;a++)"*"===s[a]?i=a:r.addSelectables(V.parse(s[a]),a);return new hd(e,r,i,n)},hd.prototype.findNgContentIndex=function(e){var n=[];return this._ngContentIndexMatcher.match(e,function(e,t){n.push(t)}),n.sort(),null!=this._wildcardNgContentIndex&&n.push(this._wildcardNgContentIndex),0<n.length?n[0]:null},hd);function hd(e,t,n,r){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=n,this.providerContext=r}function fd(e,t){var n=new V,r=R(e)[1];n.setElement(r);for(var i=0;i<t.length;i++){var o=t[i][0],s=R(o)[1],a=t[i][1];n.addAttribute(s,a),"class"==o.toLowerCase()&&ld(a).forEach(function(e){return n.addClassName(e)})}return n}var dd=new cd(!0,new L,null,null),vd=new rd;function md(e){return e instanceof bc&&0==e.value.trim().length}function yd(e){var t=new Map;return e.forEach(function(e){t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function gd(e){return e instanceof Dp&&(e=e.ast),e instanceof vp}function _d(e){var t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){var n=e.substring(1,e.length-1);-1==n.indexOf("'")&&-1==n.indexOf('"')&&(e=n)}return e}var Ed,Sd=(xd.prototype.registerBoundInput=function(e){var t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t},xd.prototype.registerInputBasedOnName=function(e,t,n){var r=null,i=e.substring(0,5),o="style"===i;if(o||!o&&"class"===i){var s="."!==e.charAt(5),a=e.substr(s?5:6);r=o?this.registerStyleInput(a,s,t,n):this.registerClassInput(a,s,t,n)}return r},xd.prototype.registerStyleInput=function(e,t,n,r,i){if(gd(n))return null;var o,s=Td(e),a=s.property,u={name:a,unit:i||s.unit,value:n,sourceSpan:r,hasOverrideFlag:s.hasOverrideFlag};return t?(this._useDefaultSanitizer=!0,this._styleMapInput=u):((this._singleStyleInputs=this._singleStyleInputs||[]).push(u),this._useDefaultSanitizer=this._useDefaultSanitizer||"background-image"===(o=e)||"background"===o||"border-image"===o||"filter"===o||"list-style"===o||"list-style-image"===o,wd(this._stylesIndex,a)),this._lastStylingInput=u,this.hasBindings=!0,u},xd.prototype.registerClassInput=function(e,t,n,r){if(gd(n))return null;var i=Td(e),o=i.property,s={name:o,value:n,sourceSpan:r,hasOverrideFlag:i.hasOverrideFlag,unit:null};return t?this._classMapInput=s:((this._singleClassInputs=this._singleClassInputs||[]).push(s),wd(this._classesIndex,o)),this._lastStylingInput=s,this.hasBindings=!0,s},xd.prototype.registerStyleAttr=function(e){this._initialStyleValues=function(e){for(var t=[],n=0,r=0,i=0,o=0,s=0,a=null,u=!1;n<e.length;)switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:u=u||0<o,0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:u=u||0<o,0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:a||0!==r||0!==i||(a=e.substring(s,n-1).trim().replace(/[a-z][A-Z]/g,function(e){return e.charAt(0)+"-"+e.charAt(1)}).toLowerCase(),o=n);break;case 59:if(a&&0<o&&0===r&&0===i){var p=e.substring(o,n-1).trim();t.push(a,u?_d(p):p),s=n,o=0,a=null,u=!1}}return a&&o&&(p=e.substr(o).trim(),t.push(a,u?_d(p):p)),t}(e),this._hasInitialValues=!0},xd.prototype.registerClassAttr=function(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0},xd.prototype.populateInitialStylingAttrs=function(e){if(this._initialClassValues.length){e.push(gr(1));for(var t=0;t<this._initialClassValues.length;t++)e.push(gr(this._initialClassValues[t]))}if(this._initialStyleValues.length)for(e.push(gr(2)),t=0;t<this._initialStyleValues.length;t+=2)e.push(gr(this._initialStyleValues[t]),gr(this._initialStyleValues[t+1]))},xd.prototype.buildHostAttrsInstruction=function(e,t,n){var r=this;return this._directiveExpr&&(t.length||this._hasInitialValues)?{sourceSpan:e,reference:Hi.elementHostAttrs,allocateBindingSlots:0,buildParams:function(){return r.populateInitialStylingAttrs(t),[t.some(function(e){return e instanceof Ke})?dr(t):Cd(n,t)]}}:null},xd.prototype.buildElementStylingInstruction=function(e,i){var o=this;return this.hasBindings?{sourceSpan:e,allocateBindingSlots:0,reference:this._directiveExpr?Hi.elementHostStyling:Hi.elementStyling,buildParams:function(){var e=o._singleStyleInputs?o._singleStyleInputs.map(function(e){return gr(e.name)}):[],t=o._singleClassInputs?o._singleClassInputs.map(function(e){return gr(e.name)}):[],n=[],r=0;return o._useDefaultSanitizer?r=3:e.length?r=2:t.length&&(r=1),bd(n,0<t.length,Cd(i,t),1,r),bd(n,0<e.length,Cd(i,e),2,r),bd(n,o._useDefaultSanitizer,cr(Hi.defaultStyleSanitizer),3,r),n}}:null},xd.prototype.buildElementStylingMapInstruction=function(e){var r=this;if(this._classMapInput||this._styleMapInput){var t=this._classMapInput||this._styleMapInput,n=0,i=this._classMapInput?this._classMapInput.value.visit(e):null;i instanceof Np&&(n+=i.expressions.length);var o=this._styleMapInput?this._styleMapInput.value.visit(e):null;o instanceof Np&&(n+=o.expressions.length);var s=this._directiveExpr;return{sourceSpan:t.sourceSpan,reference:s?Hi.elementHostStylingMap:Hi.elementStylingMap,allocateBindingSlots:n,buildParams:function(e){var t=[];s||t.push(r._elementIndexExpr);var n=0;return o?n=2:i&&(n=1),bd(t,i,i?e(i):null,1,n),bd(t,o,o?e(o):null,2,n),t}}}return null},xd.prototype._buildSingleInputs=function(e,o,t,s,a,u){var p=this,l=0;return t.map(function(n){var r=s.get(n.name),i=n.value.visit(u);return{sourceSpan:n.sourceSpan,allocateBindingSlots:l+=i instanceof Np?i.expressions.length:0,reference:e,buildParams:function(e){var t=[];return o||t.push(p._elementIndexExpr),t.push(gr(r)),t.push(e(i)),a&&(n.unit?t.push(gr(n.unit)):n.hasOverrideFlag&&t.push(Bt)),n.hasOverrideFlag&&t.push(gr(!0)),t}}})},xd.prototype._buildClassInputs=function(e){if(this._singleClassInputs){var t=!!this._directiveExpr;return this._buildSingleInputs(t?Hi.elementHostClassProp:Hi.elementClassProp,t,this._singleClassInputs,this._classesIndex,!1,e)}return[]},xd.prototype._buildStyleInputs=function(e){if(this._singleStyleInputs){var t=!!this._directiveExpr;return this._buildSingleInputs(t?Hi.elementHostStyleProp:Hi.elementStyleProp,t,this._singleStyleInputs,this._stylesIndex,!0,e)}return[]},xd.prototype._buildApplyFn=function(){var e=this,t=this._directiveExpr;return{sourceSpan:this._lastStylingInput?this._lastStylingInput.sourceSpan:null,reference:t?Hi.elementHostStylingApply:Hi.elementStylingApply,allocateBindingSlots:0,buildParams:function(){return t?[]:[e._elementIndexExpr]}}},xd.prototype.buildUpdateLevelInstructions=function(e){var t=[];if(this.hasBindings){var n=this.buildElementStylingMapInstruction(e);n&&t.push(n),t.push.apply(t,H(this._buildStyleInputs(e))),t.push.apply(t,H(this._buildClassInputs(e))),t.push(this._buildApplyFn())}return t},xd);function xd(e,t){this._elementIndexExpr=e,this._directiveExpr=t,this._hasInitialValues=!1,this.hasBindings=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[],this._useDefaultSanitizer=!1}function wd(e,t){e.has(t)||e.set(t,e.size)}function Cd(e,t){return t.length?e.getConstLiteral(dr(t),!0):Bt}function bd(e,t,n,r,i){t&&n?e.push(n):r<i&&e.push(Bt)}function Td(e){var t=!1,n=e.indexOf("!important");-1!==n&&(e=0<n?e.substring(0,n):"",t=!0);var r="",i=e,o=e.lastIndexOf(".");return 0<o&&(r=e.substr(o+1),i=e.substring(0,o)),{property:i,unit:r,hasOverrideFlag:t}}(Ed=x.TokenType||(x.TokenType={}))[Ed.Character=0]="Character",Ed[Ed.Identifier=1]="Identifier",Ed[Ed.Keyword=2]="Keyword",Ed[Ed.String=3]="String",Ed[Ed.Operator=4]="Operator",Ed[Ed.Number=5]="Number",Ed[Ed.Error=6]="Error";var Pd=["var","let","as","null","undefined","true","false","if","else","this"],Nd=(Id.prototype.tokenize=function(e){for(var t=new Dd(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n},Id),Md=(Ad.prototype.isCharacter=function(e){return this.type==x.TokenType.Character&&this.numValue==e},Ad.prototype.isNumber=function(){return this.type==x.TokenType.Number},Ad.prototype.isString=function(){return this.type==x.TokenType.String},Ad.prototype.isOperator=function(e){return this.type==x.TokenType.Operator&&this.strValue==e},Ad.prototype.isIdentifier=function(){return this.type==x.TokenType.Identifier},Ad.prototype.isKeyword=function(){return this.type==x.TokenType.Keyword},Ad.prototype.isKeywordLet=function(){return this.type==x.TokenType.Keyword&&"let"==this.strValue},Ad.prototype.isKeywordAs=function(){return this.type==x.TokenType.Keyword&&"as"==this.strValue},Ad.prototype.isKeywordNull=function(){return this.type==x.TokenType.Keyword&&"null"==this.strValue},Ad.prototype.isKeywordUndefined=function(){return this.type==x.TokenType.Keyword&&"undefined"==this.strValue},Ad.prototype.isKeywordTrue=function(){return this.type==x.TokenType.Keyword&&"true"==this.strValue},Ad.prototype.isKeywordFalse=function(){return this.type==x.TokenType.Keyword&&"false"==this.strValue},Ad.prototype.isKeywordThis=function(){return this.type==x.TokenType.Keyword&&"this"==this.strValue},Ad.prototype.isError=function(){return this.type==x.TokenType.Error},Ad.prototype.toNumber=function(){return this.type==x.TokenType.Number?this.numValue:-1},Ad.prototype.toString=function(){switch(this.type){case x.TokenType.Character:case x.TokenType.Identifier:case x.TokenType.Keyword:case x.TokenType.Operator:case x.TokenType.String:case x.TokenType.Error:return this.strValue;case x.TokenType.Number:return this.numValue.toString();default:return null}},Ad);function Ad(e,t,n,r){this.index=e,this.type=t,this.numValue=n,this.strValue=r}function Id(){}function kd(e,t){return new Md(e,x.TokenType.Character,t,String.fromCharCode(t))}function Rd(e,t){return new Md(e,x.TokenType.Operator,0,t)}var Od=new Md(-1,x.TokenType.Character,0,""),Dd=(Fd.prototype.advance=function(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)},Fd.prototype.scanToken=function(){for(var e=this.input,t=this.length,n=this.peek,r=this.index;n<=Ga;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,t<=(this.index=r))return null;if(Ld(n))return this.scanIdentifier();if(_u(n))return this.scanNumber(r);var i=r;switch(n){case 46:return this.advance(),_u(this.peek)?this.scanNumber(i):kd(i,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,n);case Ja:case $a:return this.scanString();case 35:case Za:case eu:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case fu:for(;gu(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},Fd.prototype.scanCharacter=function(e,t){return this.advance(),kd(e,t)},Fd.prototype.scanOperator=function(e,t){return this.advance(),Rd(e,t)},Fd.prototype.scanComplexOperator=function(e,t,n,r,i,o){this.advance();var s=t;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=o),Rd(e,s)},Fd.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();Vd(this.peek);)this.advance();var t,n,r=this.input.substring(e,this.index);return-1<Pd.indexOf(r)?(n=r,new Md(e,x.TokenType.Keyword,0,n)):(t=r,new Md(e,x.TokenType.Identifier,0,t))},Fd.prototype.scanNumber=function(e){var t,n,r=this.index===e;for(this.advance();;){if(_u(this.peek));else if(46==this.peek)r=!1;else{if(101!=(t=this.peek)&&69!=t)break;if(this.advance(),(n=this.peek)!=eu&&n!=Za||this.advance(),!_u(this.peek))return this.error("Invalid exponent",-1);r=!1}this.advance()}var i,o,s=this.input.substring(e,this.index);return i=e,o=r?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(s):parseFloat(s),new Md(i,x.TokenType.Number,o,"")},Fd.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=t;)if(92==this.peek){n+=i.substring(r,this.index),this.advance();var o=void 0;if(this.peek=this.peek,117==this.peek){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=Ud(this.peek),this.advance();n+=String.fromCharCode(o),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var u,p=i.substring(r,this.index);return this.advance(),u=n+p,new Md(e,x.TokenType.String,0,u)},Fd.prototype.error=function(e,t){var n,r,i=this.index+t;return r="Lexer Error: "+e+" at column "+(n=i)+" in expression ["+this.input+"]",new Md(n,x.TokenType.Error,0,r)},Fd);function Fd(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}function Ld(e){return su<=e&&e<=hu||ru<=e&&e<=iu||e==ou||e==Ya}function Bd(e){if(0==e.length)return!1;var t=new Dd(e);if(!Ld(t.peek))return!1;for(t.advance();0!==t.peek;){if(!Vd(t.peek))return!1;t.advance()}return!0}function Vd(e){return Eu(e)||_u(e)||e==ou||e==Ya}function jd(e){return e===Ja||e===$a||e===du}function Ud(e){switch(e){case uu:return za;case au:return Qa;case pu:return Xa;case lu:return Wa;case cu:return Ka;default:return e}}function Hd(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}function qd(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}function Wd(e){var t=Dr(e.start)+"([\\s\\S]*?)"+Dr(e.end);return new RegExp(t,"g")}var zd,Kd=(Yd.prototype.parseAction=function(e,t,n){void 0===n&&(n=Sa),this._checkNoInterpolation(e,t,n);var r=this._stripComments(e),i=this._lexer.tokenize(this._stripComments(e)),o=new Qd(e,t,i,r.length,!0,this.errors,e.length-r.length).parseChain();return new Dp(o,e,t,this.errors)},Yd.prototype.parseBinding=function(e,t,n){void 0===n&&(n=Sa);var r=this._parseBindingAst(e,t,n);return new Dp(r,e,t,this.errors)},Yd.prototype.parseSimpleBinding=function(e,t,n){void 0===n&&(n=Sa);var r=this._parseBindingAst(e,t,n),i=Xd.check(r);return 0<i.length&&this._reportError("Host binding expression cannot contain "+i.join(" "),e,t),new Dp(r,e,t,this.errors)},Yd.prototype._reportError=function(e,t,n,r){this.errors.push(new ju(e,t,n,r))},Yd.prototype._parseBindingAst=function(e,t,n){var r=this._parseQuote(e,t);if(null!=r)return r;this._checkNoInterpolation(e,t,n);var i=this._stripComments(e),o=this._lexer.tokenize(i);return new Qd(e,t,o,i.length,!1,this.errors,e.length-i.length).parseChain()},Yd.prototype._parseQuote=function(e,t){if(null==e)return null;var n=e.indexOf(":");if(-1==n)return null;var r=e.substring(0,n).trim();if(!Bd(r))return null;var i=e.substring(n+1);return new dp(new Uu(0,e.length),r,i,t)},Yd.prototype.parseTemplateBindings=function(e,t,n){var r=this._lexer.tokenize(t);return new Qd(t,n,r,t.length,!1,this.errors,0).parseTemplateBindings(e)},Yd.prototype.parseInterpolation=function(e,t,n){void 0===n&&(n=Sa);var r=this.splitInterpolation(e,t,n);if(null==r)return null;for(var i=[],o=0;o<r.expressions.length;++o){var s=r.expressions[o],a=this._stripComments(s),u=this._lexer.tokenize(a),p=new Qd(e,t,u,a.length,!1,this.errors,r.offsets[o]+(s.length-a.length)).parseChain();i.push(p)}return new Dp(new Np(new Uu(0,null==e?0:e.length),r.strings,i),e,t,this.errors)},Yd.prototype.splitInterpolation=function(e,t,n){void 0===n&&(n=Sa);var r=Wd(n),i=e.split(r);if(i.length<=1)return null;for(var o=[],s=[],a=[],u=0,p=0;p<i.length;p++){var l=i[p];p%2==0?(o.push(l),u+=l.length):0<l.trim().length?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(i,p,n)+" in",t),s.push("$implict"),a.push(u))}return new Hd(o,s,a)},Yd.prototype.wrapLiteralPrimitive=function(e,t){return new Dp(new bp(new Uu(0,null==e?0:e.length),e),e,t,this.errors)},Yd.prototype._stripComments=function(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e},Yd.prototype._commentStart=function(e){for(var t=null,n=0;n<e.length-1;n++){var r=e.charCodeAt(n),i=e.charCodeAt(n+1);if(47===r&&47==i&&null==t)return n;t===r?t=null:null==t&&jd(r)&&(t=r)}return null},Yd.prototype._checkNoInterpolation=function(e,t,n){var r=Wd(n),i=e.split(r);1<i.length&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(i,1,n)+" in",t)},Yd.prototype._findInterpolationErrorColumn=function(e,t,n){for(var r="",i=0;i<t;i++)r+=i%2==0?e[i]:""+n.start+e[i]+n.end;return r.length},Yd),Qd=($d.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:Od},Object.defineProperty($d.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty($d.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),$d.prototype.span=function(e){return new Uu(e,this.inputIndex)},$d.prototype.advance=function(){this.index++},$d.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},$d.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},$d.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},$d.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+String.fromCharCode(e))},$d.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},$d.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},$d.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},$d.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},$d.prototype.parseChain=function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(e.push(n),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new vp(this.span(t)):1==e.length?e[0]:new yp(this.span(t),e)},$d.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(58);)n.push(this.parseExpression());e=new Cp(this.span(e.span.start),e,t,n)}while(this.optionalOperator("|"))}return e},$d.prototype.parseExpression=function(){return this.parseConditional()},$d.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),r=void 0;if(this.optionalCharacter(58))r=this.parsePipe();else{var i=this.input.substring(e,this.inputIndex);this.error("Conditional expression "+i+" requires all 3 expressions"),r=new vp(this.span(e))}return new gp(this.span(e),t,n,r)}return t},$d.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");){var t=this.parseLogicalAnd();e=new Mp(this.span(e.span.start),"||",e,t)}return e},$d.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");){var t=this.parseEquality();e=new Mp(this.span(e.span.start),"&&",e,t)}return e},$d.prototype.parseEquality=function(){for(var e=this.parseRelational();this.next.type==x.TokenType.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();e=new Mp(this.span(e.span.start),t,e,n);continue}break}return e},$d.prototype.parseRelational=function(){for(var e=this.parseAdditive();this.next.type==x.TokenType.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();e=new Mp(this.span(e.span.start),t,e,n);continue}break}return e},$d.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();this.next.type==x.TokenType.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var n=this.parseMultiplicative();e=new Mp(this.span(e.span.start),t,e,n);continue}break}return e},$d.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();this.next.type==x.TokenType.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();e=new Mp(this.span(e.span.start),t,e,n);continue}break}return e},$d.prototype.parsePrefix=function(){if(this.next.type==x.TokenType.Operator){var e=this.inputIndex,t=this.next.strValue,n=void 0;switch(t){case"+":return this.advance(),n=this.parsePrefix(),new Mp(this.span(e),"-",n,new bp(new Uu(e,e),0));case"-":return this.advance(),n=this.parsePrefix(),new Mp(this.span(e),t,new bp(new Uu(e,e),0),n);case"!":return this.advance(),n=this.parsePrefix(),new Ap(this.span(e),n)}}return this.parseCallChain()},$d.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(46))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var n=this.parseConditional();e=new wp(this.span(e.span.start),e,t,n)}else e=new xp(this.span(e.span.start),e,t)}else if(this.optionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),e=new Op(this.span(e.span.start),e,r)}else{if(!this.optionalOperator("!"))return e;e=new Ip(this.span(e.span.start),e)}},$d.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new bp(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new bp(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new bp(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new bp(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new mp(this.span(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new Tp(this.span(e),n)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new mp(this.span(e)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new bp(this.span(e),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new bp(this.span(e),i)}return this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new vp(this.span(e))},$d.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))for(;t.push(this.parsePipe()),this.optionalCharacter(44););return t},$d.prototype.parseLiteralMap=function(){var e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var r=this.next.isString(),i=this.expectIdentifierOrKeywordOrString();e.push({key:i,quoted:r}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new Pp(this.span(n),e,t)},$d.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var n=e.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(n);return t?new Rp(o,e,r,i):new kp(o,e,r,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new vp(this.span(n))):new Sp(this.span(n),e,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new vp(this.span(n));var s=this.parseConditional();return new Ep(this.span(n),e,r,s)}return new _p(this.span(n),e,r)},$d.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];for(var e=[];e.push(this.parsePipe()),this.optionalCharacter(44););return e},$d.prototype.expectTemplateBindingKey=function(){for(var e="",t=!1;e+=this.expectIdentifierOrKeywordOrString(),(t=this.optionalOperator("-"))&&(e+="-"),t;);return e.toString()},$d.prototype.parseTemplateBindings=function(e){var t=!0,n=[];do{var r=this.inputIndex,i=void 0,o=void 0,s=!1;t?(i=o=e,t=!1):((s=this.peekKeywordLet())&&this.advance(),i=this.expectTemplateBindingKey(),o=s?i:e+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(58));var a=null,u=null;if(s)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),a=i,o=this.expectTemplateBindingKey(),s=!0;else if(this.next!==Od&&!this.peekKeywordLet()){var p=this.inputIndex,l=this.parsePipe(),c=this.input.substring(p-this.offset,this.inputIndex-this.offset);u=new Dp(l,c,this.location,this.errors)}if(n.push(new Hu(this.span(r),o,s,a,u)),this.peekKeywordAs()&&!s){var h=this.inputIndex;this.advance();var f=this.expectTemplateBindingKey();n.push(new Hu(this.span(h),f,!0,o,null))}this.optionalCharacter(59)||this.optionalCharacter(44)}while(this.index<this.tokens.length);return new qd(n,[],this.errors)},$d.prototype.error=function(e,t){void 0===t&&(t=null),this.errors.push(new ju(e,this.input,this.locationText(t),this.location)),this.skip()},$d.prototype.locationText=function(e){return void 0===e&&(e=null),null==e&&(e=this.index),e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},$d.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(59)&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new ju(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},$d),Xd=(Gd.check=function(e){var t=new Gd;return e.visit(t),t.errors},Gd.prototype.visitImplicitReceiver=function(e,t){},Gd.prototype.visitInterpolation=function(e,t){},Gd.prototype.visitLiteralPrimitive=function(e,t){},Gd.prototype.visitPropertyRead=function(e,t){},Gd.prototype.visitPropertyWrite=function(e,t){},Gd.prototype.visitSafePropertyRead=function(e,t){},Gd.prototype.visitMethodCall=function(e,t){},Gd.prototype.visitSafeMethodCall=function(e,t){},Gd.prototype.visitFunctionCall=function(e,t){},Gd.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},Gd.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},Gd.prototype.visitBinary=function(e,t){},Gd.prototype.visitPrefixNot=function(e,t){},Gd.prototype.visitNonNullAssert=function(e,t){},Gd.prototype.visitConditional=function(e,t){},Gd.prototype.visitPipe=function(e,t){this.errors.push("pipes")},Gd.prototype.visitKeyedRead=function(e,t){},Gd.prototype.visitKeyedWrite=function(e,t){},Gd.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},Gd.prototype.visitChain=function(e,t){},Gd.prototype.visitQuote=function(e,t){},Gd);function Gd(){this.errors=[]}function $d(e,t,n,r,i,o,s){this.input=e,this.location=t,this.tokens=n,this.inputLength=r,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}function Yd(e){this._lexer=e,this.errors=[]}function Jd(){return zd||(zd={},Zd(A.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Zd(A.STYLE,["*|style"]),Zd(A.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Zd(A.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),zd}function Zd(e,t){var n,r;try{for(var i=U(t),o=i.next();!o.done;o=i.next())zd[o.value.toLowerCase()]=e}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var ev,tv,nv=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],rv={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},iv=(a(sv,tv=ev=function(){}),sv.prototype.hasProperty=function(e,t,n){if(n.some(function(e){return e.name===Z.name}))return!0;if(-1<e.indexOf("-")){if(O(e)||p(e))return!1;if(n.some(function(e){return e.name===J.name}))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]},sv.prototype.hasElement=function(e,t){if(t.some(function(e){return e.name===Z.name}))return!0;if(-1<e.indexOf("-")){if(O(e)||p(e))return!0;if(t.some(function(e){return e.name===J.name}))return!0}return!!this._schema[e.toLowerCase()]},sv.prototype.securityContext=function(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();var r=Jd()[e+"|"+t];return(r=r||Jd()["*|"+t])||A.NONE},sv.prototype.getMappedPropName=function(e){return rv[e]||e},sv.prototype.getDefaultComponentElementName=function(){return"ng-component"},sv.prototype.validateProperty=function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '"+e+"' is disallowed for security reasons, please use ("+e.slice(2)+")=...\nIf '"+e+"' is a directive input, make sure the directive is imported by the current module."}:{error:!1}},sv.prototype.validateAttribute=function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '"+e+"' is disallowed for security reasons, please use ("+e.slice(2)+")=..."}:{error:!1}},sv.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},sv.prototype.normalizeAnimationStyleProperty=function(e){return e.replace(Er,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})},sv.prototype.normalizeAnimationStyleValue=function(e,t,n){var r="",i=n.toString().trim(),o=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+t+":"+n)}return{error:o,value:i+r}},sv),ov=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function sv(){var u=tv.call(this)||this;return u._schema={},nv.forEach(function(e){var t={},n=k(e.split("|"),2),r=n[0],i=n[1].split(","),o=k(r.split("^"),2),s=o[1];o[0].split(",").forEach(function(e){return u._schema[e.toLowerCase()]=t});var a=s&&u._schema[s.toLowerCase()];a&&Object.keys(a).forEach(function(e){t[e]=a[e]}),i.forEach(function(e){if(0<e.length)switch(e[0]){case"*":break;case"!":t[e.substring(1)]="boolean";break;case"#":t[e.substring(1)]="number";break;case"%":t[e.substring(1)]="object";break;default:t[e]="string"}})}),u}function av(e,t){var n=new lv(t),r=Bc(n,e),i=t.errors.concat(n.errors),o=i.filter(function(e){return e.level===x.ParseErrorLevel.ERROR});if(0<o.length)throw kr("Template parse errors:\n"+o.join("\n"),o);return{nodes:r,errors:i,styleUrls:n.styleUrls,styles:n.styles}}var uv,pv,lv=(fv.prototype.visitElement=function(e){var t,n,r,i=this,o=Qf(e);if(o.type===zf.SCRIPT)return null;if(o.type===zf.STYLE){var s=1===(r=e).children.length&&r.children[0]instanceof bc?r.children[0].value:null;return null!==s&&this.styles.push(s),null}if(o.type===zf.STYLESHEET&&Of(o.hrefAttr))return this.styleUrls.push(o.hrefAttr),null;var a=B(e.name),u=[],p=[],l=[],c=[],h=[],f={},d=[],v=[],m=!1;try{for(var y=U(e.attrs),g=y.next();!g.done;g=y.next()){var _=g.value,E=!1,S=dv(_.name),x=!1;if(_.i18n&&(f[_.name]=_.i18n),S.startsWith("*")){m&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",_.sourceSpan),m=x=!0;var w=_.value,C=S.substring("*".length),b=[];this.bindingParser.parseInlineTemplateBinding(C,w,_.sourceSpan,[],d,b),v.push.apply(v,H(b.map(function(e){return new Yi(e.name,e.value,e.sourceSpan)})))}else E=this.parseAttribute(a,_,[],u,p,l,c);E||x||h.push(this.visitAttribute(_))}}catch(e){t={error:e}}finally{try{g&&!g.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}var T,P=Bc(o.nonBindable?cv:this,e.children);if(o.type===zf.NG_CONTENT){e.children&&!e.children.every(function(e){return(t=e)instanceof bc&&0==t.value.trim().length||e instanceof Ac;var t})&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);var N=o.selectAttr,M=e.attrs.map(function(e){return i.visitAttribute(e)});T=new $i(N,M,e.sourceSpan,e.i18n)}else T=a?(M=this.extractAttributes(e.name,u,f),new Gi(e.name,h,M.bound,p,[],P,c,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)):(M=this.extractAttributes(e.name,u,f),new Xi(e.name,h,M.bound,p,P,c,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n));if(m){M=this.extractAttributes("ng-template",d,f);var A=[];M.literal.forEach(function(e){return A.push(e)}),M.bound.forEach(function(e){return A.push(e)});var I=T instanceof Xi?{attributes:T.attributes,inputs:T.inputs,outputs:T.outputs}:{attributes:[],inputs:[],outputs:[]};T=new Gi(T.name,I.attributes,I.inputs,I.outputs,A,[T],[],v,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}return T},fv.prototype.visitAttribute=function(e){return new zi(e.name,e.value,e.sourceSpan,e.valueSpan,e.i18n)},fv.prototype.visitText=function(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)},fv.prototype.visitExpansion=function(r){var i=this,o=r.i18n;if(!o)return null;var s={},a={};return Object.keys(o.placeholders).forEach(function(e){var t=o.placeholders[e];if(e.startsWith("VAR_")){var n=i.bindingParser.interpolationConfig;s[e]=i._visitTextWithInterpolation(""+n.start+t+n.end,r.sourceSpan)}else a[e]=i._visitTextWithInterpolation(t,r.sourceSpan)}),new Zi(s,a,r.sourceSpan,o)},fv.prototype.visitExpansionCase=function(e){return null},fv.prototype.visitComment=function(e){return null},fv.prototype.extractAttributes=function(r,e,i){var o=this,s=[],a=[];return e.forEach(function(e){var t=i[e.name];if(e.isLiteral)a.push(new zi(e.name,e.expression.source||"",e.sourceSpan,void 0,t));else{var n=o.bindingParser.createBoundElementProperty(r,e,!0,!1);s.push(Ki.fromBoundElementProperty(n,t))}}),{bound:s,literal:a}},fv.prototype.parseAttribute=function(e,t,n,r,i,o,s){var a=dv(t.name),u=t.value,p=t.sourceSpan,l=a.match(ov),c=!1;if(l){if(c=!0,null!=l[1])this.bindingParser.parsePropertyBinding(l[7],u,!1,p,n,r);else if(l[2])e?this.parseVariable(l[7],u,p,o):this.reportError('"let-" is only supported on ng-template elements.',p);else if(l[3])this.parseReference(l[7],u,p,s);else if(l[4])this.bindingParser.parseEvent(l[7],u,p,t.valueSpan||p,n,h=[]),vv(h,i);else if(l[5])this.bindingParser.parsePropertyBinding(l[7],u,!1,p,n,r),this.parseAssignmentEvent(l[7],u,p,t.valueSpan,n,i);else if(l[6])this.bindingParser.parseLiteralAttr(a,u,p,n,r);else if(l[8])this.bindingParser.parsePropertyBinding(l[8],u,!1,p,n,r),this.parseAssignmentEvent(l[8],u,p,t.valueSpan,n,i);else if(l[9])this.bindingParser.parsePropertyBinding(l[9],u,!1,p,n,r);else if(l[10]){var h;this.bindingParser.parseEvent(l[10],u,p,t.valueSpan||p,n,h=[]),vv(h,i)}}else c=this.bindingParser.parsePropertyInterpolation(a,u,p,n,r);return c},fv.prototype._visitTextWithInterpolation=function(e,t,n){var r=Ph(e),i=this.bindingParser.parseInterpolation(r,t);return i?new Wi(i,t,n):new qi(r,t)},fv.prototype.parseVariable=function(e,t,n,r){-1<e.indexOf("-")&&this.reportError('"-" is not allowed in variable names',n),r.push(new Yi(e,t,n))},fv.prototype.parseReference=function(e,t,n,r){-1<e.indexOf("-")&&this.reportError('"-" is not allowed in reference names',n),r.push(new Ji(e,t,n))},fv.prototype.parseAssignmentEvent=function(e,t,n,r,i,o){var s=[];this.bindingParser.parseEvent(e+"Change",t+"=$event",n,r||n,i,s),vv(s,o)},fv.prototype.reportError=function(e,t,n){void 0===n&&(n=x.ParseErrorLevel.ERROR),this.errors.push(new Mu(t,e,n))},fv),cv=(hv.prototype.visitElement=function(e){var t=Qf(e);if(t.type===zf.SCRIPT||t.type===zf.STYLE||t.type===zf.STYLESHEET)return null;var n=Bc(this,e.children,null);return new Xi(e.name,Bc(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},hv.prototype.visitComment=function(e){return null},hv.prototype.visitAttribute=function(e){return new zi(e.name,e.value,e.sourceSpan,void 0,e.i18n)},hv.prototype.visitText=function(e){return new qi(e.value,e.sourceSpan)},hv.prototype.visitExpansion=function(e){return null},hv.prototype.visitExpansionCase=function(e){return null},new hv);function hv(){}function fv(e){this.bindingParser=e,this.errors=[],this.styles=[],this.styleUrls=[]}function dv(e){return/^data-/i.test(e)?e.substring(5):e}function vv(e,t){t.push.apply(t,H(e.map(function(e){return Qi.fromParsedEvent(e)})))}(pv=uv=uv||{})[pv.ELEMENT=0]="ELEMENT",pv[pv.TEMPLATE=1]="TEMPLATE";var mv=(yv.prototype.appendTag=function(e,t,n,r){t.isVoid&&r||js(this.placeholders,t.isVoid||!r?t.startName:t.closeName,{type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r})},Object.defineProperty(yv.prototype,"icus",{get:function(){return this._registry.icus},enumerable:!0,configurable:!0}),Object.defineProperty(yv.prototype,"isRoot",{get:function(){return 0===this.level},enumerable:!0,configurable:!0}),Object.defineProperty(yv.prototype,"isResolved",{get:function(){return 0===this._unresolvedCtxCount},enumerable:!0,configurable:!0}),yv.prototype.getSerializedPlaceholders=function(){var n=new Map;return this.placeholders.forEach(function(e,t){return n.set(t,e.map(Sv))}),n},yv.prototype.appendBinding=function(e){this.bindings.add(e)},yv.prototype.appendIcu=function(e,t){js(this._registry.icus,e,t)},yv.prototype.appendBoundText=function(e){var n=this;Us(e,this.bindings.size,this.id).forEach(function(e,t){return js.apply(void 0,H([n.placeholders,t],e))})},yv.prototype.appendTemplate=function(e,t){this.appendTag(uv.TEMPLATE,e,t,!1),this.appendTag(uv.TEMPLATE,e,t,!0),this._unresolvedCtxCount++},yv.prototype.appendElement=function(e,t,n){this.appendTag(uv.ELEMENT,e,t,n)},yv.prototype.forkChildContext=function(e,t,n){return new yv(e,this.ref,this.level+1,t,n,this._registry)},yv.prototype.reconcileChildContext=function(o){var s=this;["start","close"].forEach(function(e){var t=(s.placeholders.get(o.meta[e+"Name"])||[]).find(Ev(s.id,o.templateIndex));t&&(t.ctx=o.id)}),o.placeholders.forEach(function(e,t){var n=s.placeholders.get(t);if(n){var r=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(n,Ev(o.id,o.templateIndex));if(0<=r){var i=t.startsWith("CLOSE");t.endsWith("NG-TEMPLATE")?n.splice.apply(n,H([r+(i?0:1),0],e)):(e[i?e.length-1:0].tmpl=n[r],n.splice.apply(n,H([r,1],e)))}else n.push.apply(n,H(e));s.placeholders.set(t,n)}else s.placeholders.set(t,e)}),this._unresolvedCtxCount--},yv);function yv(e,t,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=null),this.index=e,this.ref=t,this.level=n,this.templateIndex=r,this.meta=i,this.registry=o,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=o||{getUniqueId:function(e){void 0===e&&(e=0);var t=e;return function(){return t++}}(),icus:new Map},this.id=this._registry.getUniqueId()}function gv(e,t,n,r){return Bs((r?"/":"")+e+t,n)}function _v(e,t,n){var r=t.index,i=t.ctx;return t.isVoid?gv(e,r,i)+gv(e,r,i,!0):gv(e,r,i,n)}function Ev(t,n){return function(e){return"object"==typeof e&&e.type===uv.TEMPLATE&&e.index===n&&e.ctx===t}}function Sv(e){function t(e,t){return _v("#",e,t)}function n(e,t){return _v("*",e,t)}switch(e.type){case uv.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case uv.TEMPLATE:return n(e,e.closed);default:return e}}var xv={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},wv=(bv.prototype.getStartTagPlaceholderName=function(e,t,n){var r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];var i=e.toUpperCase(),o=xv[i]||"TAG_"+i,s=this._generateUniqueName(n?o:"START_"+o);return this._signatureToName[r]=s},bv.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var n=e.toUpperCase(),r=this._generateUniqueName("CLOSE_"+(xv[n]||"TAG_"+n));return this._signatureToName[t]=r},bv.prototype.getPlaceholderName=function(e,t){var n=e.toUpperCase(),r="PH: "+n+"="+t;if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i},bv.prototype.getUniquePlaceholder=function(e){return this._generateUniqueName(e.toUpperCase())},bv.prototype._hashTag=function(e,t,n){return"<"+e+Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join("")+(n?"/>":"></"+e+">")},bv.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},bv.prototype._generateUniqueName=function(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;var t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,e+"_"+t},bv),Cv=new Kd(new Nd);function bv(){this._placeHolderNameCounts={},this._signatureToName={}}function Tv(e){var o=new Pv(Cv,e);return function(e,t,n,r,i){return o.toI18nMessage(e,t,n,r,i)}}var Pv=(Mv.prototype.toI18nMessage=function(e,t,n,r,i){this._isIcu=1==e.length&&e[0]instanceof Tc,this._icuDepth=0,this._placeholderRegistry=new wv,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=i;var o=Bc(this,e,{});return new fo(o,this._placeholderToContent,this._placeholderToMessage,t,n,r)},Mv.prototype._visitNode=function(e,t){return this._visitNodeFn&&this._visitNodeFn(e,t),t},Mv.prototype.visitElement=function(e,t){var n=Bc(this,e.children),r={};e.attrs.forEach(function(e){r[e.name]=e.value});var i=h(e.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);this._placeholderToContent[o]=e.sourceSpan.toString();var s="";i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[s]="</"+e.name+">");var a=new go(e.name,r,o,s,n,i,e.sourceSpan);return this._visitNode(e,a)},Mv.prototype.visitAttribute=function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)},Mv.prototype.visitText=function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)},Mv.prototype.visitComment=function(e,t){return null},Mv.prototype.visitExpansion=function(e,t){var n=this;this._icuDepth++;var r={},i=new yo(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(function(e){r[e.value]=new mo(e.expression.map(function(e){return e.visit(n,{})}),e.expSourceSpan)}),this._icuDepth--,this._isIcu||0<this._icuDepth){var o=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return i.expressionPlaceholder=o,this._placeholderToContent[o]=e.switchValue,this._visitNode(e,i)}var s=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),a=new Mv(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[s]=a.toI18nMessage([e],"","","");var u=new Eo(i,s,e.sourceSpan);return this._visitNode(e,u)},Mv.prototype.visitExpansionCase=function(e,t){throw new Error("Unreachable code")},Mv.prototype._visitTextWithInterpolation=function(e,t){var n=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!n)return new vo(e,t);for(var r=[],i=new mo(r,t),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<n.strings.length-1;u++){var p=n.expressions[u],l=p.split(Nv)[2]||"INTERPOLATION",c=this._placeholderRegistry.getPlaceholderName(l,p);n.strings[u].length&&r.push(new vo(n.strings[u],t)),r.push(new _o(p,c,t)),this._placeholderToContent[c]=s+p+a}var h=n.strings.length-1;return n.strings[h].length&&r.push(new vo(n.strings[h],t)),i},Mv),Nv=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function Mv(e,t){this._expressionParser=e,this._interpolationConfig=t}function Av(e,t){e.i18n=t}function Iv(e){return"{$"+Hs(e)+"}"}var kv=(Lv.prototype._generateI18nMessage=function(e,t,n){void 0===t&&(t="");var r="string"==typeof t?function(e){var t,n,r,i,o;if(e){var s=e.indexOf("@@"),a=e.indexOf("|"),u=void 0;u=(t=k(-1<s?[e.slice(0,s),e.slice(s+2)]:[e,""],2))[0],r=t[1],i=(n=k(-1<a?[u.slice(0,a),u.slice(a+1)]:["",u],2))[0],o=n[1]}return{id:r,meaning:i,description:o}}(t):Fs(t),i=this._createI18nMessage(e,r.meaning||"",r.description||"",r.id||"",n);return i.id||(i.id="string"!=typeof t&&t.id||ko(i)),i},Lv.prototype.visitElement=function(e,t){var n,r,i,o;if(e.attrs.some(function(e){return Rs(e.name)})){var s=[],a={};try{for(var u=U(e.attrs),p=u.next();!p.done;p=u.next())if((f=p.value).name===As){var l=this._generateI18nMessage(e.children,e.i18n||f.value,Av);l.nodes.length&&(e.i18n=l)}else f.name.startsWith(Is)?a[f.name.slice(Is.length)]=f.value:s.push(f)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(Object.keys(a).length)try{for(var c=U(s),h=c.next();!h.done;h=c.next()){var f,d=a[(f=h.value).name];void 0!==d&&f.value&&(f.i18n=this._generateI18nMessage([f],f.i18n||d))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}this.keepI18nAttrs||(e.attrs=s)}return Bc(this,e.children),e},Lv.prototype.visitExpansion=function(e,t){var n,r=e.i18n;if(r instanceof Eo){var i=r.name;Ls(n=this._generateI18nMessage([e],r)).name=i}else n=this._generateI18nMessage([e],r);return e.i18n=n,e},Lv.prototype.visitText=function(e,t){return e},Lv.prototype.visitAttribute=function(e,t){return e},Lv.prototype.visitComment=function(e,t){return e},Lv.prototype.visitExpansionCase=function(e,t){return e},Lv),Rv=(Fv.prototype.visitText=function(e,t){return e.value},Fv.prototype.visitContainer=function(e,t){var n=this;return e.children.map(function(e){return e.visit(n)}).join("")},Fv.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expressionPlaceholder+", "+t.type+", "+r.join(" ")+"}"},Fv.prototype.visitTagPlaceholder=function(e,t){var n=this;return e.isVoid?Iv(e.startName):""+Iv(e.startName)+e.children.map(function(e){return e.visit(n)}).join("")+Iv(e.closeName)},Fv.prototype.visitPlaceholder=function(e,t){return Iv(e.name)},Fv.prototype.visitIcuPlaceholder=function(e,t){return Iv(e.name)},new Fv),Ov=new Map([["window",Hi.resolveWindow],["document",Hi.resolveDocument],["body",Hi.resolveBody]]),Dv=[" ","\n","\r","\t"];function Fv(){}function Lv(e,t){void 0===e&&(e=Sa),void 0===t&&(t=!1),this.interpolationConfig=e,this.keepI18nAttrs=t,this._createI18nMessage=Tv(e)}function Bv(e,t){return yr(lr(Qs).bitwiseAnd(gr(e),null,!1),t)}function Vv(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.type,i=e.name,o=e.target,s=e.phase,a=e.handler;if(o&&!Ov.has(o))throw new Error("Unexpected global target '"+o+"' defined for '"+i+"' event.\n        Supported list of global targets: "+Array.from(Ov.keys())+".");var u=null===n||0===n.bindingLevel?lr(Ks):n.getOrCreateSharedContextVar(0),p=_l(n,u,a,"b",function(){return Ir("Unexpected interpolation")},e.handlerSpan),l=[];n&&(l.push.apply(l,H(n.restoreViewStatement())),l.push.apply(l,H(n.variableDeclarations()))),l.push.apply(l,H(p.render3Stmts));var c=1===r?""+fa+i+"."+s:i,h=t&&ci(t),f=mr([new Mt("$event",we)],l,Ce,null,h),d=[gr(c),f];return o&&d.push(gr(!1),cr(Ov.get(o))),d}var jv,Uv=(Kv.prototype.registerContextVariables=function(r){var e=this._bindingScope.freshReferenceName(),i=this.level,o=lr(r.name+e);this._bindingScope.set(i,r.name,o,1,function(e,t){var n;return n=e.bindingLevel===i?lr(Ks):e.getSharedContextName(i)||Xv(t),[o.set(n.prop(r.value||"$implicit")).toConstDecl()]})},Kv.prototype.buildTemplateFunction=function(e,t,n,r){var i=this;void 0===n&&(n=0),this._ngContentSelectorsOffset=n,this._namespace!==Hi.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(function(e){return i.registerContextVariables(e)});var o,s=this.i18nContext||Os(r)&&!Ds(r)&&!(1===(o=e).length&&o[0]instanceof Xi&&e[0].i18n===r),a=om(e);if(s&&this.i18nStart(null,r,a),ho(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(function(e){return e()}),0===this.level&&this._ngContentReservedSlots.length){var u=[];if(1<this._ngContentReservedSlots.length||"*"!==this._ngContentReservedSlots[0]){var p=this._ngContentReservedSlots.map(function(e){return"*"!==e?ae(e):e});u.push(this.constantPool.getConstLiteral(Ys(p),!0))}this.creationInstruction(null,Hi.projectionDef,u,!0)}s&&this.i18nEnd(null,a);var l=this._creationCodeFns.map(function(e){return e()}),c=this._updateCodeFns.map(function(e){return e()}),h=this._bindingScope.viewSnapshotStatements(),f=this._bindingScope.variableDeclarations().concat(this._tempVariables),d=0<l.length?[Bv(1,h.concat(l))]:[],v=0<c.length?[Bv(2,f.concat(c))]:[];return mr([new Mt(Qs,Te),new Mt(Ks,null)],H(this._prefixCode,d,v),Ce,null,this.templateName)},Kv.prototype.getLocal=function(e){return this._bindingScope.get(e)},Kv.prototype.notifyImplicitReceiverUse=function(){this._bindingScope.notifyImplicitReceiverUse()},Kv.prototype.i18nTranslate=function(e,t,n,r){var i;void 0===t&&(t={});var o=n||lr(this.constantPool.uniqueName("I18N_")),s=this.i18nGenerateClosureVar(e.id),a={};t&&Object.keys(t).length&&Object.keys(t).forEach(function(e){return a[Hs(e)]=t[e]});var u=Fs(e),p=function(e,t,n,r,i,o){void 0===i&&(i={});var s=[];return s.push.apply(s,H(function(e,t,n,r,i){var o=[];o.push(new _n(e.name,void 0,Ce,null,e.sourceSpan));var s=[gr(n)];i&&Object.keys(i).length&&s.push(Ms(i,!0));var a,u,p=(u=[],(a=r).description&&u.push({tagName:"desc",text:a.description}),a.meaning&&u.push({tagName:"meaning",text:a.meaning}),0==u.length?null:new An(u)),l=p?[p]:[],c=lr("goog.getMsg").callFn(s);l.push(t.set(c).toConstDecl()),l.push(new Sn(e.set(t)));var h=cr(Hi.i18nLocalize).callFn(s),f=[new Sn(e.set(h))];return o.push(yr(lr("ngI18nClosureMode"),l,f)),o}(e,t,n,r,i))),o&&s.push(new Sn(e.set(o(e)))),s}(o,s,e.nodes.map(function(e){return e.visit(Rv,null)}).join(""),u,a,r);return(i=this.constantPool.statements).push.apply(i,H(p)),o},Kv.prototype.i18nAppendBindings=function(e){var t=this;0<e.length&&e.forEach(function(e){return t.i18n.appendBinding(e)})},Kv.prototype.i18nBindProps=function(s){var a=this,u={};return Object.keys(s).forEach(function(e){var t=s[e];if(t instanceof qi)u[e]=gr(t.value);else{var n=t.value.visit(a._valueConverter);if(a.allocateBindingSlots(n),n instanceof Np){var r=n.expressions,i=a.i18n,o=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!e.length)return"";for(var r="",i=e.length-1,o=0;o<i;o++)r+=""+e[o]+Bs(t+o,n);return r+e[i]}(n.strings,i.bindings.size,i.id);a.i18nAppendBindings(r),u[e]=gr(o)}}}),u},Kv.prototype.i18nGenerateClosureVar=function(e){var t,n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){var r=qs("EXTERNAL_"),i=this.constantPool.uniqueName(n);t=""+r+ci(e)+"$$"+i}else r=qs(n),t=this.constantPool.uniqueName(r);return lr(t)},Kv.prototype.i18nUpdateRef=function(e){var t=e.icus,n=e.meta;if(e.isRoot&&e.isResolved&&!e.isEmitted&&!Ds(n)){e.isEmitted=!0;var r=e.getSerializedPlaceholders(),i={},o=r.size?Vs(r):{};t.size&&t.forEach(function(e,t){if(1===e.length)o[t]=e[0];else{var n=Bs("I18N_EXP_"+t);o[t]=gr(n),i[t]=dr(e)}});var s=void 0;(Array.from(r.values()).some(function(e){return 1<e.length})||Object.keys(i).length)&&(s=function(e){var t=[e];return Object.keys(i).length&&t.push(Ms(i,!0)),Qv(null,Hi.i18nPostprocess,t)}),this.i18nTranslate(n,o,e.ref,s)}},Kv.prototype.i18nStart=function(e,t,n){void 0===e&&(e=null);var r=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(r,this.templateIndex,t);else{var i=lr(this.constantPool.uniqueName("I18N_"));this.i18n=new mv(r,i,0,this.templateIndex,t)}var o=this.i18n,s=o.id,a=o.ref,u=[gr(r),a];0<s&&u.push(gr(s)),this.creationInstruction(e,n?Hi.i18n:Hi.i18nStart,u)},Kv.prototype.i18nEnd=function(t,e){var n=this;if(void 0===t&&(t=null),!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);var r=this.i18n,i=r.index,o=r.bindings;o.size&&(o.forEach(function(e){n.updateInstruction(i,t,Hi.i18nExp,function(){return[n.convertPropertyBinding(e)]})}),this.updateInstruction(i,t,Hi.i18nApply,[gr(i)])),e||this.creationInstruction(t,Hi.i18nEnd),this.i18n=null},Kv.prototype.visitContent=function(e){var t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[gr(t)],i=[];this._ngContentReservedSlots.push(e.selector),e.attributes.forEach(function(e){var t=e.name,n=e.value;"ngProjectAs"===t?i.push.apply(i,H(Zv(e))):"select"!==t.toLowerCase()&&i.push(gr(t),gr(n))}),0<i.length?r.push(gr(n),dr(i)):0!==n&&r.push(gr(n)),this.creationInstruction(e.sourceSpan,Hi.projection,r)},Kv.prototype.getNamespaceInstruction=function(e){switch(e){case"math":return Hi.namespaceMathML;case"svg":return Hi.namespaceSVG;default:return Hi.namespaceHTML}},Kv.prototype.addNamespaceInstruction=function(e,t){this._namespace=e,this.creationInstruction(t.sourceSpan,e)},Kv.prototype.visitElement=function(i){var e,t,h=this,f=this.allocateDataSlot(),n=new Sd(gr(f),null),r=!1,o=Os(i.i18n)&&!Ds(i.i18n);if(o&&this.i18n)throw new Error("Could not mark an element as translatable inside of a translatable section");var s=[],a=[],u=k(R(i.name),2),p=u[0],l=u[1],c=O(i.name);try{for(var d=U(i.attributes),v=d.next();!v.done;v=d.next()){var m=v.value,y=m.name,g=m.value;"ngNonBindable"===y?r=!0:"style"===y?n.registerStyleAttr(g):"class"===y?n.registerClassAttr(g):(m.i18n&&s.push(m),a.push(m))}}catch(i){e={error:i}}finally{try{v&&!v.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}this.matchDirectives(i.name,i);var _=[gr(f)];c||_.push(gr(l));var E=[],S=[];i.inputs.forEach(function(e){n.registerBoundInput(e)||(0===e.type&&e.i18n&&s.push(e),S.push(e))}),a.forEach(function(e){E.push.apply(E,"ngProjectAs"===e.name?H(Zv(e)):H($v(e.name),[gr(e.value)]))}),E.push.apply(E,H(this.prepareNonRenderAttrs(S,i.outputs,n))),_.push(this.toAttrsParam(E)),_.push(this.prepareRefsParameter(i.references));var x=this._namespace,w=this.getNamespaceInstruction(p);w!==x&&this.addNamespaceInstruction(w,i),this.i18n&&this.i18n.appendElement(i.i18n,f);var C=!n.hasBindings&&!c&&0===i.outputs.length&&0===s.length&&!(!o&&h.i18n?!om(i.children):0<i.children.length),b=!C&&!n.hasBindings&&om(i.children);if(C)this.creationInstruction(i.sourceSpan,Hi.element,Zs(_));else{if(this.creationInstruction(i.sourceSpan,c?Hi.elementContainerStart:Hi.elementStart,Zs(_)),r&&this.creationInstruction(i.sourceSpan,Hi.disableBindings),s.length){var T=!1,P=[];if(s.forEach(function(e){var t=e.i18n;if(e instanceof zi)P.push(gr(e.name),h.i18nTranslate(t));else{var n=e.value.visit(h._valueConverter);if(h.allocateBindingSlots(n),n instanceof Np){var r=Vs(Us(t));P.push(gr(e.name),h.i18nTranslate(t,r)),n.expressions.forEach(function(e){T=!0;var t=h.convertExpressionBinding(e);h.updateInstruction(f,i.sourceSpan,Hi.i18nExp,[t])})}}}),P.length){var N=gr(this.allocateDataSlot()),M=this.constantPool.getConstLiteral(dr(P),!0);this.creationInstruction(i.sourceSpan,Hi.i18nAttributes,[N,M]),T&&this.updateInstruction(f,i.sourceSpan,Hi.i18nApply,[N])}}this.processStylingInstruction(n.buildElementStylingInstruction(i.sourceSpan,this.constantPool),!0),i.outputs.forEach(function(e){h.creationInstruction(e.sourceSpan,Hi.listener,h.prepareListenerParameter(i.name,e,f))}),o&&this.i18nStart(i.sourceSpan,i.i18n,b)}n.buildUpdateLevelInstructions(this._valueConverter).forEach(function(e){h._bindingSlots+=e.allocateBindingSlots,h.processStylingInstruction(e,!1)});var A=gr(void 0);if(S.forEach(function(e){var t=e.type;if(4===t){var n=e.value.visit(h._valueConverter),r=!(n instanceof bp&&!n.value);h.allocateBindingSlots(n);var i=da(e.name);h.updateInstruction(f,e.sourceSpan,Hi.property,function(){return[gr(i),r?h.convertPropertyBinding(n,!0):A]})}else{if(e.i18n)return;var o=e.value.visit(h._valueConverter);if(void 0!==o){var s=[],a=k(R(e.name),2),u=a[0],p=a[1],l=rm(e.securityContext,1===t);if(l&&s.push(l),u){var c=gr(u);l?s.push(c):s.push(gr(null),c)}h.allocateBindingSlots(o),0===t?o instanceof Np?h.updateInstruction(f,e.sourceSpan,function(e){switch(n=(t=e).expressions,r=t.strings,1===n.length&&2===r.length&&""===r[0]&&""===r[1]?1:n.length+r.length){case 1:return Hi.propertyInterpolate;case 3:return Hi.propertyInterpolate1;case 5:return Hi.propertyInterpolate2;case 7:return Hi.propertyInterpolate3;case 9:return Hi.propertyInterpolate4;case 11:return Hi.propertyInterpolate5;case 13:return Hi.propertyInterpolate6;case 15:return Hi.propertyInterpolate7;case 17:return Hi.propertyInterpolate8;default:return Hi.propertyInterpolateV}var t,n,r}(o),function(){return H([gr(p)],h.getUpdateInstructionArguments(o),s)}):h.updateInstruction(f,e.sourceSpan,Hi.property,function(){return H([gr(p),h.convertPropertyBinding(o,!0)],s)}):h.updateInstruction(f,e.sourceSpan,2===t?Hi.elementClassProp:Hi.elementAttribute,function(){return H([gr(f),gr(p),h.convertPropertyBinding(o)],s)})}}}),ho(this,i.children),!o&&this.i18n&&this.i18n.appendElement(i.i18n,f,!0),!C){var I=i.endSourceSpan||i.sourceSpan;o&&this.i18nEnd(I,b),r&&this.creationInstruction(I,Hi.enableBindings),this.creationInstruction(I,c?Hi.elementContainerEnd:Hi.elementEnd)}},Kv.prototype.visitTemplate=function(n){var r=this,t=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(n.i18n,t);var e=ci(n.tagName||""),i=this.contextName+(e?"_"+e:"")+"_"+t,o=i+"_Template",s=[gr(t),lr(o),gr(n.tagName?R(n.tagName)[1]:n.tagName)];this.matchDirectives("ng-template",n);var a=[];n.attributes.forEach(function(e){a.push(Ys(e.name),Ys(e.value))}),a.push.apply(a,H(this.prepareNonRenderAttrs(n.inputs,n.outputs,void 0,n.templateAttrs))),s.push(this.toAttrsParam(a)),n.references&&n.references.length&&(s.push(this.prepareRefsParameter(n.references)),s.push(cr(Hi.templateRefExtractor)));var u=new Kv(this.constantPool,this._bindingScope,this.level+1,i,this.i18n,t,o,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds);this._nestedTemplateFns.push(function(){var e,t=u.buildTemplateFunction(n.children,n.variables,r._ngContentReservedSlots.length+r._ngContentSelectorsOffset,n.i18n);r.constantPool.statements.push(t.toDeclStmt(o,null)),u._ngContentReservedSlots.length&&(e=r._ngContentReservedSlots).push.apply(e,H(u._ngContentReservedSlots))}),this.creationInstruction(n.sourceSpan,Hi.templateCreate,function(){return s.splice(2,0,gr(u.getConstCount()),gr(u.getVarCount())),Zs(s)}),this.templatePropertyBindings(n,t,n.templateAttrs),"ng-template"===n.tagName&&(this.templatePropertyBindings(n,t,n.inputs),n.outputs.forEach(function(e){r.creationInstruction(e.sourceSpan,Hi.listener,r.prepareListenerParameter("ng_template",e,t))}))},Kv.prototype.visitBoundText=function(e){var t=this;if(this.i18n){var n=e.value.visit(this._valueConverter);return this.allocateBindingSlots(n),void(n instanceof Np&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(n.expressions)))}var r=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,Hi.text,[gr(r)]);var i=e.value.visit(this._valueConverter);this.allocateBindingSlots(i),this.updateInstruction(r,e.sourceSpan,Hi.textBinding,function(){return[gr(r),t.convertPropertyBinding(i)]})},Kv.prototype.visitText=function(e){this.i18n||this.creationInstruction(e.sourceSpan,Hi.text,[gr(this.allocateDataSlot()),gr(e.value)])},Kv.prototype.visitIcu=function(e){var t=!1;function n(e){return Qv(null,Hi.i18nPostprocess,[e,Ms(i,!0)])}this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));var r=this.i18n,i=this.i18nBindProps(e.vars),o=this.i18nBindProps(e.placeholders),s=e.i18n;if(Ds(r.meta))this.i18nTranslate(s,o,r.ref,n);else{var a=this.i18nTranslate(s,o,void 0,n);r.appendIcu(Ls(s).name,a)}return t&&this.i18nEnd(null,!0),null},Kv.prototype.allocateDataSlot=function(){return this._dataIndex++},Kv.prototype.getConstCount=function(){return this._dataIndex},Kv.prototype.getVarCount=function(){return this._pureFunctionSlots},Kv.prototype.getNgContentSelectors=function(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Ys(this._ngContentReservedSlots),!0):null},Kv.prototype.bindingContext=function(){return""+this._bindingContext++},Kv.prototype.templatePropertyBindings=function(n,r,e){var i=this;e.forEach(function(e){if(e instanceof Ki){var t=e.value.visit(i._valueConverter);i.allocateBindingSlots(t),i.updateInstruction(r,n.sourceSpan,Hi.property,function(){return[gr(e.name),i.convertPropertyBinding(t,!0)]})}})},Kv.prototype.instructionFn=function(e,t,n,r,i){void 0===i&&(i=!1),e[i?"unshift":"push"](function(){var e=Array.isArray(r)?r:r();return Qv(t,n,e).toStmt()})},Kv.prototype.processStylingInstruction=function(e,t){var n=this;if(e){var r=function(){return e.buildParams(function(e){return n.convertPropertyBinding(e,!0)})};t?this.creationInstruction(e.sourceSpan,e.reference,r):this.updateInstruction(-1,e.sourceSpan,e.reference,r)}},Kv.prototype.creationInstruction=function(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)},Kv.prototype.updateInstruction=function(e,t,n,r){this._lastNodeIndexWithFlush<e&&(this.instructionFn(this._updateCodeFns,t,Hi.select,[gr(e)]),this._lastNodeIndexWithFlush=e),this.instructionFn(this._updateCodeFns,t,n,r||[])},Kv.prototype.allocatePureFunctionSlots=function(e){var t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t},Kv.prototype.allocateBindingSlots=function(e){this._bindingSlots+=e instanceof Np?e.expressions.length:1},Kv.prototype.getImplicitReceiverExpr=function(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?lr(Ks):this._bindingScope.getOrCreateSharedContextVar(0)},Kv.prototype.convertExpressionBinding=function(e){var t=Tl(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),Sl.TrySimple).currValExpr;return cr(Hi.bind).callFn([t])},Kv.prototype.convertPropertyBinding=function(e,t){var n,r=e instanceof Np?em:function(){return Ir("Unexpected interpolation")},i=Tl(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),Sl.TrySimple,r),o=i.currValExpr;return(n=this._tempVariables).push.apply(n,H(i.stmts)),e instanceof Np||t?o:cr(Hi.bind).callFn([o])},Kv.prototype.getUpdateInstructionArguments=function(e){var t,n=function(e,t,n,r){var i=new Ll(e,t,r,void 0),o=n.visit(i,xl.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var s=Pl(i,r),a=o.args.slice(1);if(n instanceof Np){var u=n.strings;3===a.length&&""===u[0]&&""===u[1]?a=[a[1]]:19<=a.length&&(a=[dr(a)])}return{stmts:s,args:a}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),r=n.args;return(t=this._tempVariables).push.apply(t,H(n.stmts)),r},Kv.prototype.matchDirectives=function(e,t){var n,r,i,o=this;if(this.directiveMatcher){var s=(n=e,r=oa(t),(i=new V).setElement(n),Object.getOwnPropertyNames(r).forEach(function(e){var t=r[e];i.addAttribute(e,t),"class"===e.toLowerCase()&&t.trim().split(/\s+/).forEach(function(e){return i.addClassName(e)})}),i);this.directiveMatcher.match(s,function(e,t){o.directives.add(t)})}},Kv.prototype.prepareNonRenderAttrs=function(e,t,n,r){void 0===r&&(r=[]);var i=new Set,o=[];function s(e,t){"string"==typeof e?i.has(e)||(o.push.apply(o,H($v(e))),void 0!==t&&o.push(t),i.add(e)):o.push(gr(e))}if(n&&n.populateInitialStylingAttrs(o),e.length||t.length){for(var a=o.length,u=0;u<e.length;u++){var p=e[u];4!==p.type&&s(p.name)}for(u=0;u<t.length;u++){var l=t[u];1!==l.type&&s(l.name)}o.length&&o.splice(a,0,gr(3))}return r.length&&(o.push(gr(4)),r.forEach(function(e){return s(e.name)})),o},Kv.prototype.toAttrsParam=function(e){return 0<e.length?this.constantPool.getConstLiteral(dr(e),!0):Vt},Kv.prototype.prepareRefsParameter=function(e){var r=this;if(!e||0===e.length)return Vt;var t=Di(e.map(function(e){var i=r.allocateDataSlot(),t=r._bindingScope.freshReferenceName(),n=r.level,o=lr(t);return r._bindingScope.set(n,e.name,o,0,function(e,t){var n=0<t?[Xv(t).toStmt()]:[],r=o.set(cr(Hi.reference).callFn([gr(i)]));return n.concat(r.toConstDecl())},!0),[e.name,e.value]}));return this.constantPool.getConstLiteral(Ys(t),!0)},Kv.prototype.prepareListenerParameter=function(i,o,s){var a=this;return function(){var e=o.name,t=1===o.type?va(e,o.phase):ci(e),n=a.templateName+"_"+i+"_"+t+"_"+s+"_listener",r=a._bindingScope.nestedScope(a._bindingScope.bindingLevel);return Vv(o,n,r)}},Kv),Hv=(a(zv,jv=Vp),zv.prototype.visitPipe=function(e,t){var n,r,i=this.allocateSlot(),o="PIPE:"+i,s=this.allocatePureFunctionSlots(2+e.args.length),a=new _p(e.span,new mp(e.span),o),u=(n=e.args,{identifier:(r=qv[n.length])||Hi.pipeBindV,isVarLength:!r}),p=u.isVarLength;this.definePipe(e.name,o,i,cr(u.identifier));var l=H([e.exp],e.args),c=this.visitAll(p?[new Tp(e.span,l)]:l),h=new Op(e.span,a,H([new bp(e.span,i),new bp(e.span,s)],c));return this._pipeBindExprs.push(h),h},zv.prototype.updatePipeSlotOffsets=function(t){this._pipeBindExprs.forEach(function(e){e.args[1].value+=t})},zv.prototype.visitLiteralArray=function(e,t){var n=this;return new Vl(e.span,this.visitAll(e.expressions),function(e){var t=dr(e);return e.every(function(e){return e.isConstant()})?n.constantPool.getConstLiteral(t,!0):Gv(n.constantPool,t,n.allocatePureFunctionSlots)})},zv.prototype.visitLiteralMap=function(n,e){var r=this;return new Vl(n.span,this.visitAll(n.values),function(e){var t=vr(e.map(function(e,t){return{key:n.keys[t].key,value:e,quoted:n.keys[t].quoted}}));return e.every(function(e){return e.isConstant()})?r.constantPool.getConstLiteral(t,!0):Gv(r.constantPool,t,r.allocatePureFunctionSlots)})},zv),qv=[Hi.pipeBind1,Hi.pipeBind2,Hi.pipeBind3,Hi.pipeBind4],Wv=[Hi.pureFunction0,Hi.pureFunction1,Hi.pureFunction2,Hi.pureFunction3,Hi.pureFunction4,Hi.pureFunction5,Hi.pureFunction6,Hi.pureFunction7,Hi.pureFunction8];function zv(e,t,n,r){var i=jv.call(this)||this;return i.constantPool=e,i.allocateSlot=t,i.allocatePureFunctionSlots=n,i.definePipe=r,i._pipeBindExprs=[],i}function Kv(e,t,n,r,i,o,s,a,u,p,l,c,h,f){var d=this;void 0===n&&(n=0),this.constantPool=e,this.level=n,this.contextName=r,this.i18nContext=i,this.templateIndex=o,this.templateName=s,this.directiveMatcher=a,this.directives=u,this.pipeTypeByName=p,this.pipes=l,this._namespace=c,this.relativeContextFilePath=h,this.i18nUseExternalIds=f,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._lastNodeIndexWithFlush=-1,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=Gs,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=$s,this.visitVariable=$s,this.visitTextAttribute=$s,this.visitBoundAttribute=$s,this.visitBoundEvent=$s,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=h.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Hv(e,function(){return d.allocateDataSlot()},function(e){return d.allocatePureFunctionSlots(e)},function(e,t,n,r){var i=p.get(e);i&&d.pipes.add(i),d._bindingScope.set(d.level,t,r),d.creationInstruction(null,Hi.pipe,[gr(n),gr(e)])})}function Qv(e,t,n){return cr(t,null,e).callFn(n,e)}function Xv(e){return cr(Hi.nextContext).callFn(1<e?[gr(e)]:[])}function Gv(e,t,n){var r=e.getLiteralFactory(t),i=r.literalFactory,o=r.literalFactoryArguments,s=n(1+o.length);0<o.length||Ir("Expected arguments to a literal factory function");var a,u={identifier:(a=Wv[o.length])||Hi.pureFunctionV,isVarLength:!a},p=u.identifier,l=u.isVarLength,c=[gr(s),i];return l?c.push(dr(o)):c.push.apply(c,H(o)),cr(p).callFn(c)}function $v(e){var t=k(R(e),2),n=t[0],r=gr(t[1]);return n?[gr(0),gr(n),r]:[r]}var Yv=(Object.defineProperty(Jv,"ROOT_SCOPE",{get:function(){return Jv._ROOT_SCOPE||(Jv._ROOT_SCOPE=(new Jv).set(0,"$event",lr("$event"))),Jv._ROOT_SCOPE},enumerable:!0,configurable:!0}),Jv.prototype.get=function(e){for(var t=this;t;){var n=t.map.get(e);if(null!=n)return t!==this&&(this.map.set(e,n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef}),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)},Jv.prototype.set=function(e,t,n,r,i,o){if(void 0===r&&(r=0),this.map.has(t)){if(o)return this;Ir("The name "+t+" is already defined in scope to be "+this.map.get(t))}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:o||!1}),this},Jv.prototype.getLocal=function(e){return this.get(e)},Jv.prototype.notifyImplicitReceiverUse=function(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)},Jv.prototype.nestedScope=function(e){var t=new Jv(e,this);return 0<e&&t.generateSharedContextVar(0),t},Jv.prototype.getOrCreateSharedContextVar=function(e){var t="$$shared_ctx$$"+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs},Jv.prototype.getSharedContextName=function(e){var t=this.map.get("$$shared_ctx$$"+e);return t&&t.declare?t.lhs:null},Jv.prototype.maybeGenerateSharedContextVar=function(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){var t=this.map.get("$$shared_ctx$$"+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}},Jv.prototype.generateSharedContextVar=function(e){var n=lr(Ks+this.freshReferenceName());this.map.set("$$shared_ctx$$"+e,{retrievalLevel:e,lhs:n,declareLocalCallback:function(e,t){return[n.set(Xv(t)).toConstDecl()]},declare:!1,priority:2,localRef:!1})},Jv.prototype.getComponentProperty=function(e){var t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)},Jv.prototype.maybeRestoreView=function(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=lr(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)},Jv.prototype.restoreViewStatement=function(){return this.restoreViewVariable?[Qv(null,Hi.restoreView,[this.restoreViewVariable]).toStmt()]:[]},Jv.prototype.viewSnapshotStatements=function(){var e=Qv(null,Hi.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]},Jv.prototype.isListenerScope=function(){return this.parent&&this.parent.bindingLevel===this.bindingLevel},Jv.prototype.variableDeclarations=function(){var i=this,o=0;return Array.from(this.map.values()).filter(function(e){return e.declare}).sort(function(e,t){return t.retrievalLevel-e.retrievalLevel||t.priority-e.priority}).reduce(function(e,t){var n=i.bindingLevel-t.retrievalLevel,r=t.declareLocalCallback(i,n-o);return o=n,e.concat(r)},[])},Jv.prototype.freshReferenceName=function(){for(var e=this;e.parent;)e=e.parent;return"_r"+e.referenceNameIndex++},Jv);function Jv(e,t){void 0===e&&(e=0),void 0===t&&(t=null),this.bindingLevel=e,this.parent=t,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}function Zv(e){var t=ae(e.value)[0];return[gr(5),Ys(t)]}function em(e){switch((e=e.slice(1)).length){case 3:return cr(Hi.interpolation1).callFn(e);case 5:return cr(Hi.interpolation2).callFn(e);case 7:return cr(Hi.interpolation3).callFn(e);case 9:return cr(Hi.interpolation4).callFn(e);case 11:return cr(Hi.interpolation5).callFn(e);case 13:return cr(Hi.interpolation6).callFn(e);case 15:return cr(Hi.interpolation7).callFn(e);case 17:return cr(Hi.interpolation8).callFn(e)}return 19<=e.length&&e.length%2==1||Ir("Invalid interpolation argument length "+e.length),cr(Hi.interpolationV).callFn([dr(e)])}function tm(e,t,n){void 0===n&&(n={});var r=n.interpolationConfig,i=n.preserveWhitespaces,o=nm(r),s=(new Sh).parse(e,t,d({},n,{tokenizeExpansionForms:!0,leadingTriviaChars:Dv}));if(s.errors&&0<s.errors.length)return{errors:s.errors,nodes:[],styleUrls:[],styles:[]};var a=s.rootNodes;a=Bc(new kv(r,!i),a),i||(a=Bc(new Nh,a),a=Bc(new kv(r,!1),a));var u=av(a,o),p=u.errors;return p&&0<p.length?{errors:p,nodes:[],styleUrls:[],styles:[]}:{nodes:u.nodes,styleUrls:u.styleUrls,styles:u.styles}}function nm(e){return void 0===e&&(e=Sa),new Vf(new Kd(new Nd),e,new iv,null,[])}function rm(e,t){switch(e){case A.HTML:return cr(Hi.sanitizeHtml);case A.SCRIPT:return cr(Hi.sanitizeScript);case A.STYLE:return t?cr(Hi.sanitizeStyle):null;case A.URL:return cr(Hi.sanitizeUrl);case A.RESOURCE_URL:return cr(Hi.sanitizeResourceUrl);default:return null}}function im(e){return e instanceof qi||e instanceof Wi||e instanceof Zi}function om(e){return e.every(im)}var sm=[],am=/attr\.([^\]]+)/;function um(e,t,n){var r=new ra;r.set("type",e.type),r.set("selectors",Ys(ae(e.selector)));var i=sa({name:e.name,type:e.type,deps:e.deps,injectFn:Hi.directiveInject});r.set("factory",i.factory),0<e.queries.length&&r.set("contentQueries",mm(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",Em(e.viewQueries,t,e.name));var o=Object.keys(e.host.properties).filter(function(e){var t=e.substring(0,5);return"style"!==t&&"class"!==t}).length,s=lr("elIndex"),a=lr(Ks),u=new Sd(s,a),p=e.host.specialAttributes,l=p.styleAttr,c=p.classAttr;return void 0!==l&&u.registerStyleAttr(l),void 0!==c&&u.registerClassAttr(c),r.set("hostBindings",function(d,v,m,e,y,g,t,n){function _(){return r=r||new Hv(t,function(){return Ir("Unexpected node")},function(e){var t=s;return s+=e,t},function(){return Ir("Unexpected pipe")})}var r,o,i=[],E=[],s=n,a=d.typeSourceSpan,u=wm(d),p=g.createDirectiveHostEventAsts(u,a);if(p&&p.length){var l=(o=d,p.map(function(e){var t=e.name&&ci(e.name),n=1===e.type?va(t,e.targetOrPhase):t,r=o.name&&t?o.name+"_"+n+"_HostBindingHandler":null,i=Vv(Qi.fromParsedEvent(e),r);return cr(1==e.type?Hi.componentHostSyntheticListener:Hi.listener).callFn(i).toStmt()}));i.push.apply(i,H(l))}(g.createBoundHostProperties(u,a)||[]).forEach(function(e){if(!y.registerInputBasedOnName(e.name,e.expression,e.sourceSpan)){var t=e.expression.visit(_()),n=Sm(m,t),r=(h=(l=e).name,f=h.match(am),c=f?(h=f[1],Hi.elementAttribute):l.isAnimation?(h=da(h),Hi.componentHostSyntheticProperty):Hi.property,{bindingName:h,instruction:c,isAttribute:!!f}),i=r.bindingName,o=r.instruction,s=r.isAttribute,a=g.calcPossibleSecurityContexts(d.selector||"",i,s).filter(function(e){return e!==A.NONE}),u=null;a.length&&(u=2===a.length&&-1<a.indexOf(A.URL)&&-1<a.indexOf(A.RESOURCE_URL)?cr(Hi.sanitizeUrlOrResourceUrl):rm(a[0],s));var p=o===Hi.property?[gr(i),n.currValExpr]:[v,gr(i),cr(Hi.bind).callFn([n.currValExpr])];u&&p.push(u),s||(u||p.push(gr(null)),p.push(gr(!0))),E.push.apply(E,H(n.stmts)),E.push(cr(o).callFn(p).toStmt())}var l,c,h,f});var c=function(e){var t,n,r=[];try{for(var i=U(Object.getOwnPropertyNames(e)),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];r.push(gr(s),a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e),h=y.buildHostAttrsInstruction(null,c,t);if(h&&i.push(xm(h,m,Sm)),y.hasBindings){var f=y.buildElementStylingInstruction(null,t);f&&i.push(xm(f,m,Sm)),y.buildUpdateLevelInstructions(_()).forEach(function(e){E.push(xm(e,m,Sm))})}if(s&&i.unshift(cr(Hi.allocHostVars).callFn([gr(s)]).toStmt()),0<i.length||0<E.length){var S=d.name?d.name+"_HostBindings":null,x=[];return 0<i.length&&x.push(Bv(1,i)),0<E.length&&x.push(Bv(2,E)),mr([new Mt(Qs,Te),new Mt(Ks,null),new Mt(v.name,Te)],x,Ce,null,S)}return null}(e,s,a,e.host.attributes,u,n,t,o)),r.set("inputs",Js(e.inputs,!0)),r.set("outputs",Js(e.outputs)),null!==e.exportAs&&r.set("exportAs",dr(e.exportAs.map(function(e){return gr(e)}))),{definitionMap:r,statements:i.statements}}function pm(e,t){var n=[],r=t.providers,i=t.viewProviders;if(r||i){var o=[r||new Ot([])];i&&o.push(i),n.push(cr(Hi.ProvidersFeature).callFn(o))}t.usesInheritance&&n.push(cr(Hi.InheritDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(cr(Hi.NgOnChangesFeature).callFn(sm)),n.length&&e.set("features",dr(n))}function lm(e,t,n){var r=um(e,t,n),i=r.definitionMap,o=r.statements;pm(i,e);var s=cr(Hi.defineDirective).callFn([i.toLiteralMap()]);if(!e.selector)throw new Error("Directive "+e.name+" has no selector, please add it!");return{expression:s,type:_m(e,Hi.DirectiveDefWithMeta),statements:o}}function cm(e,t){var n=new ra;if(e.inputs){var r=e.inputs,i=Object.keys(r).map(function(e){var t=r[e];return{key:e,value:Array.isArray(t)?dr(t.map(function(e){return gr(e)})):gr(t),quoted:!1}});n.set("inputs",vr(i))}if(e.outputs){var o=e.outputs,s=Object.keys(o).map(function(e){return{key:e,value:gr(o[e]),quoted:!1}});n.set("outputs",vr(s))}return e.viewQueries&&0<e.viewQueries.length&&n.set("viewQuery",Em(e.viewQueries,t)),e.queries&&0<e.queries.length&&n.set("contentQueries",mm(e.queries,t)),{expression:cr(Hi.defineBase).callFn([n.toLiteralMap()]),type:new Ee(cr(Hi.BaseDef))}}function hm(e,t,n){var r,i,o=um(e,t,n),s=o.definitionMap,a=o.statements;pm(s,e);var u=e.selector&&V.parse(e.selector),p=u&&u[0];if(p){var l=p.getAttrs();l.length&&s.set("attrs",t.getConstLiteral(dr(l.map(function(e){return gr(null!=e?e:void 0)})),!0))}var c=null;if(0<e.directives.length){var h=new L;try{for(var f=U(e.directives),d=f.next();!d.done;d=f.next()){var v=d.value,m=v.expression;h.addSelectables(V.parse(v.selector),m)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}c=h}var y,g,_,E,S=e.name,x=S?S+"_Template":null,w=new Set,C=new Set,b=e.changeDetection,T=e.template,P=new Uv(t,Yv.ROOT_SCOPE,0,S,null,null,x,c,w,e.pipes,C,Hi.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),N=P.buildTemplateFunction(T.nodes,[]),M=P.getNgContentSelectors();if(M&&s.set("ngContentSelectors",M),s.set("consts",gr(P.getConstCount())),s.set("vars",gr(P.getVarCount())),s.set("template",N),w.size){var A=dr(Array.from(w));e.wrapDirectivesAndPipesInClosure&&(A=mr([],[new xn(A)])),s.set("directives",A)}if(C.size){var I=dr(Array.from(C));e.wrapDirectivesAndPipesInClosure&&(I=mr([],[new xn(I)])),s.set("pipes",I)}if(null===e.encapsulation&&(e.encapsulation=D.Emulated),e.styles&&e.styles.length){var k=(e.encapsulation==D.Emulated?(y=e.styles,g=dc,_=fc,E=new jl,y.map(function(e){return E.shimCssText(e,g,_)})):e.styles).map(function(e){return gr(e)});s.set("styles",dr(k))}else e.encapsulation===D.Emulated&&(e.encapsulation=D.None);return e.encapsulation!==D.Emulated&&s.set("encapsulation",gr(e.encapsulation)),null!==e.animations&&s.set("data",vr([{key:"animation",value:e.animations,quoted:!1}])),null!=b&&b!==F.Default&&s.set("changeDetection",gr(b)),(e.selector||"").replace(/\n/g,""),{expression:cr(Hi.defineComponent).callFn([s.toLiteralMap()]),type:_m(e,Hi.ComponentDefWithMeta),statements:a}}function fm(){throw new Error("unsupported")}function dm(e,n){return e.map(function(e){var t=null;return e.read&&e.read.identifier&&(t=n.importExpr(e.read.identifier.reference)),{propertyName:e.propertyName,first:e.first,predicate:function(e,t){if(1<e.length||1==e.length&&e[0].value){var n=e.map(function(e){return e.value});return n.some(function(e){return!e})&&Ir("Found a type among the string selectors expected"),t.constantPool.getConstLiteral(dr(n.map(function(e){return gr(e)})))}if(1==e.length){var r=e[0];if(r.identifier)return t.importExpr(r.identifier.reference)}return Ir("Unexpected query form"),Bt}(e.selectors,n),descendants:e.descendants,read:t,static:!!e.static}})}function vm(e,t){return[function(e,t){if(Array.isArray(e.predicate)){var n=[];return e.predicate.forEach(function(e){var t=e.split(",").map(function(e){return gr(e.trim())});n.push.apply(n,H(t))}),t.getConstLiteral(dr(n),!0)}return e.predicate}(e,t),gr(e.descendants),e.read||gr(null)]}function mm(e,t,n){var r,i,o=[],s=[],a=Xs(s,zs);try{for(var u=U(e),p=u.next();!p.done;p=u.next()){var l=p.value,c=H([lr("dirIndex")],vm(l,t));o.push(cr(l.static?Hi.staticContentQuery:Hi.contentQuery).callFn(c).toStmt());var h=a(),f=cr(Hi.loadContentQuery).callFn([]),d=cr(Hi.queryRefresh).callFn([h.set(f)]),v=lr(Ks).prop(l.propertyName).set(l.first?h.prop("first"):h);s.push(d.and(v).toStmt())}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}var m=n?n+"_ContentQueries":null;return mr([new Mt(Qs,Te),new Mt(Ks,null),new Mt("dirIndex",null)],[Bv(1,o),Bv(2,s)],Ce,null,m)}function ym(t){return fr(vr(Object.keys(t).map(function(e){return{key:e,value:gr(Array.isArray(t[e])?t[e][0]:t[e]),quoted:!0}})))}function gm(e){return 0<e.length?fr(dr(e.map(function(e){return gr(e)}))):Pe}function _m(e,t){var n,r=(e.selector||"").replace(/\n/g,"");return fr(cr(t,[ha(e.type,e.typeArgumentCount),(n=r,fr(gr(n))),null!==e.exportAs?gm(e.exportAs):Pe,ym(e.inputs),ym(e.outputs),gm(e.queries.map(function(e){return e.propertyName}))]))}function Em(e,s,t){var a=[],u=[],p=Xs(u,zs);e.forEach(function(e){var t=cr(e.static?Hi.staticViewQuery:Hi.viewQuery).callFn(vm(e,s));a.push(t.toStmt());var n=p(),r=cr(Hi.loadViewQuery).callFn([]),i=cr(Hi.queryRefresh).callFn([n.set(r)]),o=lr(Ks).prop(e.propertyName).set(e.first?n.prop("first"):n);u.push(i.and(o).toStmt())});var n=t?t+"_Query":null;return mr([new Mt(Qs,Te),new Mt(Ks,null)],[Bv(1,a),Bv(2,u)],Ce,null,n)}function Sm(e,t){return Tl(null,e,t,"b",Sl.TrySimple,function(){return Ir("Unexpected interpolation")})}function xm(e,t,n){var r=e.buildParams(function(e){return n(t,e).currValExpr});return cr(e.reference,null,e.sourceSpan).callFn(r,e.sourceSpan).toStmt()}function wm(e){return{hostAttributes:{},hostListeners:e.host.listeners,hostProperties:e.host.properties}}var Cm=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function bm(e){var t,n,r={},i={},o={},s={};try{for(var a=U(Object.keys(e)),u=a.next();!u.done;u=a.next()){var p=u.value,l=e[p],c=p.match(Cm);if(null===c)switch(p){case"class":if("string"!=typeof l)throw new Error("Class binding must be string");s.classAttr=l;break;case"style":if("string"!=typeof l)throw new Error("Style binding must be string");s.styleAttr=l;break;default:r[p]="string"==typeof l?gr(l):l}else if(null!=c[1]){if("string"!=typeof l)throw new Error("Property binding must be string");o[c[1]]=l}else if(null!=c[2]){if("string"!=typeof l)throw new Error("Event binding must be string");i[c[2]]=l}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{attributes:r,listeners:i,properties:o,specialAttributes:s}}function Tm(e,t){var n=wm({host:e}),r=nm();return r.createDirectiveHostEventAsts(n,t),r.createBoundHostProperties(n,t),r.errors}var Pm=(Dm.prototype.get=function(e){return""},Dm),Nm=(Om.prototype.compilePipe=function(e,t,n){var r=Vu({name:n.name,type:new Ke(n.type),typeArgumentCount:n.typeArgumentCount,deps:jm(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,e,t,r.statements)},Om.prototype.compileInjectable=function(e,t,n){var r,i=ma({name:n.name,type:new Ke(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:(r=n.providedIn,null==r||"string"==typeof r?new wt(r):new Ke(r)),useClass:Bm(n,Mm),useFactory:Bm(n,Am),useValue:Bm(n,Im),useExisting:Bm(n,km),ctorDeps:jm(n.ctorDeps),userDeps:jm(n.userDeps)||void 0});return this.jitExpression(i.expression,e,t,i.statements)},Om.prototype.compileInjector=function(e,t,n){var r=Fu({name:n.name,type:new Ke(n.type),deps:jm(n.deps),providers:new Ke(n.providers),imports:n.imports.map(function(e){return new Ke(e)})});return this.jitExpression(r.expression,e,t,r.statements)},Om.prototype.compileNgModule=function(e,t,n){var r=Du({type:new Ke(n.type),bootstrap:n.bootstrap.map(Rm),declarations:n.declarations.map(Rm),imports:n.imports.map(Rm),exports:n.exports.map(Rm),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(Rm):null});return this.jitExpression(r.expression,e,t,[])},Om.prototype.compileDirective=function(e,t,n){var r=new Xr,i=nm(),o=lm(Lm(n),r,i),s=H(r.statements,o.statements);return this.jitExpression(o.expression,e,t,s)},Om.prototype.compileComponent=function(e,t,n){var r=new Xr,i=n.interpolation?Ea.fromArray(n.interpolation):Sa,o=tm(n.template,t,{preserveWhitespaces:n.preserveWhitespaces,interpolationConfig:i});if(void 0!==o.errors){var s=o.errors.map(function(e){return e.toString()}).join(", ");throw new Error("Errors during JIT compilation of template for "+n.name+": "+s)}var a=hm(d({},n,Lm(n),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:o,wrapDirectivesAndPipesInClosure:!1,styles:n.styles||[],encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new Ke(n.animations):null,viewProviders:null!=n.viewProviders?new Ke(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r,nm(i)),u=H(r.statements,a.statements);return this.jitExpression(a.expression,e,"ng:///"+n.name+".js",u)},Om.prototype.compileBase=function(e,t,n){var r=new Xr,i=cm(d({},n,{viewQueries:n.viewQueries?n.viewQueries.map(Fm):n.viewQueries,queries:n.queries?n.queries.map(Fm):n.queries}),r);return this.jitExpression(i.expression,e,t,r.statements)},Om.prototype.createParseSourceSpan=function(e,t,n){return ku(e,t,n)},Om.prototype.jitExpression=function(e,t,n,r){var i=H(r,[new _n("$def",e,void 0,[x.StmtModifier.Exported])]);return this.jitEvaluator.evaluateStatements(n,i,new Ru(t),!0).$def},Om),Mm=Object.keys({useClass:null})[0],Am=Object.keys({useFactory:null})[0],Im=Object.keys({useValue:null})[0],km=Object.keys({useExisting:null})[0],Rm=function(e){var t=new Ke(e);return{value:t,type:t}};function Om(e){void 0===e&&(e=new Ha),this.jitEvaluator=e,this.R3ResolvedDependencyType=x.R3ResolvedDependencyType,this.ResourceLoader=Pm,this.elementSchemaRegistry=new iv}function Dm(){}function Fm(e){return d({},e,{predicate:Array.isArray(e.predicate)?e.predicate:new Ke(e.predicate),read:e.read?new Ke(e.read):null,static:e.static})}function Lm(e){function t(t){i.hasOwnProperty(t)&&i[t].forEach(function(e){"Input"!==e.ngMetadataName?"Output"===e.ngMetadataName&&(s[t]=e.bindingPropertyName||t):o[t]=e.bindingPropertyName?[e.bindingPropertyName,t]:t})}var n=Um(e.inputs||[]),r=Um(e.outputs||[]),i=e.propMetadata,o={},s={};for(var a in i)t(a);return d({},e,{typeSourceSpan:e.typeSourceSpan,type:new Ke(e.type),deps:jm(e.deps),host:function(e,n,t){var r=bm(e||{}),i=Tm(r,t);if(i.length)throw new Error(i.map(function(e){return e.msg}).join("\n"));function o(t){n.hasOwnProperty(t)&&n[t].forEach(function(e){"HostBinding"!==e.ngMetadataName?"HostListener"===e.ngMetadataName&&(r.listeners[e.eventName||t]=t+"("+(e.args||[]).join(",")+")"):r.properties[e.hostPropertyName||t]=t})}for(var s in n)o(s);return r}(e.host,e.propMetadata,e.typeSourceSpan),inputs:d({},n,o),outputs:d({},r,s),queries:e.queries.map(Fm),providers:null!=e.providers?new Ke(e.providers):null,viewQueries:e.viewQueries.map(Fm)})}function Bm(e,t){return e.hasOwnProperty(t)?new Ke(e[t]):void 0}function Vm(e){return{token:null===e.token?new wt(null):e.resolved===x.R3ResolvedDependencyType.Attribute?new wt(e.token):new Ke(e.token),resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function jm(e){return null==e?null:e.map(Vm)}function Um(e){return e.reduce(function(e,t){var n=k(t.split(",").map(function(e){return e.trim()}),2),r=n[0];return e[r]=n[1]||r,e},{})}function Hm(e){(e.ng||(e.ng={})).ɵcompilerFacade=new Nm}function qm(e){var t=void 0===e?{}:e,n=t.defaultEncapsulation,r=t.useJit,i=void 0===r||r,o=t.jitDevMode,s=void 0!==o&&o,a=t.missingTranslation,u=void 0===a?null:a,p=t.preserveWhitespaces,l=t.strictInjectionParameters;this.defaultEncapsulation=void 0===n?D.Emulated:n,this.useJit=!!i,this.jitDevMode=!!s,this.missingTranslation=u,this.preserveWhitespaces=zm(br(p)),this.strictInjectionParameters=!0===l}var Wm=new Ur("8.0.3");function zm(e,t){return void 0===t&&(t=!1),null===e?t:e}var Km=(Jm.prototype.clearCache=function(){this._resourceLoaderCache.clear()},Jm.prototype.clearCacheFor=function(e){var t=this;if(e.isComponent){var n=e.template;this._resourceLoaderCache.delete(n.templateUrl),n.externalStylesheets.forEach(function(e){t._resourceLoaderCache.delete(e.moduleUrl)})}},Jm.prototype._fetch=function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t},Jm.prototype.normalizeTemplate=function(t){var n=this;if(Cr(t.template)){if(Cr(t.templateUrl))throw kr("'"+Br(t.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof t.template)throw kr("The template specified for component "+Br(t.componentType)+" is not a string")}else{if(!Cr(t.templateUrl))throw kr("No template specified for component "+Br(t.componentType));if("string"!=typeof t.templateUrl)throw kr("The templateUrl specified for component "+Br(t.componentType)+" is not a string")}if(Cr(t.preserveWhitespaces)&&"boolean"!=typeof t.preserveWhitespaces)throw kr("The preserveWhitespaces option for component "+Br(t.componentType)+" must be a boolean");return Pr(this._preParseTemplate(t),function(e){return n._normalizeTemplateMetadata(t,e)})},Jm.prototype._preParseTemplate=function(t){var e,n,r=this;return null!=t.template?(e=t.template,n=t.moduleUrl):(n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl),e=this._fetch(n)),Pr(e,function(e){return r._preparseLoadedTemplate(t,e,n)})},Jm.prototype._preparseLoadedTemplate=function(e,t,n){var r=!!e.template,i=Ea.fromArray(e.interpolation),o=Li({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),s=this._htmlParser.parse(t,o,{tokenizeExpansionForms:!0,interpolationConfig:i});if(0<s.errors.length)throw kr("Template parse errors:\n"+s.errors.join("\n"));var a=this._normalizeStylesheet(new xi({styles:e.styles,moduleUrl:e.moduleUrl})),u=new Qm;Bc(u,s.rootNodes);var p=this._normalizeStylesheet(new xi({styles:u.styles,styleUrls:u.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:s,styles:a.styles.concat(p.styles),inlineStyleUrls:a.styleUrls.concat(p.styleUrls),styleUrls:this._normalizeStylesheet(new xi({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:u.ngContentSelectors}},Jm.prototype._normalizeTemplateMetadata=function(t,n){var r=this;return Pr(this._loadMissingExternalStylesheets(n.styleUrls.concat(n.inlineStyleUrls)),function(e){return r._normalizeLoadedTemplateMetadata(t,n,e)})},Jm.prototype._normalizeLoadedTemplateMetadata=function(e,t,r){var i=this,n=H(t.styles);this._inlineStyles(t.inlineStyleUrls,r,n);var o=t.styleUrls,s=o.map(function(e){var t=r.get(e),n=H(t.styles);return i._inlineStyles(t.styleUrls,r,n),new xi({moduleUrl:e,styles:n})}),a=e.encapsulation;return null==a&&(a=this._config.defaultEncapsulation),a===D.Emulated&&0===n.length&&0===o.length&&(a=D.None),new wi({encapsulation:a,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:n,styleUrls:o,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:zm(e.preserveWhitespaces,this._config.preserveWhitespaces)})},Jm.prototype._inlineStyles=function(e,n,r){var i=this;e.forEach(function(e){var t=n.get(e);t.styles.forEach(function(e){return r.push(e)}),i._inlineStyles(t.styleUrls,n,r)})},Jm.prototype._loadMissingExternalStylesheets=function(e,r){var i=this;return void 0===r&&(r=new Map),Pr(Nr(e.filter(function(e){return!r.has(e)}).map(function(n){return Pr(i._fetch(n),function(e){var t=i._normalizeStylesheet(new xi({styles:[e],moduleUrl:n}));return r.set(n,t),i._loadMissingExternalStylesheets(t.styleUrls,r)})})),function(e){return r})},Jm.prototype._normalizeStylesheet=function(e){var s=this,a=e.moduleUrl,u=e.styleUrls.filter(Of).map(function(e){return s._urlResolver.resolve(a,e)}),t=e.styles.map(function(e){var r,i,o,t,n=(r=s._urlResolver,i=a,o=[],t=e.replace(Lf,"").replace(Ff,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[1]||e[2];return Of(n)?(o.push(r.resolve(i,n)),""):e[0]}),new Rf(t,o));return u.push.apply(u,H(n.styleUrls)),n.style});return new xi({styles:t,styleUrls:u,moduleUrl:a})},Jm),Qm=(Ym.prototype.visitElement=function(e,t){var n=Qf(e);switch(n.type){case zf.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case zf.STYLE:var r="";e.children.forEach(function(e){e instanceof bc&&(r+=e.value)}),this.styles.push(r);break;case zf.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Bc(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null},Ym.prototype.visitExpansion=function(e,t){Bc(this,e.cases)},Ym.prototype.visitExpansionCase=function(e,t){Bc(this,e.expression)},Ym.prototype.visitComment=function(e,t){return null},Ym.prototype.visitAttribute=function(e,t){return null},Ym.prototype.visitText=function(e,t){return null},Ym),Xm=[b,C,w,S],Gm=($m.prototype.isDirective=function(e){var t=this._reflector.annotations(Vr(e));return t&&t.some(Zm)},$m.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=this._reflector.annotations(Vr(e));if(n){var r=ey(n,Zm);if(r){var i=this._reflector.propMetadata(e),o=this._reflector.guards(e);return this._mergeWithPropertyMetadata(r,i,o,e)}}if(t)throw new Error("No Directive annotation found on "+Br(e));return null},$m.prototype._mergeWithPropertyMetadata=function(e,i,t,n){var o=[],s=[],a={},u={};return Object.keys(i).forEach(function(n){var e=ey(i[n],function(e){return K.isTypeOf(e)});e&&o.push(e.bindingPropertyName?n+": "+e.bindingPropertyName:n);var t=ey(i[n],function(e){return Q.isTypeOf(e)});t&&s.push(t.bindingPropertyName?n+": "+t.bindingPropertyName:n),i[n].filter(function(e){return X.isTypeOf(e)}).forEach(function(e){if(e.hostPropertyName){var t=e.hostPropertyName[0];if("("===t)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===t)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");a["["+e.hostPropertyName+"]"]=n}else a["["+n+"]"]=n}),i[n].filter(function(e){return G.isTypeOf(e)}).forEach(function(e){a["("+e.eventName+")"]=n+"("+(e.args||[]).join(",")+")"});var r=ey(i[n],function(t){return Xm.some(function(e){return e.isTypeOf(t)})});r&&(u[n]=r)}),this._merge(e,o,s,a,u,t,n)},$m.prototype._extractPublicName=function(e){return Sr(e,[null,e])[1].trim()},$m.prototype._dedupeBindings=function(e){for(var t=new Set,n=new Set,r=[],i=e.length-1;0<=i;i--){var o=e[i],s=this._extractPublicName(o);n.add(s),t.has(s)||(t.add(s),r.push(o))}return r.reverse()},$m.prototype._merge=function(e,t,n,r,i,o,s){var a=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),u=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),p=e.host?d({},e.host,r):r,l=e.queries?d({},e.queries,i):i;return W.isTypeOf(e)?W({selector:e.selector,inputs:a,outputs:u,host:p,exportAs:e.exportAs,moduleId:e.moduleId,queries:l,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation,preserveWhitespaces:e.preserveWhitespaces}):T({selector:e.selector,inputs:a,outputs:u,host:p,exportAs:e.exportAs,queries:l,providers:e.providers,guards:o})},$m);function $m(e){this._reflector=e}function Ym(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}function Jm(e,t,n,r){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}function Zm(e){return T.isTypeOf(e)||W.isTypeOf(e)}function ey(e,t){for(var n=e.length-1;0<=n;n--)if(t(e[n]))return e[n];return null}function ty(e,t){this.messages=e,this.errors=t}var ny,ry,iy,oy=(a(uy,ry=Mu),uy),sy=/^i18n:?/,ay=!1;function uy(e,t){return ry.call(this,e,t)||this}(iy=ny=ny||{})[iy.Extract=0]="Extract",iy[iy.Merge=1]="Merge";var py=(ly.prototype.extract=function(e,t){var n=this;return this._init(ny.Extract,t),e.forEach(function(e){return e.visit(n,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new ty(this._messages,this._errors)},ly.prototype.merge=function(e,t,n){this._init(ny.Merge,n),this._translations=t;var r=new Mc("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new oh(r.children,this._errors)},ly.prototype.visitExpansionCase=function(e,t){var n=Bc(this,e.expression,t);if(this._mode===ny.Merge)return new Pc(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)},ly.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var r=Bc(this,e.cases,t);return this._mode===ny.Merge&&(e=new Tc(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e},ly.prototype.visitComment=function(e,t){var n,r,i=!!((n=e)instanceof Ac&&n.value&&n.value.startsWith("i18n"));if(i&&this._isInTranslatableSection)this._reportError(e,"Could not start a block inside a translatable section");else{var o=!!((r=e)instanceof Ac&&r.value&&"/i18n"===r.value);if(!o||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(o){if(this._depth!=this._blockStartDepth)return void this._reportError(e,"I18N blocks should not cross element boundaries");this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var s=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Bc(this,this._translateMessage(e,s))}}else i&&(!ay&&console&&console.warn&&(ay=!0,console.warn("I18n comments are deprecated, use an <ng-container> element instead ("+e.sourceSpan.start+(e.sourceSpan.details?", "+e.sourceSpan.details:"")+")")),this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(sy,"").trim(),this._openTranslatableSection(e))}else this._reportError(e,"Trying to close an unopened block")}},ly.prototype.visitText=function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},ly.prototype.visitElement=function(t,n){var r=this;this._mayBeAddBlockChildren(t),this._depth++;var e=this._inI18nNode,i=this._inImplicitNode,o=[],s=void 0,a=t.attrs.find(function(e){return"i18n"===e.name})||null,u=a?a.value:"",p=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,l=!i&&p;if(this._inImplicitNode=i||p,this._isInTranslatableSection||this._inIcu)(a||l)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==ny.Extract&&Bc(this,t.children);else{if(a||l){this._inI18nNode=!0;var c=this._addMessage(t.children,u);s=this._translateMessage(t,c)}if(this._mode==ny.Extract){var h=a||l;h&&this._openTranslatableSection(t),Bc(this,t.children),h&&this._closeTranslatableSection(t,t.children)}}if(this._mode===ny.Merge&&(s||t.children).forEach(function(e){var t=e.visit(r,n);t&&!r._isInTranslatableSection&&(o=o.concat(t))}),this._visitAttributesOf(t),this._depth--,this._inI18nNode=e,this._inImplicitNode=i,this._mode!==ny.Merge)return null;var f=this._translateAttributes(t);return new Mc(t.name,f,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},ly.prototype.visitAttribute=function(e,t){throw new Error("unreachable code")},ly.prototype._init=function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=Tv(t)},ly.prototype._visitAttributesOf=function(e){var n=this,r={},i=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith("i18n-")}).forEach(function(e){return r[e.name.slice("i18n-".length)]=e.value}),e.attrs.forEach(function(t){t.name in r?n._addMessage([t],r[t.name]):i.some(function(e){return t.name===e})&&n._addMessage([t])})},ly.prototype._addMessage=function(e,t){if(0==e.length||1==e.length&&e[0]instanceof Nc&&!e[0].value)return null;var n=cy(t),r=this._createI18nMessage(e,n.meaning,n.description,n.id);return this._messages.push(r),r},ly.prototype._translateMessage=function(e,t){if(t&&this._mode===ny.Merge){var n=this._translations.get(t);if(n)return n;this._reportError(e,'Translation unavailable for message id="'+this._translations.digest(t)+'"')}return[]},ly.prototype._translateAttributes=function(o){var s=this,e=o.attrs,a={};e.forEach(function(e){e.name.startsWith("i18n-")&&(a[e.name.slice("i18n-".length)]=cy(e.value))});var u=[];return e.forEach(function(e){if("i18n"!==e.name&&!e.name.startsWith("i18n-"))if(e.value&&""!=e.value&&a.hasOwnProperty(e.name)){var t=a[e.name],n=t.id,r=s._createI18nMessage([e],t.meaning,t.description,n),i=s._translations.get(r);i?0==i.length?u.push(new Nc(e.name,"",e.sourceSpan)):i[0]instanceof bc?u.push(new Nc(e.name,i[0].value,e.sourceSpan)):s._reportError(o,'Unexpected translation for attribute "'+e.name+'" (id="'+(n||s._translations.digest(r))+'")'):s._reportError(o,'Translation unavailable for attribute "'+e.name+'" (id="'+(n||s._translations.digest(r))+'")')}else u.push(e)}),u},ly.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},ly.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(ly.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),ly.prototype._closeTranslatableSection=function(e,t){if(this._isInTranslatableSection){var n=this._msgCountAtSectionStart;if(1==t.reduce(function(e,t){return e+(t instanceof Ac?0:1)},0))for(var r=this._messages.length-1;n<=r;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof vo)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(e,"Unexpected section end")},ly.prototype._reportError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},ly);function ly(e,t){this._implicitTags=e,this._implicitAttrs=t}function cy(e){if(!e)return{meaning:"",description:"",id:""};var t=e.indexOf("@@"),n=e.indexOf("|"),r=k(-1<t?[e.slice(0,t),e.slice(t+2)]:[e,""],2),i=r[0],o=r[1],s=k(-1<n?[i.slice(0,n),i.slice(n+1)]:["",i],2);return{meaning:s[0],description:s[1],id:o}}var hy=(fy.prototype.requireExtraParent=function(e){return!1},fy.prototype.isClosedByChild=function(e){return!1},new fy);function fy(){this.closedByParent=!1,this.contentType=x.TagContentType.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}function dy(e){return hy}var vy,my,yy,gy,_y=(a(Xy,gy=hh),Xy.prototype.parse=function(e,t,n){return gy.prototype.parse.call(this,e,t,n)},Xy),Ey=(a(Qy,yy=es),Qy.prototype.write=function(e,t){var i=new Sy,o=[];e.forEach(function(e){var t,n=[];e.sources.forEach(function(e){var t=new ls("context-group",{purpose:"location"});t.children.push(new hs(10),new ls("context",{"context-type":"sourcefile"},[new cs(e.filePath)]),new hs(10),new ls("context",{"context-type":"linenumber"},[new cs(""+e.startLine)]),new hs(8)),n.push(new hs(8),t)});var r=new ls("trans-unit",{id:e.id,datatype:"html"});(t=r.children).push.apply(t,H([new hs(8),new ls("source",{},i.serialize(e.nodes))],n)),e.description&&r.children.push(new hs(8),new ls("note",{priority:"1",from:"description"},[new cs(e.description)])),e.meaning&&r.children.push(new hs(8),new ls("note",{priority:"1",from:"meaning"},[new cs(e.meaning)])),r.children.push(new hs(6)),o.push(new hs(6),r)});var n=new ls("body",{},H(o,[new hs(4)])),r=new ls("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new hs(4),n,new hs(2)]),s=new ls("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new hs(2),r,new hs]);return ss([new us({version:"1.0",encoding:"UTF-8"}),new hs,s,new hs])},Qy.prototype.load=function(e,r){var t=(new xy).parse(e,r),n=t.locale,i=t.msgIdToHtml,o=t.errors,s={},a=new wy;if(Object.keys(i).forEach(function(e){var t=a.convert(i[e],r),n=t.i18nNodes;o.push.apply(o,H(t.errors)),s[e]=n}),o.length)throw new Error("xliff parse errors:\n"+o.join("\n"));return{locale:n,i18nNodesByMsgId:s}},Qy.prototype.digest=function(e){return Io(e)},Qy),Sy=(Ky.prototype.visitText=function(e,t){return[new cs(e.value)]},Ky.prototype.visitContainer=function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,H(e.visit(n)))}),r},Ky.prototype.visitIcu=function(t,e){var n=this,r=[new cs("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,H([new cs(e+" {")],t.cases[e].visit(n),[new cs("} ")]))}),r.push(new cs("}")),r},Ky.prototype.visitTagPlaceholder=function(e,t){var n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+e}}(e.tag);if(e.isVoid)return[new ls("x",{id:e.startName,ctype:n,"equiv-text":"<"+e.tag+"/>"})];var r=new ls("x",{id:e.startName,ctype:n,"equiv-text":"<"+e.tag+">"}),i=new ls("x",{id:e.closeName,ctype:n,"equiv-text":"</"+e.tag+">"});return H([r],this.serialize(e.children),[i])},Ky.prototype.visitPlaceholder=function(e,t){return[new ls("x",{id:e.name,"equiv-text":"{{"+e.value+"}}"})]},Ky.prototype.visitIcuPlaceholder=function(e,t){var n="{"+e.value.expression+", "+e.value.type+", "+Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" ")+"}";return[new ls("x",{id:e.name,"equiv-text":n})]},Ky.prototype.serialize=function(e){var t=this;return[].concat.apply([],H(e.map(function(e){return e.visit(t)})))},Ky),xy=(zy.prototype.parse=function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new _y).parse(e,t);return this._errors=n.errors,Bc(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},zy.prototype.visitElement=function(e,t){switch(e.name){case"trans-unit":this._unitMlString=null;var n=e.attrs.find(function(e){return"id"===e.name});if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg "+r):(Bc(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message "+r+" misses a translation"))}else this._addError(e,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":break;case"target":var i=e.startSourceSpan.start.file.content.slice(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset);this._unitMlString=i;break;case"file":var o=e.attrs.find(function(e){return"target-language"===e.name});o&&(this._locale=o.value),Bc(this,e.children,null);break;default:Bc(this,e.children,null)}},zy.prototype.visitAttribute=function(e,t){},zy.prototype.visitText=function(e,t){},zy.prototype.visitComment=function(e,t){},zy.prototype.visitExpansion=function(e,t){},zy.prototype.visitExpansionCase=function(e,t){},zy.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},zy),wy=(Wy.prototype.convert=function(e,t){var n=(new _y).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:0<this._errors.length||0==n.rootNodes.length?[]:[].concat.apply([],H(Bc(this,n.rootNodes))),errors:this._errors}},Wy.prototype.visitText=function(e,t){return new vo(e.value,e.sourceSpan)},Wy.prototype.visitElement=function(e,t){if("x"!==e.name)return"mrk"===e.name?[].concat.apply([],H(Bc(this,e.children))):(this._addError(e,"Unexpected tag"),null);var n=e.attrs.find(function(e){return"id"===e.name});return n?new _o("",n.value,e.sourceSpan):(this._addError(e,'<x> misses the "id" attribute'),null)},Wy.prototype.visitExpansion=function(t,e){var n={};return Bc(this,t.cases).forEach(function(e){n[e.value]=new mo(e.nodes,t.sourceSpan)}),new yo(t.switchValue,t.type,n,t.sourceSpan)},Wy.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:Bc(this,e.expression)}},Wy.prototype.visitComment=function(e,t){},Wy.prototype.visitAttribute=function(e,t){},Wy.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},Wy),Cy=(a(qy,my=es),qy.prototype.write=function(e,t){var i=new by,o=[];e.forEach(function(e){var t=new ls("unit",{id:e.id}),n=new ls("notes");(e.description||e.meaning)&&(e.description&&n.children.push(new hs(8),new ls("note",{category:"description"},[new cs(e.description)])),e.meaning&&n.children.push(new hs(8),new ls("note",{category:"meaning"},[new cs(e.meaning)]))),e.sources.forEach(function(e){n.children.push(new hs(8),new ls("note",{category:"location"},[new cs(e.filePath+":"+e.startLine+(e.endLine!==e.startLine?","+e.endLine:""))]))}),n.children.push(new hs(6)),t.children.push(new hs(6),n);var r=new ls("segment");r.children.push(new hs(8),new ls("source",{},i.serialize(e.nodes)),new hs(6)),t.children.push(new hs(6),r,new hs(4)),o.push(new hs(4),t)});var n=new ls("file",{original:"ng.template",id:"ngi18n"},H(o,[new hs(2)])),r=new ls("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new hs(2),n,new hs]);return ss([new us({version:"1.0",encoding:"UTF-8"}),new hs,r,new hs])},qy.prototype.load=function(e,r){var t=(new Ty).parse(e,r),n=t.locale,i=t.msgIdToHtml,o=t.errors,s={},a=new Py;if(Object.keys(i).forEach(function(e){var t=a.convert(i[e],r),n=t.i18nNodes;o.push.apply(o,H(t.errors)),s[e]=n}),o.length)throw new Error("xliff2 parse errors:\n"+o.join("\n"));return{locale:n,i18nNodesByMsgId:s}},qy.prototype.digest=function(e){return ko(e)},qy),by=(Hy.prototype.visitText=function(e,t){return[new cs(e.value)]},Hy.prototype.visitContainer=function(e,t){var n=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,H(e.visit(n)))}),r},Hy.prototype.visitIcu=function(t,e){var n=this,r=[new cs("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,H([new cs(e+" {")],t.cases[e].visit(n),[new cs("} ")]))}),r.push(new cs("}")),r},Hy.prototype.visitTagPlaceholder=function(e,t){var n=this,r=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid)return[new ls("ph",{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:r,disp:"<"+e.tag+"/>"})];var i=new ls("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:r,dispStart:"<"+e.tag+">",dispEnd:"</"+e.tag+">"}),o=[].concat.apply([],H(e.children.map(function(e){return e.visit(n)})));return o.length?o.forEach(function(e){return i.children.push(e)}):i.children.push(new cs("")),[i]},Hy.prototype.visitPlaceholder=function(e,t){var n=(this._nextPlaceholderId++).toString();return[new ls("ph",{id:n,equiv:e.name,disp:"{{"+e.value+"}}"})]},Hy.prototype.visitIcuPlaceholder=function(e,t){var n=Object.keys(e.value.cases).map(function(e){return e+" {...}"}).join(" "),r=(this._nextPlaceholderId++).toString();return[new ls("ph",{id:r,equiv:e.name,disp:"{"+e.value.expression+", "+e.value.type+", "+n+"}"})]},Hy.prototype.serialize=function(e){var t=this;return this._nextPlaceholderId=0,[].concat.apply([],H(e.map(function(e){return e.visit(t)})))},Hy),Ty=(Uy.prototype.parse=function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new _y).parse(e,t);return this._errors=n.errors,Bc(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},Uy.prototype.visitElement=function(e,t){switch(e.name){case"unit":this._unitMlString=null;var n=e.attrs.find(function(e){return"id"===e.name});if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg "+r):(Bc(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message "+r+" misses a translation"))}else this._addError(e,'<unit> misses the "id" attribute');break;case"source":break;case"target":var i=e.startSourceSpan.start.file.content.slice(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset);this._unitMlString=i;break;case"xliff":var o=e.attrs.find(function(e){return"trgLang"===e.name});o&&(this._locale=o.value);var s=e.attrs.find(function(e){return"version"===e.name});if(s){var a=s.value;"2.0"!==a?this._addError(e,"The XLIFF file version "+a+" is not compatible with XLIFF 2.0 serializer"):Bc(this,e.children,null)}break;default:Bc(this,e.children,null)}},Uy.prototype.visitAttribute=function(e,t){},Uy.prototype.visitText=function(e,t){},Uy.prototype.visitComment=function(e,t){},Uy.prototype.visitExpansion=function(e,t){},Uy.prototype.visitExpansionCase=function(e,t){},Uy.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},Uy),Py=(jy.prototype.convert=function(e,t){var n=(new _y).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:0<this._errors.length||0==n.rootNodes.length?[]:[].concat.apply([],H(Bc(this,n.rootNodes))),errors:this._errors}},jy.prototype.visitText=function(e,t){return new vo(e.value,e.sourceSpan)},jy.prototype.visitElement=function(e,t){var n=this;switch(e.name){case"ph":var r=e.attrs.find(function(e){return"equiv"===e.name});if(r)return[new _o("",r.value,e.sourceSpan)];this._addError(e,'<ph> misses the "equiv" attribute');break;case"pc":var i=e.attrs.find(function(e){return"equivStart"===e.name}),o=e.attrs.find(function(e){return"equivEnd"===e.name});if(i){if(o){var s=o.value,a=[];return a.concat.apply(a,H([new _o("",i.value,e.sourceSpan)],e.children.map(function(e){return e.visit(n,null)}),[new _o("",s,e.sourceSpan)]))}this._addError(e,'<ph> misses the "equivEnd" attribute')}else this._addError(e,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat.apply([],H(Bc(this,e.children)));default:this._addError(e,"Unexpected tag")}return null},jy.prototype.visitExpansion=function(t,e){var n={};return Bc(this,t.cases).forEach(function(e){n[e.value]=new mo(e.nodes,t.sourceSpan)}),new yo(t.switchValue,t.type,n,t.sourceSpan)},jy.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:[].concat.apply([],H(Bc(this,e.expression)))}},jy.prototype.visitComment=function(e,t){},jy.prototype.visitAttribute=function(e,t){},jy.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},jy),Ny=(a(Vy,vy=es),Vy.prototype.write=function(e,t){throw new Error("Unsupported")},Vy.prototype.load=function(e,o){var t=(new My).parse(e,o),n=t.locale,s=t.msgIdToHtml,r=t.errors,a={},u=new Ay;if(Object.keys(s).forEach(function(r){var t,n,i;t=a,n=r,i=function(){var e=u.convert(s[r],o),t=e.i18nNodes,n=e.errors;if(n.length)throw new Error("xtb parse errors:\n"+n.join("\n"));return t},Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){var e=i();return Object.defineProperty(t,n,{enumerable:!0,value:e}),e},set:function(e){throw new Error("Could not overwrite an XTB translation")}})}),r.length)throw new Error("xtb parse errors:\n"+r.join("\n"));return{locale:n,i18nNodesByMsgId:a}},Vy.prototype.digest=function(e){return bs(e)},Vy.prototype.createNameMapper=function(e){return new ts(e,Ns)},Vy),My=(By.prototype.parse=function(e,t){this._bundleDepth=0,this._msgIdToHtml={};var n=(new _y).parse(e,t);return this._errors=n.errors,Bc(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},By.prototype.visitElement=function(e,t){switch(e.name){case"translationbundle":this._bundleDepth++,1<this._bundleDepth&&this._addError(e,"<translationbundle> elements can not be nested");var n=e.attrs.find(function(e){return"lang"===e.name});n&&(this._locale=n.value),Bc(this,e.children,null),this._bundleDepth--;break;case"translation":var r=e.attrs.find(function(e){return"id"===e.name});if(r){var i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(e,"Duplicated translations for msg "+i);else{var o=e.startSourceSpan.start.file.content.slice(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset);this._msgIdToHtml[i]=o}}else this._addError(e,'<translation> misses the "id" attribute');break;default:this._addError(e,"Unexpected tag")}},By.prototype.visitAttribute=function(e,t){},By.prototype.visitText=function(e,t){},By.prototype.visitComment=function(e,t){},By.prototype.visitExpansion=function(e,t){},By.prototype.visitExpansionCase=function(e,t){},By.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},By),Ay=(Ly.prototype.convert=function(e,t){var n=(new _y).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:0<this._errors.length||0==n.rootNodes.length?[]:Bc(this,n.rootNodes),errors:this._errors}},Ly.prototype.visitText=function(e,t){return new vo(e.value,e.sourceSpan)},Ly.prototype.visitExpansion=function(t,e){var n={};return Bc(this,t.cases).forEach(function(e){n[e.value]=new mo(e.nodes,t.sourceSpan)}),new yo(t.switchValue,t.type,n,t.sourceSpan)},Ly.prototype.visitExpansionCase=function(e,t){return{value:e.value,nodes:Bc(this,e.expression)}},Ly.prototype.visitElement=function(e,t){if("ph"===e.name){var n=e.attrs.find(function(e){return"name"===e.name});if(n)return new _o("",n.value,e.sourceSpan);this._addError(e,'<ph> misses the "name" attribute')}else this._addError(e,"Unexpected tag");return null},Ly.prototype.visitComment=function(e,t){},Ly.prototype.visitAttribute=function(e,t){},Ly.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},Ly),Iy=(Fy.load=function(e,t,n,r,i){var o=n.load(e,t);return new Fy(o.i18nNodesByMsgId,o.locale,function(e){return n.digest(e)},function(e){return n.createNameMapper(e)},r,i)},Fy.prototype.get=function(e){var t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes},Fy.prototype.has=function(e){return this.digest(e)in this._i18nNodesByMsgId},Fy),ky=(Dy.prototype.convert=function(e){this._contextStack.length=0,this._errors.length=0;var t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new Sh).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:H(this._errors,r.errors)}},Dy.prototype.visitText=function(e,t){return _s(e.value)},Dy.prototype.visitContainer=function(e,t){var n=this;return e.children.map(function(e){return e.visit(n)}).join("")},Dy.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression)+", "+t.type+", "+r.join(" ")+"}"},Dy.prototype.visitPlaceholder=function(e,t){var n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,'Unknown placeholder "'+e.name+'"'),"")},Dy.prototype.visitTagPlaceholder=function(t,e){var n=this,r=""+t.tag,i=Object.keys(t.attrs).map(function(e){return e+'="'+t.attrs[e]+'"'}).join(" ");return t.isVoid?"<"+r+" "+i+"/>":"<"+r+" "+i+">"+t.children.map(function(e){return e.visit(n)}).join("")+"</"+r+">"},Dy.prototype.visitIcuPlaceholder=function(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])},Dy.prototype._convertToText=function(e){var t,n=this,r=this._digest(e),i=this._mapperFactory?this._mapperFactory(e):null;this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(r)?(t=this._i18nNodesByMsgId[r],this._mapper=function(e){return i?i.toInternalName(e):e}):(this._missingTranslationStrategy===I.Error?this._addError(e.nodes[0],'Missing translation for message "'+r+'"'+(this._locale?' for locale "'+this._locale+'"':"")):this._console&&this._missingTranslationStrategy===I.Warning&&this._console.warn('Missing translation for message "'+r+'"'+(this._locale?' for locale "'+this._locale+'"':"")),t=e.nodes,this._mapper=function(e){return e});var o=t.map(function(e){return e.visit(n)}).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,o},Dy.prototype._addError=function(e,t){this._errors.push(new oy(e.sourceSpan,t))},Dy),Ry=(Oy.prototype.parse=function(e,t,n){void 0===n&&(n={});var r,i,o,s=n.interpolationConfig||Sa,a=this._htmlParser.parse(e,t,d({interpolationConfig:s},n));return a.errors.length?new oh(a.rootNodes,a.errors):(r=a.rootNodes,i=this._translationBundle,o=s,new py([],{}).merge(r,i,o))},Oy);function Oy(e,t,n,r,i){if(void 0===r&&(r=I.Warning),this._htmlParser=e,t){var o=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new Ss;case"xtb":return new Ny;case"xliff2":case"xlf2":return new Cy;case"xliff":case"xlf":default:return new Ey}}(n);this._translationBundle=Iy.load(t,"i18n",o,r,i)}else this._translationBundle=new Iy({},null,Io,void 0,r,i)}function Dy(e,t,n,r,i,o){void 0===e&&(e={}),this._i18nNodesByMsgId=e,this._locale=t,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=o,this._contextStack=[],this._errors=[]}function Fy(e,t,n,r,i,o){void 0===e&&(e={}),void 0===i&&(i=I.Warning),this._i18nNodesByMsgId=e,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new ky(e,t,n,r,i,o)}function Ly(){}function By(){this._locale=null}function Vy(){return null!==vy&&vy.apply(this,arguments)||this}function jy(){}function Uy(){this._locale=null}function Hy(){}function qy(){return null!==my&&my.apply(this,arguments)||this}function Wy(){}function zy(){this._locale=null}function Ky(){}function Qy(){return null!==yy&&yy.apply(this,arguments)||this}function Xy(){return gy.call(this,dy)||this}function Gy(e,t,n){return void 0===n&&(n=null),wr(t,new $y(e),n)}var $y=(Yy.prototype.visitArray=function(e,t){var n=this;return dr(e.map(function(e){return wr(e,n,null)}),t)},Yy.prototype.visitStringMap=function(t,e){var n=this,r=[],i=new Set(t&&t.$quoted$);return Object.keys(t).forEach(function(e){r.push(new Dt(e,wr(t[e],n,null),i.has(e)))}),new Ft(r,e)},Yy.prototype.visitPrimitive=function(e,t){return gr(e,t)},Yy.prototype.visitOther=function(e,t){return e instanceof De?e:this.ctx.importExpr(e)},Yy);function Yy(e){this.ctx=e}function Jy(e,t){return{key:e,value:t,quoted:!1}}var Zy=(ig.prototype.depsArray=function(e,a){var u=this;return e.map(function(e){var t,n,r=e,i=0;if(Array.isArray(e))for(var o=0;o<e.length;o++){var s=e[o];s&&("Optional"===s.ngMetadataName?i|=8:"SkipSelf"===s.ngMetadataName?i|=4:"Self"===s.ngMetadataName?i|=2:r="Inject"===s.ngMetadataName?s.token:s)}return t="string"==typeof r?gr(r):r===u.tokenInjector?cr(ni.INJECTOR):a.importExpr(r),n=0!==i?[t,gr(i)]:[t],cr(ni.inject).callFn(n)})},ig.prototype.factoryFor=function(e,t){var n;if(e.useExisting)n=cr(ni.inject).callFn([t.importExpr(e.useExisting)]);else if(e.useFactory){var r=e.deps||[];if(!(0<r.length))return t.importExpr(e.useFactory);n=t.importExpr(e.useFactory).callFn(this.depsArray(r,t))}else if(e.useValue)n=Gy(t,e.useValue);else{var i=e.useClass||e.symbol,o=this.depsArray(this.reflector.parameters(i),t);n=new xt(t.importExpr(i),o)}return mr([],[new xn(n)],void 0,void 0,e.symbol.name+"_Factory")},ig.prototype.injectableDef=function(e,t){var n=Bt;void 0!==e.providedIn&&(n=null===e.providedIn?Bt:"string"==typeof e.providedIn?gr(e.providedIn):t.importExpr(e.providedIn));var r=[Jy("factory",this.factoryFor(e,t)),Jy("token",t.importExpr(e.type.reference)),Jy("providedIn",n)];return cr(ni.ɵɵdefineInjectable).callFn([vr(r)])},ig.prototype.compile=function(e,t){if(this.alwaysGenerateDef||void 0!==e.providedIn){var n=di(e.type),r=new Pn(n,null,[new Cn("ngInjectableDef",Ce,[x.StmtModifier.Static],this.injectableDef(e,t))],[],new bn(null,[],[]),[]);t.statements.push(r)}},ig),eg=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,tg=/\.ngfactory\.|\.ngsummary\./,ng=/\.ngsummary\./,rg=/NgSummary$/;function ig(e,t){this.reflector=e,this.alwaysGenerateDef=t,this.tokenInjector=e.resolveExternalReference(ni.Injector)}function og(e,t){void 0===t&&(t=!1);var n=ag(e,t);return n[0]+".ngfactory"+ug(n[1])}function sg(e){return e.replace(tg,".")}function ag(e,t){if(void 0===t&&(t=!1),e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];var n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function ug(e){return".tsx"===e?".ts":e}function pg(e){return e.replace(eg,"")+".ngsummary.json"}function lg(e,t){void 0===t&&(t=!1);var n=ag(sg(e),t);return n[0]+".ngsummary"+n[1]}function cg(e){return e+"NgSummary"}var hg,fg,dg=/\u0275\d+/;function vg(e){return dg.test(e)}(fg=hg=hg||{})[fg.OnInit=0]="OnInit",fg[fg.OnDestroy=1]="OnDestroy",fg[fg.DoCheck=2]="DoCheck",fg[fg.OnChanges=3]="OnChanges",fg[fg.AfterContentInit=4]="AfterContentInit",fg[fg.AfterContentChecked=5]="AfterContentChecked",fg[fg.AfterViewInit=6]="AfterViewInit",fg[fg.AfterViewChecked=7]="AfterViewChecked";var mg=[hg.OnInit,hg.OnDestroy,hg.DoCheck,hg.OnChanges,hg.AfterContentInit,hg.AfterContentChecked,hg.AfterViewInit,hg.AfterViewChecked],yg=(gg.prototype.getReflector=function(){return this._reflector},gg.prototype.clearCacheFor=function(e){var t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)},gg.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},gg.prototype._createProxyClass=function(e,t){function n(){if(!r)throw new Error("Illegal state: Class "+t+" for type "+Br(e)+" is not compiled yet!");return r.apply(this,arguments)}var r=null;return n.setDelegate=function(e){n.prototype=(r=e).prototype},n.overriddenName=t,n},gg.prototype.getGeneratedClass=function(e,t){return e instanceof si?this._staticSymbolCache.get(og(e.filePath),t):this._createProxyClass(e,t)},gg.prototype.getComponentViewClass=function(e){return this.getGeneratedClass(e,mi(e,0))},gg.prototype.getHostComponentViewClass=function(e){return this.getGeneratedClass(e,gi(e))},gg.prototype.getHostComponentType=function(e){var t=di({reference:e})+"_Host";return e instanceof si?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)},gg.prototype.getRendererType=function(e){return e instanceof si?this._staticSymbolCache.get(og(e.filePath),yi(e)):{}},gg.prototype.getComponentFactory=function(e,t,n,r){if(t instanceof si)return this._staticSymbolCache.get(og(t.filePath),_i(t));var i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(ni.createComponentFactory)(e,t,i,n,r,[])},gg.prototype.initComponentFactory=function(e,t){var n;e instanceof si||(n=e.ngContentSelectors).push.apply(n,H(t))},gg.prototype._loadSummary=function(e,t){var n=this._summaryCache.get(e);if(!n){var r=this._summaryResolver.resolveSummary(e);this._summaryCache.set(e,(n=r?r.type:null)||null)}return n&&n.summaryKind===t?n:null},gg.prototype.getHostComponentMetadata=function(e,t){var n=this.getHostComponentType(e.type.reference);t=t||this.getHostComponentViewClass(n);var r=V.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return Ci.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new wi({encapsulation:D.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:F.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:D.None,styles:[],data:{}},entryComponents:[],componentFactory:null})},gg.prototype.loadDirectiveMetadata=function(e,n,t){var r=this;if(this._directiveCache.has(n))return null;function i(e){var t=new Ci({isHost:!1,type:u.type,isComponent:u.isComponent,selector:u.selector,exportAs:u.exportAs,changeDetection:u.changeDetection,inputs:u.inputs,outputs:u.outputs,hostListeners:u.hostListeners,hostProperties:u.hostProperties,hostAttributes:u.hostAttributes,providers:u.providers,viewProviders:u.viewProviders,queries:u.queries,guards:u.guards,viewQueries:u.viewQueries,entryComponents:u.entryComponents,componentViewType:u.componentViewType,rendererType:u.rendererType,componentFactory:u.componentFactory,template:e});return e&&r.initComponentFactory(u.componentFactory,e.ngContentSelectors),r._directiveCache.set(n,t),r._summaryCache.set(n,t.toSummary()),null}n=Vr(n);var o,s,a=this.getNonNormalizedDirectiveMetadata(n),u=a.metadata;if(u.isComponent){var p=u.template,l=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:n,moduleUrl:this._reflector.componentModuleUrl(n,a.annotation),encapsulation:p.encapsulation,template:p.template,templateUrl:p.templateUrl,styles:p.styles,styleUrls:p.styleUrls,animations:p.animations,interpolation:p.interpolation,preserveWhitespaces:p.preserveWhitespaces});return jr(l)&&t?(this._reportError((o=n,(s=Error("Can't compile synchronously as "+Br(o)+" is still being loaded!")).ngComponentType=o,s),n),null):Pr(l,i)}return i(null),null},gg.prototype.getNonNormalizedDirectiveMetadata=function(e){var t=this;if(!(e=Vr(e)))return null;var n=this._nonNormalizedDirectiveCache.get(e);if(n)return n;var r=this._directiveResolver.resolve(e,!1);if(!r)return null;var i=void 0;if(W.isTypeOf(r)){ya("styles",(s=r).styles),ya("styleUrls",s.styleUrls),_a("interpolation",s.interpolation);var o=s.animations;i=new wi({encapsulation:br(s.encapsulation),template:br(s.template),templateUrl:br(s.templateUrl),htmlAst:null,styles:s.styles||[],styleUrls:s.styleUrls||[],animations:o||[],interpolation:br(s.interpolation),isInline:!!s.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:br(r.preserveWhitespaces)})}var s,a=null,u=[],p=[],l=r.selector;W.isTypeOf(r)?(a=(s=r).changeDetection,s.viewProviders&&(u=this._getProvidersMetadata(s.viewProviders,p,'viewProviders for "'+Cg(e)+'"',[],e)),s.entryComponents&&(p=_g(s.entryComponents).map(function(e){return t._getEntryComponentMetadata(e)}).concat(p)),l=l||this._schemaRegistry.getDefaultComponentElementName()):l||(this._reportError(kr("Directive "+Cg(e)+" has no selector, please add it!"),e),l="error");var c=[];null!=r.providers&&(c=this._getProvidersMetadata(r.providers,p,'providers for "'+Cg(e)+'"',[],e));var h=[],f=[];null!=r.queries&&(h=this._getQueriesMetadata(r.queries,!1,e),f=this._getQueriesMetadata(r.queries,!0,e));var d=Ci.create({isHost:!1,selector:l,exportAs:br(r.exportAs),isComponent:!!i,type:this._getTypeMetadata(e),template:i,changeDetection:a,inputs:r.inputs||[],outputs:r.outputs||[],host:r.host||{},providers:c||[],viewProviders:u||[],queries:h||[],guards:r.guards||{},viewQueries:f||[],entryComponents:p,componentViewType:i?this.getComponentViewClass(e):null,rendererType:i?this.getRendererType(e):null,componentFactory:null});return i&&(d.componentFactory=this.getComponentFactory(l,e,d.inputs,d.outputs)),this._nonNormalizedDirectiveCache.set(e,n={metadata:d,annotation:r}),n},gg.prototype.getDirectiveMetadata=function(e){var t=this._directiveCache.get(e);return t||this._reportError(kr("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+Cg(e)+"."),e),t},gg.prototype.getDirectiveSummary=function(e){var t=this._loadSummary(e,x.CompileSummaryKind.Directive);return t||this._reportError(kr("Illegal state: Could not load the summary for directive "+Cg(e)+"."),e),t},gg.prototype.isDirective=function(e){return!!this._loadSummary(e,x.CompileSummaryKind.Directive)||this._directiveResolver.isDirective(e)},gg.prototype.isPipe=function(e){return!!this._loadSummary(e,x.CompileSummaryKind.Pipe)||this._pipeResolver.isPipe(e)},gg.prototype.isNgModule=function(e){return!!this._loadSummary(e,x.CompileSummaryKind.NgModule)||this._ngModuleResolver.isNgModule(e)},gg.prototype.getNgModuleSummary=function(e,t){void 0===t&&(t=null);var n=this._loadSummary(e,x.CompileSummaryKind.NgModule);if(!n){var r=this.getNgModuleMetadata(e,!1,t);(n=r?r.toSummary():null)&&this._summaryCache.set(e,n)}return n},gg.prototype.loadNgModuleDirectiveAndPipeMetadata=function(n,r,e){var i=this;void 0===e&&(e=!0);var t=this.getNgModuleMetadata(n,e),o=[];return t&&(t.declaredDirectives.forEach(function(e){var t=i.loadDirectiveMetadata(n,e.reference,r);t&&o.push(t)}),t.declaredPipes.forEach(function(e){return i._loadPipeMetadata(e.reference)})),Promise.all(o)},gg.prototype.getShallowModuleMetadata=function(e){var t=this._shallowModuleCache.get(e);if(t)return t;var n=ey(this._reflector.shallowAnnotations(e),$.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t},gg.prototype.getNgModuleMetadata=function(r,e,i){var o=this;void 0===e&&(e=!0),void 0===i&&(i=null),r=Vr(r);var t=this._ngModuleCache.get(r);if(t)return t;var n=this._ngModuleResolver.resolve(r,e);if(!n)return null;var s=[],a=[],u=[],p=[],l=[],c=[],h=[],f=[],d=[];n.imports&&_g(n.imports).forEach(function(e){var t=void 0;if(Eg(e)?t=e:e&&e.ngModule&&(t=e.ngModule,e.providers&&c.push.apply(c,H(o._getProvidersMetadata(e.providers,h,"provider for the NgModule '"+Cg(t)+"'",[],e)))),t){if(!o._checkSelfImport(r,t))if((i=i||new Set).has(t))o._reportError(kr(o._getTypeDescriptor(t)+" '"+Cg(e)+"' is imported recursively by the module '"+Cg(r)+"'."),r);else{i.add(t);var n=o.getNgModuleSummary(t,i);i.delete(t),n?p.push(n):o._reportError(kr("Unexpected "+o._getTypeDescriptor(e)+" '"+Cg(e)+"' imported by the module '"+Cg(r)+"'. Please add a @NgModule annotation."),r)}}else o._reportError(kr("Unexpected value '"+Cg(e)+"' imported by the module '"+Cg(r)+"'"),r)}),n.exports&&_g(n.exports).forEach(function(e){if(Eg(e))if((i=i||new Set).has(e))o._reportError(kr(o._getTypeDescriptor(e)+" '"+Br(e)+"' is exported recursively by the module '"+Cg(r)+"'"),r);else{i.add(e);var t=o.getNgModuleSummary(e,i);i.delete(e),t?l.push(t):a.push(o._getIdentifierMetadata(e))}else o._reportError(kr("Unexpected value '"+Cg(e)+"' exported by the module '"+Cg(r)+"'"),r)});var v=this._getTransitiveNgModuleMetadata(p,l);n.declarations&&_g(n.declarations).forEach(function(e){if(Eg(e)){var t=o._getIdentifierMetadata(e);if(o.isDirective(e))v.addDirective(t),s.push(t),o._addTypeToModule(e,r);else{if(!o.isPipe(e))return void o._reportError(kr("Unexpected "+o._getTypeDescriptor(e)+" '"+Cg(e)+"' declared by the module '"+Cg(r)+"'. Please add a @Pipe/@Directive/@Component annotation."),r);v.addPipe(t),v.pipes.push(t),u.push(t),o._addTypeToModule(e,r)}}else o._reportError(kr("Unexpected value '"+Cg(e)+"' declared by the module '"+Cg(r)+"'"),r)});var m=[],y=[];return a.forEach(function(e){if(v.directivesSet.has(e.reference))m.push(e),v.addExportedDirective(e);else{if(!v.pipesSet.has(e.reference))return void o._reportError(kr("Can't export "+o._getTypeDescriptor(e.reference)+" "+Cg(e.reference)+" from "+Cg(r)+" as it was neither declared nor imported!"),r);y.push(e),v.addExportedPipe(e)}}),n.providers&&c.push.apply(c,H(this._getProvidersMetadata(n.providers,h,"provider for the NgModule '"+Cg(r)+"'",[],r))),n.entryComponents&&h.push.apply(h,H(_g(n.entryComponents).map(function(e){return o._getEntryComponentMetadata(e)}))),n.bootstrap&&_g(n.bootstrap).forEach(function(e){Eg(e)?f.push(o._getIdentifierMetadata(e)):o._reportError(kr("Unexpected value '"+Cg(e)+"' used in the bootstrap property of module '"+Cg(r)+"'"),r)}),h.push.apply(h,H(f.map(function(e){return o._getEntryComponentMetadata(e.reference)}))),n.schemas&&d.push.apply(d,H(_g(n.schemas))),t=new Ti({type:this._getTypeMetadata(r),providers:c,entryComponents:h,bootstrapComponents:f,schemas:d,declaredDirectives:s,exportedDirectives:m,declaredPipes:u,exportedPipes:y,importedModules:p,exportedModules:l,transitiveModule:v,id:n.id||null}),h.forEach(function(e){return v.addEntryComponent(e)}),c.forEach(function(e){return v.addProvider(e,t.type)}),v.addModule(t.type),this._ngModuleCache.set(r,t),t},gg.prototype._checkSelfImport=function(e,t){return e===t&&(this._reportError(kr("'"+Cg(e)+"' module can't import itself"),e),!0)},gg.prototype._getTypeDescriptor=function(e){if(Eg(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"},gg.prototype._addTypeToModule=function(e,t){var n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(kr("Type "+Cg(e)+" is part of the declarations of 2 modules: "+Cg(n)+" and "+Cg(t)+"! Please consider moving "+Cg(e)+" to a higher module that imports "+Cg(n)+" and "+Cg(t)+". You can also create a new NgModule that exports and includes "+Cg(e)+" then import that NgModule in "+Cg(n)+" and "+Cg(t)+"."),t):this._ngModuleOfTypes.set(e,t)},gg.prototype._getTransitiveNgModuleMetadata=function(e,t){var o=new Pi,s=new Map;return e.concat(t).forEach(function(e){e.modules.forEach(function(e){return o.addModule(e)}),e.entryComponents.forEach(function(e){return o.addEntryComponent(e)});var i=new Set;e.providers.forEach(function(e){var t=Si(e.provider.token),n=s.get(t);n||(n=new Set,s.set(t,n));var r=e.module.reference;!i.has(t)&&n.has(r)||(n.add(r),i.add(t),o.addProvider(e.provider,e.module))})}),t.forEach(function(e){e.exportedDirectives.forEach(function(e){return o.addExportedDirective(e)}),e.exportedPipes.forEach(function(e){return o.addExportedPipe(e)})}),e.forEach(function(e){e.exportedDirectives.forEach(function(e){return o.addDirective(e)}),e.exportedPipes.forEach(function(e){return o.addPipe(e)})}),o},gg.prototype._getIdentifierMetadata=function(e){return{reference:e=Vr(e)}},gg.prototype.isInjectable=function(e){return this._reflector.tryAnnotations(e).some(function(e){return Y.isTypeOf(e)})},gg.prototype.getInjectableSummary=function(e){return{summaryKind:x.CompileSummaryKind.Injectable,type:this._getTypeMetadata(e,null,!1)}},gg.prototype.getInjectableMetadata=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!0);var r=this._loadSummary(e,x.CompileSummaryKind.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),o=this._reflector.annotations(e).filter(function(e){return Y.isTypeOf(e)});if(0===o.length)return null;var s=o[o.length-1];return{symbol:e,type:i,providedIn:s.providedIn,useValue:s.useValue,useClass:s.useClass,useExisting:s.useExisting,useFactory:s.useFactory,deps:s.deps}},gg.prototype._getTypeMetadata=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!0);var r,i,o=this._getIdentifierMetadata(e);return{reference:o.reference,diDeps:this._getDependenciesMetadata(o.reference,t,n),lifecycleHooks:(r=this._reflector,i=o.reference,mg.filter(function(e){return t=e,n=i,r.hasLifecycleHook(n,function(e){switch(e){case hg.OnInit:return"ngOnInit";case hg.OnDestroy:return"ngOnDestroy";case hg.DoCheck:return"ngDoCheck";case hg.OnChanges:return"ngOnChanges";case hg.AfterContentInit:return"ngAfterContentInit";case hg.AfterContentChecked:return"ngAfterContentChecked";case hg.AfterViewInit:return"ngAfterViewInit";case hg.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error("unexpected "+e)}}(t));var t,n}))}},gg.prototype._getFactoryMetadata=function(e,t){return void 0===t&&(t=null),{reference:e=Vr(e),diDeps:this._getDependenciesMetadata(e,t)}},gg.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);return t||this._reportError(kr("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+Cg(e)+"."),e),t||null},gg.prototype.getPipeSummary=function(e){var t=this._loadSummary(e,x.CompileSummaryKind.Pipe);return t||this._reportError(kr("Illegal state: Could not load the summary for pipe "+Cg(e)+"."),e),t},gg.prototype.getOrLoadPipeMetadata=function(e){var t=this._pipeCache.get(e);return t=t||this._loadPipeMetadata(e)},gg.prototype._loadPipeMetadata=function(e){e=Vr(e);var t=this._pipeResolver.resolve(e),n=new bi({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n},gg.prototype._getDependenciesMetadata=function(e,t,n){var a=this;void 0===n&&(n=!0);var u=!1,r=(t||this._reflector.parameters(e)||[]).map(function(e){var t=!1,n=!1,r=!1,i=!1,o=!1,s=null;return Array.isArray(e)?e.forEach(function(e){re.isTypeOf(e)?n=!0:te.isTypeOf(e)?r=!0:ne.isTypeOf(e)?i=!0:ee.isTypeOf(e)?o=!0:E.isTypeOf(e)?(t=!0,s=e.attributeName):g.isTypeOf(e)?s=e.token:_.isTypeOf(e)||e instanceof si?s=e:Eg(e)&&null==s&&(s=e)}):s=e,null==s?(u=!0,{}):{isAttribute:t,isHost:n,isSelf:r,isSkipSelf:i,isOptional:o,token:a._getTokenMetadata(s)}});if(u){var i=r.map(function(e){return e.token?Cg(e.token):"?"}).join(", "),o="Can't resolve all parameters for "+Cg(e)+": ("+i+").";n||this._config.strictInjectionParameters?this._reportError(kr(o),e):this._console.warn("Warning: "+o+" This will become an error in Angular v6.x")}return r},gg.prototype._getTokenMetadata=function(e){return"string"==typeof(e=Vr(e))?{value:e}:{identifier:{reference:e}}},gg.prototype._getProvidersMetadata=function(i,o,s,a,u){var p=this;return void 0===a&&(a=[]),i.forEach(function(e,r){if(Array.isArray(e))p._getProvidersMetadata(e,o,s,a);else{var t=void 0;if((e=Vr(e))&&"object"==typeof e&&e.hasOwnProperty("provide"))p._validateProvider(e),t=new Oi(e.provide,e);else{if(!Eg(e)){if(void 0===e)return void p._reportError(kr("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));var n=i.reduce(function(e,t,n){return n<r?e.push(""+Cg(t)):n==r?e.push("?"+Cg(t)+"?"):n==r+1&&e.push("..."),e},[]).join(", ");return void p._reportError(kr("Invalid "+(s||"provider")+" - only instances of Provider and Type are allowed, got: ["+n+"]"),u)}t=new Oi(e,{useClass:e})}t.token===p._reflector.resolveExternalReference(ni.ANALYZE_FOR_ENTRY_COMPONENTS)?o.push.apply(o,H(p._getEntryComponentsFromProvider(t,u))):a.push(p.getProviderMetadata(t))}}),a},gg.prototype._validateProvider=function(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(kr("Invalid provider for "+Cg(e.provide)+". useClass cannot be "+e.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},gg.prototype._getEntryComponentsFromProvider=function(e,t){var n,r,i=this,o=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(kr("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(n=e.useValue,r=s,wr(n,new xg,r),s.forEach(function(e){var t=i._getEntryComponentMetadata(e.reference,!1);t&&o.push(t)}),o):(this._reportError(kr("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[])},gg.prototype._getEntryComponentMetadata=function(e,t){void 0===t&&(t=!0);var n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};var r=this._loadSummary(e,x.CompileSummaryKind.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw kr(e.name+" cannot be used as an entry component.");return null},gg.prototype._getInjectableTypeMetadata=function(e,t){void 0===t&&(t=null);var n=this._loadSummary(e,x.CompileSummaryKind.Injectable);return n?n.type:this._getTypeMetadata(e,t)},gg.prototype.getProviderMetadata=function(e){var t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(t=(r=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}},gg.prototype._getQueriesMetadata=function(n,r,i){var o=this,s=[];return Object.keys(n).forEach(function(e){var t=n[e];t.isViewQuery===r&&s.push(o._getQueryMetadata(t,e,i))}),s},gg.prototype._queryVarBindings=function(e){return e.split(/\s*,\s*/)},gg.prototype._getQueryMetadata=function(e,t,n){var r=this;return{selectors:"string"==typeof e.selector?this._queryVarBindings(e.selector).map(function(e){return r._getTokenMetadata(e)}):e.selector?[this._getTokenMetadata(e.selector)]:(this._reportError(kr("Can't construct a query for the property \""+t+'" of "'+Cg(n)+"\" since the query selector wasn't defined."),n),[]),first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}},gg.prototype._reportError=function(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)},gg);function gg(e,t,n,r,i,o,s,a,u,p,l,c){this._config=e,this._htmlParser=t,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=o,this._schemaRegistry=s,this._directiveNormalizer=a,this._console=u,this._staticSymbolCache=p,this._reflector=l,this._errorCollector=c,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}function _g(e){return(t=function e(t,n){if(void 0===n&&(n=[]),t)for(var r=0;r<t.length;r++){var i=Vr(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(t)):[];var t}function Eg(e){return e instanceof si||e instanceof ie}var Sg,xg=(a(wg,Sg=Mr),wg.prototype.visitOther=function(e,t){t.push({reference:e})},wg);function wg(){return null!==Sg&&Sg.apply(this,arguments)||this}function Cg(e){return e instanceof si?e.name+" in "+e.filePath:Br(e)}function bg(e,t){var n=0;t.eager||(n|=4096),t.providerType===x.ProviderAstType.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(function(e){e!==hg.OnDestroy&&t.providerType!==x.ProviderAstType.Directive&&t.providerType!==x.ProviderAstType.Component||(n|=Mg(e))});var i,r,o,s,a,u,p=t.multiProvider?(i=e,r=n,o=t.providers,s=[],a=[],u=o.map(function(e,t){var n;if(e.useClass){var r=l(t,e.deps||e.useClass.diDeps);n=i.importExpr(e.useClass.reference).instantiate(r)}else n=e.useFactory?(r=l(t,e.deps||e.useFactory.diDeps),i.importExpr(e.useFactory.reference).callFn(r)):e.useExisting?(r=l(t,[{token:e.useExisting}]))[0]:Gy(i,e.useValue);return n}),{providerExpr:mr(a,[new xn(dr(u))],Ce),flags:1024|r,depsExpr:dr(s)}):Tg(e,n,t.providerType,t.providers[0]);function l(r,e){return e.map(function(e,t){var n="p"+r+"_"+t;return a.push(new Mt(n,we)),s.push(Ng(i,e)),lr(n)})}return{providerExpr:p.providerExpr,flags:p.flags,depsExpr:p.depsExpr,tokenExpr:Pg(e,t.token)}}function Tg(t,e,n,r){var i,o;return o=n===x.ProviderAstType.Directive||n===x.ProviderAstType.Component?(i=t.importExpr(r.useClass.reference),e|=16384,r.deps||r.useClass.diDeps):r.useClass?(i=t.importExpr(r.useClass.reference),e|=512,r.deps||r.useClass.diDeps):r.useFactory?(i=t.importExpr(r.useFactory.reference),e|=1024,r.deps||r.useFactory.diDeps):r.useExisting?(i=Bt,e|=2048,[{token:r.useExisting}]):(i=Gy(t,r.useValue),e|=256,[]),{providerExpr:i,flags:e,depsExpr:dr(o.map(function(e){return Ng(t,e)}))}}function Pg(e,t){return t.identifier?e.importExpr(t.identifier.reference):gr(t.value)}function Ng(e,t){var n=t.isValue?Gy(e,t.value):Pg(e,t.token),r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:dr([gr(r),n])}function Mg(e){var t=0;switch(e){case hg.AfterContentChecked:t=2097152;break;case hg.AfterContentInit:t=1048576;break;case hg.AfterViewChecked:t=8388608;break;case hg.AfterViewInit:t=4194304;break;case hg.DoCheck:t=262144;break;case hg.OnChanges:t=524288;break;case hg.OnDestroy:t=131072;break;case hg.OnInit:t=65536}return t}function Ag(e,t,n,r){var i=r.map(function(e){return t.importExpr(e.componentFactory)}),o=oi(e,ni.ComponentFactoryResolver),s={diDeps:[{isValue:!0,value:dr(i)},{token:o,isSkipSelf:!0,isOptional:!0},{token:oi(e,ni.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(ni.CodegenComponentFactoryResolver)},a=Tg(t,n,x.ProviderAstType.PrivateService,{token:o,multi:!1,useClass:s});return{providerExpr:a.providerExpr,flags:a.flags,depsExpr:a.depsExpr,tokenExpr:Pg(t,o)}}function Ig(e){this.ngModuleFactoryVar=e}var kg=lr("_l"),Rg=(Fg.prototype.compile=function(t,e,n){var r=Iu("NgModule",e.type),i=e.transitiveModule.entryComponents,o=e.bootstrapComponents,s=new bf(this.reflector,e,n,r),a=[Ag(this.reflector,t,0,i)].concat(s.parse().map(function(e){return bg(t,e)})).map(function(e){var t=e.providerExpr,n=e.depsExpr,r=e.flags,i=e.tokenExpr;return cr(ni.moduleProviderDef).callFn([gr(r),i,t,n])}),u=cr(ni.moduleDef).callFn([dr(a)]),p=mr([new Mt(kg.name)],[new xn(u)],Ce),l=di(e.type)+"NgFactory";if(this._createNgModuleFactory(t,e.type.reference,cr(ni.createModuleFactory).callFn([t.importExpr(e.type.reference),dr(o.map(function(e){return t.importExpr(e.reference)})),p])),e.id){var c="string"==typeof e.id?gr(e.id):t.importExpr(e.id),h=cr(ni.RegisterModuleFactoryFn).callFn([c,lr(l)]).toStmt();t.statements.push(h)}return new Ig(l)},Fg.prototype.createStub=function(e,t){this._createNgModuleFactory(e,t,Bt)},Fg.prototype._createNgModuleFactory=function(e,t,n){var r=lr(di({reference:t})+"NgFactory").set(n).toDeclStmt(hr(ni.NgModuleFactory,[fr(e.importExpr(t))],[ue.Const]),[x.StmtModifier.Final,x.StmtModifier.Exported]);e.statements.push(r)},Fg),Og=(Dg.prototype.isNgModule=function(e){return this._reflector.annotations(e).some($.isTypeOf)},Dg.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=ey(this._reflector.annotations(e),$.isTypeOf);if(n)return n;if(t)throw new Error("No NgModule metadata found for '"+Br(e)+"'.");return null},Dg);function Dg(e){this._reflector=e}function Fg(e){this.reflector=e}function Lg(e){var t=new Ug,n=Ra.createRoot();return(Array.isArray(e)?e:[e]).forEach(function(e){if(e instanceof gn)e.visitStatement(t,n);else if(e instanceof De)e.visitExpression(t,n);else{if(!(e instanceof he))throw new Error("Don't know how to print debug info for "+e);e.visitType(t,n)}}),n.toSource()}function Bg(e,t){this.viewClassVar=e,this.rendererTypeVar=t}var Vg,jg=(a_.prototype.emitStatementsAndContext=function(e,t,n,r,i,o){void 0===n&&(n=""),void 0===r&&(r=!0);var s=new Ug(i,o),a=Ra.createRoot();s.visitAllStatements(t,a);var u=n?n.split("\n"):[];s.reexports.forEach(function(e,t){var n=e.map(function(e){return e.name+" as "+e.as}).join(",");u.push("export {"+n+"} from '"+t+"';")}),s.importsWithPrefixes.forEach(function(e,t){u.push("import * as "+e+" from '"+t+"';")});var p=r?a.toSourceMapGenerator(e,u.length).toJsComment():"",l=H(u,[a.toSource(),p]);return p&&l.push(""),a.setPreambleLineCount(u.length),{sourceText:l.join("\n"),context:a}},a_.prototype.emitStatements=function(e,t,n){return void 0===n&&(n=""),this.emitStatementsAndContext(e,t,n).sourceText},a_),Ug=(a(s_,Vg=Oa),s_.prototype.visitType=function(e,t,n){void 0===n&&(n="any"),e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)},s_.prototype.visitLiteralExpr=function(e,t){var n=e.value;return null==n&&e.type!=Ce?(t.print(e,"("+n+" as any)"),null):Vg.prototype.visitLiteralExpr.call(this,e,t)},s_.prototype.visitLiteralArrayExpr=function(e,t){0===e.entries.length&&t.print(e,"(");var n=Vg.prototype.visitLiteralArrayExpr.call(this,e,t);return 0===e.entries.length&&t.print(e," as any[])"),n},s_.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},s_.prototype.visitAssertNotNullExpr=function(e,t){var n=Vg.prototype.visitAssertNotNullExpr.call(this,e,t);return t.print(e,"!"),n},s_.prototype.visitDeclareVarStmt=function(e,t){if(e.hasModifier(x.StmtModifier.Exported)&&e.value instanceof Ct&&!e.type){var n=e.value.value,r=n.name,i=n.moduleName;if(i){var o=this.reexports.get(i);return o||this.reexports.set(i,o=[]),o.push({name:r,as:e.name}),null}}return e.hasModifier(x.StmtModifier.Exported)&&t.print(e,"export "),e.hasModifier(x.StmtModifier.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e," "+e.name),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null},s_.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")},s_.prototype.visitCastExpr=function(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null},s_.prototype.visitInstantiateExpr=function(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null},s_.prototype.visitDeclareClassStmt=function(e,t){var n=this;return t.pushClass(e),e.hasModifier(x.StmtModifier.Exported)&&t.print(e,"export "),t.print(e,"class "+e.name),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(function(e){return n._visitClassField(e,t)}),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return n._visitClassGetter(e,t)}),e.methods.forEach(function(e){return n._visitClassMethod(e,t)}),t.decIndent(),t.println(e,"}"),t.popClass(),null},s_.prototype._visitClassField=function(e,t){e.hasModifier(x.StmtModifier.Private)&&t.print(null,"/*private*/ "),e.hasModifier(x.StmtModifier.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")},s_.prototype._visitClassGetter=function(e,t){e.hasModifier(x.StmtModifier.Private)&&t.print(null,"private "),t.print(null,"get "+e.name+"()"),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")},s_.prototype._visitClassConstructor=function(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")},s_.prototype._visitClassMethod=function(e,t){e.hasModifier(x.StmtModifier.Private)&&t.print(null,"private "),t.print(null,e.name+"("),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")},s_.prototype.visitFunctionExpr=function(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null},s_.prototype.visitDeclareFunctionStmt=function(e,t){return e.hasModifier(x.StmtModifier.Exported)&&t.print(e,"export "),t.print(e,"function "+e.name+"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null},s_.prototype.visitTryCatchStmt=function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch ("+Ia.name+") {"),t.incIndent();var n=[ka.set(Ia.prop("stack",null)).toDeclStmt(null,[x.StmtModifier.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null},s_.prototype.visitBuiltinType=function(e,t){var n;switch(e.name){case x.BuiltinTypeName.Bool:n="boolean";break;case x.BuiltinTypeName.Dynamic:n="any";break;case x.BuiltinTypeName.Function:n="Function";break;case x.BuiltinTypeName.Number:case x.BuiltinTypeName.Int:n="number";break;case x.BuiltinTypeName.String:n="string";break;case x.BuiltinTypeName.None:n="never";break;default:throw new Error("Unsupported builtin type "+e.name)}return t.print(null,n),null},s_.prototype.visitExpressionType=function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(function(e){return n.visitType(e,t)},e.typeParams,t,","),t.print(null,">")),null},s_.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null},s_.prototype.visitMapType=function(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null},s_.prototype.getBuiltinMethodName=function(e){var t;switch(e){case x.BuiltinMethod.ConcatArray:t="concat";break;case x.BuiltinMethod.SubscribeObservable:t="subscribe";break;case x.BuiltinMethod.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t},s_.prototype._visitParams=function(e,t){var n=this;this.visitAllObjects(function(e){t.print(null,e.name),n._printColonType(e.type,t)},e,t,",")},s_.prototype._visitIdentifier=function(e,t,n){var r=this,i=e.name,o=e.moduleName;if(this.referenceFilter&&this.referenceFilter(e))n.print(null,"(null as any)");else{if(o&&(!this.importFilter||!this.importFilter(e))){var s=this.importsWithPrefixes.get(o);null==s&&this.importsWithPrefixes.set(o,s="i"+this.importsWithPrefixes.size),n.print(null,s+".")}n.print(null,i),0<this.typeExpression&&0<(t||[]).length&&(n.print(null,"<"),this.visitAllObjects(function(e){return e.visitType(r,n)},t,n,","),n.print(null,">"))}},s_.prototype._printColonType=function(e,t,n){e!==Ce&&(t.print(null,":"),this.visitType(e,t,n))},s_),Hg=(o_.prototype.isPipe=function(e){var t=this._reflector.annotations(Vr(e));return t&&t.some(z.isTypeOf)},o_.prototype.resolve=function(e,t){void 0===t&&(t=!0);var n=this._reflector.annotations(Vr(e));if(n){var r=ey(n,z.isTypeOf);if(r)return r}if(t)throw new Error("No Pipe decorator found on "+Br(e));return null},o_),qg=(i_.prototype.compileComponent=function(e,r,t,n,i,o){var s=this,a=new Map;n.forEach(function(e){return a.set(e.name,e.type.reference)});var u=0,p=function(e,t){var n=u++;return new zg(s.options,s.reflector,i,e,r.type.reference,r.isHost,n,a,t,o,p)},l=p(null,[]);return l.visitAll([],t),l.build(e)},i_),Wg=(r_.prototype.notifyImplicitReceiverUse=function(){},r_.prototype.getLocal=function(e){return e===ml.event.name?lr("_any"):null},new r_),zg=(n_.prototype.getOutputVar=function(e){var t;if(!(t=e===this.component&&this.isHostComponent?"_any":e instanceof si?this.externalReferenceVars.get(e):"_any"))throw new Error("Illegal State: referring to a type without a variable "+JSON.stringify(e));return t},n_.prototype.getTypeGuardExpressions=function(e){var t,n,r,i,o=H(this.guards);try{for(var s=U(e.directives),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var p=U(u.inputs),l=p.next();!l.done;l=p.next()){var c=l.value,h=u.directive.guards[c.directiveName];h&&o.push({guard:h,useIf:"UseIf"===h,expression:{context:this.component,value:c.value}})}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},n_.prototype.visitAll=function(e,t){this.variables=e,Ef(this,t)},n_.prototype.build=function(t,n){var e,r,u=this;void 0===n&&(n=[]),this.children.forEach(function(e){return e.build(t,n)});var p=[lr("_any").set(Bt).toDeclStmt(we)],l=0;if(this.updates.forEach(function(e){var t=u.preprocessUpdateExpression(e),n=t.sourceSpan,r=t.context,i=t.value,o=""+l++,s=Tl(r===u.component?u:Wg,lr(u.getOutputVar(r)),i,o,Sl.General),a=s.stmts;a.push(new Sn(s.currValExpr)),p.push.apply(p,H(a.map(function(e){return or(e,n)})))}),this.actions.forEach(function(e){var t=e.sourceSpan,n=e.context,r=e.value,i=""+l++,o=_l(n===u.component?u:Wg,lr(u.getOutputVar(n)),r,i).stmts;p.push.apply(p,H(o.map(function(e){return or(e,t)})))}),this.guards.length){var i=void 0;try{for(var o=U(this.guards),s=o.next();!s.done;s=o.next()){var a=s.value,c=this.preprocessUpdateExpression(a.expression),h=c.context,f=c.value,d=""+l++,v=Tl(h===this.component?this:Wg,lr(this.getOutputVar(h)),f,d,Sl.TrySimple),m=v.currValExpr;if(0==v.stmts.length){var y=a.useIf?m:this.ctx.importExpr(a.guard).callFn([m]);i=i?i.and(y):y}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}i&&(p=[new Nn(i,p)])}var g=new En("_View_"+t+"_"+this.embeddedViewIndex,[],p);return n.push(g),n},n_.prototype.visitBoundText=function(t,e){var n=this;t.value.ast.expressions.forEach(function(e){return n.updates.push({context:n.component,value:e,sourceSpan:t.sourceSpan})})},n_.prototype.visitEmbeddedTemplate=function(e,t){if(this.visitElementOrTemplate(e),this.options.fullTemplateTypeCheck){var n=this.getTypeGuardExpressions(e),r=this.viewBuilderFactory(this,n);this.children.push(r),r.visitAll(e.variables,e.children)}},n_.prototype.visitElement=function(e,t){var n=this;this.visitElementOrTemplate(e),e.inputs.forEach(function(e){n.updates.push({context:n.component,value:e.value,sourceSpan:e.sourceSpan})}),Ef(this,e.children)},n_.prototype.visitElementOrTemplate=function(e){var t=this;e.directives.forEach(function(e){t.visitDirective(e)}),e.references.forEach(function(e){t.refOutputVars.set(e.name,e.value&&e.value.identifier&&t.options.fullTemplateTypeCheck?e.value.identifier.reference:x.BuiltinTypeName.Dynamic)}),e.outputs.forEach(function(e){t.actions.push({context:t.component,value:e.handler,sourceSpan:e.sourceSpan})})},n_.prototype.visitDirective=function(e){var t=this,n=e.directive.type.reference;e.inputs.forEach(function(e){return t.updates.push({context:t.component,value:e.value,sourceSpan:e.sourceSpan})}),this.options.fullTemplateTypeCheck&&(e.hostProperties.forEach(function(e){return t.updates.push({context:n,value:e.value,sourceSpan:e.sourceSpan})}),e.hostEvents.forEach(function(e){return t.actions.push({context:n,value:e.handler,sourceSpan:e.sourceSpan})}))},n_.prototype.notifyImplicitReceiverUse=function(){},n_.prototype.getLocal=function(t){if(t==ml.event.name)return lr(this.getOutputVar(x.BuiltinTypeName.Dynamic));for(var e=this;e;e=e.parent){var n=void 0;if(null==(n=e.refOutputVars.get(t))&&e.variables.find(function(e){return e.name===t})&&(n=x.BuiltinTypeName.Dynamic),null!=n)return lr(this.getOutputVar(n))}return null},n_.prototype.pipeOutputVar=function(e){var t=this.pipes.get(e);if(!t)throw new Error("Illegal State: Could not find pipe "+e+" in template of "+this.component);return this.getOutputVar(t)},n_.prototype.preprocessUpdateExpression=function(e){var r=this;return{sourceSpan:e.sourceSpan,context:e.context,value:El({createLiteralArrayConverter:function(e){return function(e){var t=dr(e);return r.options.fullTemplateTypeCheck?t:t.cast(we)}},createLiteralMapConverter:function(t){return function(n){var e=vr(t.map(function(e,t){return{key:e.key,value:n[t],quoted:e.quoted}}));return r.options.fullTemplateTypeCheck?e:e.cast(we)}},createPipeConverter:function(t,e){return function(e){return lr(r.options.fullTemplateTypeCheck?r.pipeOutputVar(t):r.getOutputVar(x.BuiltinTypeName.Dynamic)).callMethod("transform",e)}}},e.value)}},n_.prototype.visitNgContent=function(e,t){},n_.prototype.visitText=function(e,t){},n_.prototype.visitDirectiveProperty=function(e,t){},n_.prototype.visitReference=function(e,t){},n_.prototype.visitVariable=function(e,t){},n_.prototype.visitEvent=function(e,t){},n_.prototype.visitElementProperty=function(e,t){},n_.prototype.visitAttr=function(e,t){},n_),Kg=(t_.prototype.compileComponent=function(n,r,e,t,i){var o,s=this,a=0,u=l_(e),p=void 0;if(!r.isHost){var l=r.template,c=[];l.animations&&l.animations.length&&c.push(new Dt("animation",Gy(n,l.animations),!0));var h=lr(yi(r.type.reference));p=h.name,n.statements.push(h.set(cr(ni.createRendererType2).callFn([new Ft([new Dt("encapsulation",gr(l.encapsulation),!1),new Dt("styles",t,!1),new Dt("data",new Ft(c),!1)])])).toDeclStmt(hr(ni.RendererType2),[x.StmtModifier.Final,x.StmtModifier.Exported]))}var f=function(e){var t=a++;return new Zg(s._reflector,n,e,r,t,i,u,f)},d=f(null);return d.visitAll([],e),(o=n.statements).push.apply(o,H(d.build())),new Bg(d.viewName,p)},t_),Qg=lr("_l"),Xg=lr("_v"),Gg=lr("_ck"),$g=lr("_co"),Yg=lr("en"),Jg=lr("ad"),Zg=(e_.prototype.visitAll=function(e,t){var o=this;if(this.variables=e,this.parent||this.usedPipes.forEach(function(e){e.pure&&(o.purePipeNodeIndices[e.name]=o._createPipe(null,e))}),!this.parent){var s=c_(this.staticQueryIds);this.component.viewQueries.forEach(function(e,t){var n=t+1,r=e.first?0:1,i=134217728|f_(s,n,e);o.nodes.push(function(){return{sourceSpan:null,nodeFlags:i,nodeDef:cr(ni.queryDef).callFn([gr(i),gr(n),new Ft([new Dt(e.propertyName,gr(r),!1)])])}})})}Ef(this,t),this.parent&&(0===t.length||function e(t){var n=t[t.length-1];return n instanceof Xh?n.hasViewContainer:n instanceof Qh?O(n.name)&&n.children.length?e(n.children):n.hasViewContainer:n instanceof df}(t))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:cr(ni.anchorDef).callFn([gr(0),Bt,Bt,gr(0)])}})},e_.prototype.build=function(t){void 0===t&&(t=[]),this.children.forEach(function(e){return e.build(t)});var e=this._createNodeExpressions(),n=e.updateDirectivesStmts,r=e.nodeDefExprs,i=this._createUpdateFn(e.updateRendererStmts),o=this._createUpdateFn(n),s=0;this.parent||this.component.changeDetection!==F.OnPush||(s|=2);var a=new En(this.viewName,[new Mt(Qg.name)],[new xn(cr(ni.viewDef).callFn([gr(s),dr(r),o,i]))],hr(ni.ViewDefinition),0===this.embeddedViewIndex?[x.StmtModifier.Exported]:[]);return t.push(a),t},e_.prototype._createUpdateFn=function(e){var t;if(0<e.length){var n=[];!this.component.isHost&&Jn(e).has($g.name)&&n.push($g.set(Xg.prop("component")).toDeclStmt(this.compType)),t=mr([new Mt(Gg.name,Ce),new Mt(Xg.name,Ce)],H(n,e),Ce)}else t=Bt;return t},e_.prototype.visitNgContent=function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:cr(ni.ngContentDef).callFn([gr(e.ngContentIndex),gr(e.index)])}})},e_.prototype.visitText=function(e,t){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:cr(ni.textDef).callFn([gr(-1),gr(e.ngContentIndex),dr([gr(e.value)])])}})},e_.prototype.visitBoundText=function(n,e){var r=this,i=this.nodes.length;this.nodes.push(null);var t=n.value.ast,o=t.expressions.map(function(e,t){return r._preprocessUpdateExpression({nodeIndex:i,bindingIndex:t,sourceSpan:n.sourceSpan,context:$g,value:e})}),s=i;this.nodes[i]=function(){return{sourceSpan:n.sourceSpan,nodeFlags:2,nodeDef:cr(ni.textDef).callFn([gr(s),gr(n.ngContentIndex),dr(t.strings.map(function(e){return gr(e)}))]),updateRenderer:o}}},e_.prototype.visitEmbeddedTemplate=function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,e),o=i.flags,s=i.queryMatchesExpr,a=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(e.variables,e.children);var p=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|o,nodeDef:cr(ni.anchorDef).callFn([gr(o),s,gr(e.ngContentIndex),gr(p),n._createElementHandleEventFn(r,a),lr(u.viewName)])}}},e_.prototype.visitElement=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var i=O(t.name)?null:t.name,o=this._visitElementOrTemplate(r,t),s=o.flags,a=o.usedEvents,u=o.queryMatchesExpr,p=o.hostBindings,l=o.hostEvents,c=[],h=[],f=[];if(i){var d=t.inputs.map(function(e){return{context:$g,inputAst:e,dirAst:null}}).concat(p);d.length&&(h=d.map(function(e,t){return n._preprocessUpdateExpression({context:e.context,nodeIndex:r,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})}),c=d.map(function(e){return function(e,t){var n=e.type;switch(n){case 1:return dr([gr(1),gr(e.name),gr(e.securityContext)]);case 0:return dr([gr(8),gr(e.name),gr(e.securityContext)]);case 4:return dr([gr(8|(t&&t.directive.isComponent?32:16)),gr("@"+e.name),gr(e.securityContext)]);case 2:return dr([gr(2),gr(e.name),Bt]);case 3:return dr([gr(4),gr(e.name),gr(e.unit)]);default:throw new Error("unexpected "+n)}}(e.inputAst,e.dirAst)})),f=a.map(function(e){var t=k(e,2),n=t[1];return dr([gr(t[0]),gr(n)])})}Ef(this,t.children);var v=this.nodes.length-r-1,m=t.directives.find(function(e){return e.directive.isComponent}),y=Bt,g=Bt;m&&(g=this.outputCtx.importExpr(m.directive.componentViewType),y=this.outputCtx.importExpr(m.directive.rendererType));var _=r;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|s,nodeDef:cr(ni.elementDef).callFn([gr(_),gr(s),u,gr(t.ngContentIndex),gr(v),gr(i),i?(e=t,a=Object.create(null),e.attrs.forEach(function(e){a[e.name]=e.value}),e.directives.forEach(function(s){Object.keys(s.directive.hostAttributes).forEach(function(e){var t,n,r,i=s.directive.hostAttributes[e],o=a[e];a[e]=null!=o?(n=o,r=i,"class"==(t=e)||"style"==t?n+" "+r:r):i})}),dr(Object.keys(a).sort().map(function(e){return dr([gr(e),gr(a[e])])}))):Bt,c.length?dr(c):Bt,f.length?dr(f):Bt,n._createElementHandleEventFn(r,l),g,y]),updateRenderer:h};var e,a}},e_.prototype._visitElementOrTemplate=function(s,a){var u=this,e=0;a.hasViewContainer&&(e|=16777216);var p=new Map;a.outputs.forEach(function(e){var t=h_(e,null),n=t.name,r=t.target;p.set(d_(r,n),[r,n])}),a.directives.forEach(function(i){i.hostEvents.forEach(function(e){var t=h_(e,i),n=t.name,r=t.target;p.set(d_(r,n),[r,n])})});var l=[],c=[];this._visitComponentFactoryResolverProvider(a.directives),a.providers.forEach(function(n,e){var r=void 0,i=void 0;if(a.directives.forEach(function(e,t){e.directive.type.reference===Si(n.token)&&(r=e,i=t)}),r){var t=u._visitDirective(n,r,i,s,a.references,a.queryMatches,p,u.staticQueryIds.get(a)),o=t.hostEvents;l.push.apply(l,H(t.hostBindings)),c.push.apply(c,H(o))}else u._visitProvider(n,a.queryMatches)});var n=[];return a.queryMatches.forEach(function(e){var t=void 0;Si(e.value)===u.reflector.resolveExternalReference(ni.ElementRef)?t=0:Si(e.value)===u.reflector.resolveExternalReference(ni.ViewContainerRef)?t=3:Si(e.value)===u.reflector.resolveExternalReference(ni.TemplateRef)&&(t=2),null!=t&&n.push(dr([gr(e.queryId),gr(t)]))}),a.references.forEach(function(e){var t=void 0;e.value?Si(e.value)===u.reflector.resolveExternalReference(ni.TemplateRef)&&(t=2):t=1,null!=t&&(u.refNodeIndices[e.name]=s,n.push(dr([gr(e.name),gr(t)])))}),a.outputs.forEach(function(e){c.push({context:$g,eventAst:e,dirAst:null})}),{flags:e,usedEvents:Array.from(p.values()),queryMatchesExpr:n.length?dr(n):Bt,hostBindings:l,hostEvents:c}},e_.prototype._visitDirective=function(t,o,e,n,r,i,s,a){var u=this,p=this.nodes.length;this.nodes.push(null),o.directive.queries.forEach(function(e,t){var n=o.contentQueryStartId+t,r=67108864|f_(a,n,e),i=e.first?0:1;u.nodes.push(function(){return{sourceSpan:o.sourceSpan,nodeFlags:r,nodeDef:cr(ni.queryDef).callFn([gr(r),gr(n),new Ft([new Dt(e.propertyName,gr(i),!1)])])}})});var l=this.nodes.length-p-1,c=this._visitProviderOrDirective(t,i),h=c.flags,f=c.queryMatchExprs,d=c.providerExpr,v=c.depsExpr;r.forEach(function(e){e.value&&Si(e.value)===Si(t.token)&&(u.refNodeIndices[e.name]=p,f.push(dr([gr(e.name),gr(4)])))}),o.directive.isComponent&&(h|=32768);var m=o.inputs.map(function(e,t){var n=dr([gr(t),gr(e.directiveName)]);return new Dt(e.directiveName,n,!1)}),y=[],g=o.directive;Object.keys(g.outputs).forEach(function(e){var t=g.outputs[e];s.has(t)&&y.push(new Dt(e,gr(t),!1))});var _=[];(o.inputs.length||0<(327680&h))&&(_=o.inputs.map(function(e,t){return u._preprocessUpdateExpression({nodeIndex:p,bindingIndex:t,sourceSpan:e.sourceSpan,context:$g,value:e.value})}));var E=cr(ni.nodeValue).callFn([Xg,gr(p)]),S=o.hostProperties.map(function(e){return{context:E,dirAst:o,inputAst:e}}),x=o.hostEvents.map(function(e){return{context:E,eventAst:e,dirAst:o}}),w=p;return this.nodes[p]=function(){return{sourceSpan:o.sourceSpan,nodeFlags:16384|h,nodeDef:cr(ni.directiveDef).callFn([gr(w),gr(h),f.length?dr(f):Bt,gr(l),d,v,m.length?new Ft(m):Bt,y.length?new Ft(y):Bt]),updateDirectives:_,directive:o.directive.type}},{hostBindings:S,hostEvents:x}},e_.prototype._visitProvider=function(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))},e_.prototype._visitComponentFactoryResolverProvider=function(e){var t=e.find(function(e){return e.directive.isComponent});if(t&&t.directive.entryComponents.length){var n=Ag(this.reflector,this.outputCtx,8192,t.directive.entryComponents);this._addProviderNode({providerExpr:n.providerExpr,depsExpr:n.depsExpr,flags:n.flags,tokenExpr:n.tokenExpr,queryMatchExprs:[],sourceSpan:t.sourceSpan})}},e_.prototype._addProviderNode=function(e){this.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:cr(ni.providerDef).callFn([gr(e.flags),e.queryMatchExprs.length?dr(e.queryMatchExprs):Bt,e.tokenExpr,e.providerExpr,e.depsExpr])}})},e_.prototype._visitProviderOrDirective=function(t,e){var n=[];e.forEach(function(e){Si(e.value)===Si(t.token)&&n.push(dr([gr(e.queryId),gr(4)]))});var r=bg(this.outputCtx,t);return{flags:0|r.flags,queryMatchExprs:n,providerExpr:r.providerExpr,depsExpr:r.depsExpr,tokenExpr:r.tokenExpr,sourceSpan:t.sourceSpan}},e_.prototype.getLocal=function(t){if(t==ml.event.name)return ml.event;for(var e=Xg,n=this;n;n=n.parent,e=e.prop("parent").cast(we)){var r=n.refNodeIndices[t];if(null!=r)return cr(ni.nodeValue).callFn([e,gr(r)]);var i=n.variables.find(function(e){return e.name===t});if(i){var o=i.value||"$implicit";return e.prop("context").prop(o)}}return null},e_.prototype.notifyImplicitReceiverUse=function(){},e_.prototype._createLiteralArrayConverter=function(e,t){if(0===t){var n=cr(ni.EMPTY_ARRAY);return function(){return n}}var r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:32,nodeDef:cr(ni.pureArrayDef).callFn([gr(r),gr(t)])}}),function(e){return u_(r,e)}},e_.prototype._createLiteralMapConverter=function(e,t){if(0===t.length){var n=cr(ni.EMPTY_MAP);return function(){return n}}var r=vr(t.map(function(e,t){return d({},e,{value:gr(t)})})),i=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:64,nodeDef:cr(ni.pureObjectDef).callFn([gr(i),r])}}),function(e){return u_(i,e)}},e_.prototype._createPipeConverter=function(t,n,e){var r=this.usedPipes.find(function(e){return e.name===n});if(r.pure){var i=this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:128,nodeDef:cr(ni.purePipeDef).callFn([gr(i),gr(e)])}});for(var o=Xg,s=this;s.parent;)s=s.parent,o=o.prop("parent").cast(we);var a=s.purePipeNodeIndices[n],u=cr(ni.nodeValue).callFn([o,gr(a)]);return function(e){return p_(t.nodeIndex,t.bindingIndex,u_(i,[u].concat(e)))}}var p=this._createPipe(t.sourceSpan,r),l=cr(ni.nodeValue).callFn([Xg,gr(p)]);return function(e){return p_(t.nodeIndex,t.bindingIndex,l.callMethod("transform",e))}},e_.prototype._createPipe=function(e,t){var n=this,r=this.nodes.length,i=0;t.type.lifecycleHooks.forEach(function(e){e===hg.OnDestroy&&(i|=Mg(e))});var o=t.type.diDeps.map(function(e){return Ng(n.outputCtx,e)});return this.nodes.push(function(){return{sourceSpan:e,nodeFlags:16,nodeDef:cr(ni.pipeDef).callFn([gr(i),n.outputCtx.importExpr(t.type.reference),dr(o)])}}),r},e_.prototype._preprocessUpdateExpression=function(n){var r=this;return{nodeIndex:n.nodeIndex,bindingIndex:n.bindingIndex,sourceSpan:n.sourceSpan,context:n.context,value:El({createLiteralArrayConverter:function(e){return r._createLiteralArrayConverter(n.sourceSpan,e)},createLiteralMapConverter:function(e){return r._createLiteralMapConverter(n.sourceSpan,e)},createPipeConverter:function(e,t){return r._createPipeConverter(n,e,t)}},n.value)}},e_.prototype._createNodeExpressions=function(){var a=this,u=0,p=[],l=[],e=this.nodes.map(function(e,t){var n=e(),r=n.nodeDef,i=n.nodeFlags,o=n.updateDirectives,s=n.updateRenderer,a=n.sourceSpan;return s&&p.push.apply(p,H(c(t,a,s,!1))),o&&l.push.apply(l,H(c(t,a,o,0<(327680&i)))),sr(3&i?new Lt([Qg.callFn([]).callFn([]),r]):r,a)});return{updateRendererStmts:p,updateDirectivesStmts:l,nodeDefExprs:e};function c(e,t,n,r){var s=[],i=n.map(function(e){var t=e.sourceSpan,n=e.context,r=""+u++,i=Tl(n===$g?a:null,n,e.value,r,Sl.General),o=i.currValExpr;return s.push.apply(s,H(i.stmts.map(function(e){return or(e,t)}))),sr(o,t)});return(n.length||r)&&s.push(or(u_(e,i).toStmt(),t)),s}},e_.prototype._createElementHandleEventFn=function(e,t){var n,l=this,c=[],h=0;if(t.forEach(function(e){var t=e.context,n=e.eventAst,r=e.dirAst,i=""+h++,o=_l(t===$g?l:null,t,n.handler,i),s=o.allowDefault,a=o.stmts;s&&a.push(Jg.set(s.and(Jg)).toStmt());var u=h_(n,r),p=d_(u.target,u.name);c.push(or(new Nn(gr(p).identical(Yg),a),n.sourceSpan))}),0<c.length){var r=[Jg.set(gr(!0)).toDeclStmt(be)];!this.component.isHost&&Jn(c).has($g.name)&&r.push($g.set(Xg.prop("component")).toDeclStmt(this.compType)),n=mr([new Mt(Xg.name,Ce),new Mt(Yg.name,Ce),new Mt(ml.event.name,Ce)],H(r,c,[new xn(Jg)]),Ce)}else n=Bt;return n},e_.prototype.visitDirective=function(e,t){},e_.prototype.visitDirectiveProperty=function(e,t){},e_.prototype.visitReference=function(e,t){},e_.prototype.visitVariable=function(e,t){},e_.prototype.visitEvent=function(e,t){},e_.prototype.visitElementProperty=function(e,t){},e_.prototype.visitAttr=function(e,t){},e_);function e_(e,t,n,r,i,o,s,a){this.reflector=e,this.outputCtx=t,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=o,this.staticQueryIds=s,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=0<this.embeddedViewIndex?we:fr(t.importExpr(this.component.type.reference)),this.viewName=mi(this.component.type.reference,this.embeddedViewIndex)}function t_(e){this._reflector=e}function n_(e,t,n,r,i,o,s,a,u,p,l){this.options=e,this.reflector=t,this.externalReferenceVars=n,this.parent=r,this.component=i,this.isHostComponent=o,this.embeddedViewIndex=s,this.pipes=a,this.guards=u,this.ctx=p,this.viewBuilderFactory=l,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}function r_(){}function i_(e,t){this.options=e,this.reflector=t}function o_(e){this._reflector=e}function s_(e,t){var n=Vg.call(this,!1)||this;return n.referenceFilter=e,n.importFilter=t,n.typeExpression=0,n.importsWithPrefixes=new Map,n.reexports=new Map,n}function a_(){}function u_(e,t){return Gg.callFn(10<t.length?[Xg,gr(e),gr(1),dr(t)]:H([Xg,gr(e),gr(0)],t))}function p_(e,t,n){return cr(ni.unwrapValue).callFn([Xg,gr(e),gr(t),n])}function l_(e,i){return void 0===i&&(i=new Map),e.forEach(function(e){var n=new Set,r=new Set,t=void 0;e instanceof Qh?(l_(e.children,i),e.children.forEach(function(e){var t=i.get(e);t.staticQueryIds.forEach(function(e){return n.add(e)}),t.dynamicQueryIds.forEach(function(e){return r.add(e)})}),t=e.queryMatches):e instanceof Xh&&(l_(e.children,i),e.children.forEach(function(e){var t=i.get(e);t.staticQueryIds.forEach(function(e){return r.add(e)}),t.dynamicQueryIds.forEach(function(e){return r.add(e)})}),t=e.queryMatches),t&&t.forEach(function(e){return n.add(e.queryId)}),r.forEach(function(e){return n.delete(e)}),i.set(e,{staticQueryIds:n,dynamicQueryIds:r})}),i}function c_(e){var t=new Set,n=new Set;return Array.from(e.values()).forEach(function(e){e.staticQueryIds.forEach(function(e){return t.add(e)}),e.dynamicQueryIds.forEach(function(e){return n.add(e)})}),n.forEach(function(e){return t.delete(e)}),{staticQueryIds:t,dynamicQueryIds:n}}function h_(e,t){return e.isAnimation?{name:"@"+e.name+"."+e.phase,target:t&&t.directive.isComponent?"component":null}:e}function f_(e,t,n){var r,i,o,s=0;return n.first&&(r=e,i=t,(o=n).static||null==o.static&&(r.staticQueryIds.has(i)||!r.dynamicQueryIds.has(i)))?s|=268435456:s|=536870912,s}function d_(e,t){return e?e+":"+t:t}var v_,m_=(S_.prototype.updateFromTemplate=function(e,t,n){var r,i=this._htmlParser.parse(e,t,{tokenizeExpansionForms:!0,interpolationConfig:n});if(i.errors.length)return i.errors;var o,s,a,u,p=(o=i.rootNodes,s=n,a=this._implicitTags,u=this._implicitAttrs,new py(a,u).extract(o,s));return p.errors.length?p.errors:((r=this._messages).push.apply(r,H(p.messages)),[])},S_.prototype.getMessages=function(){return this._messages},S_.prototype.write=function(o,s){var a={},u=new y_;this._messages.forEach(function(e){var t,n=o.digest(e);a.hasOwnProperty(n)?(t=a[n].sources).push.apply(t,H(e.sources)):a[n]=e});var e=Object.keys(a).map(function(e){var t=o.createNameMapper(a[e]),n=a[e],r=t?u.convert(n.nodes,t):n.nodes,i=new fo(r,{},{},n.meaning,n.description,e);return i.sources=n.sources,s&&i.sources.forEach(function(e){return e.filePath=s(e.filePath)}),i});return o.write(e,this._locale)},S_),y_=(a(E_,v_=So),E_.prototype.convert=function(e,t){var n=this;return t?e.map(function(e){return e.visit(n,t)}):e},E_.prototype.visitTagPlaceholder=function(e,t){var n=this,r=t.toPublicName(e.startName),i=e.closeName?t.toPublicName(e.closeName):e.closeName,o=e.children.map(function(e){return e.visit(n,t)});return new go(e.tag,e.attrs,r,i,o,e.isVoid,e.sourceSpan)},E_.prototype.visitPlaceholder=function(e,t){return new _o(e.value,t.toPublicName(e.name),e.sourceSpan)},E_.prototype.visitIcuPlaceholder=function(e,t){return new Eo(e.value,t.toPublicName(e.name),e.sourceSpan)},E_),g_=(__.prototype.isEquivalent=function(e){return this.genFileUrl===e.genFileUrl&&(this.source?this.source===e.source:null!=e.stmts&&Re(this.stmts,e.stmts))},__);function __(e,t,n){this.srcFileUrl=e,this.genFileUrl=t,"string"==typeof n?(this.source=n,this.stmts=null):(this.source=null,this.stmts=n)}function E_(){return null!==v_&&v_.apply(this,arguments)||this}function S_(e,t,n,r){void 0===r&&(r=null),this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=n,this._locale=r,this._messages=[]}function x_(e,t){var n,r,i,o,s=[];try{for(var a=U(e.transitiveModule.providers),u=a.next();!u.done;u=a.next()){var p=u.value,l=p.provider,c=p.module;if(Si(l.token)===t.ROUTES){var h=w_(l.useValue);try{for(var f=U(h),d=f.next();!d.done;d=f.next())s.push(C_(d.value,t,c.reference))}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s}function w_(e,t){var n,r;if(void 0===t&&(t=[]),"string"==typeof e)t.push(e);else if(Array.isArray(e))try{for(var i=U(e),o=i.next();!o.done;o=i.next())w_(o.value,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else e.loadChildren?w_(e.loadChildren,t):e.children&&w_(e.children,t);return t}function C_(e,t,n){var r=k(e.split("#"),2),i=t.resolveExternalReference({moduleName:r[0],name:r[1]},n?n.filePath:void 0);return{route:e,module:n||i,referencedModule:i}}function b_(e,t){this.symbol=e,this.metadata=t}var T_=/^(?!.*\.d\.ts$).*\.ts$/,P_=(N_.prototype.resolveSymbol=function(e){return 0<e.members.length?this._resolveSymbolMembers(e):this._resolveSymbolFromSummary(e)||this.resolvedSymbols.get(e)||(this._createSymbolsOf(e.filePath),this.resolvedSymbols.get(e))},N_.prototype.getImportAs=function(e,t){if(void 0===t&&(t=!0),e.members.length){var n=this.getStaticSymbol(e.filePath,e.name);return(i=this.getImportAs(n,t))?this.getStaticSymbol(i.filePath,i.name,e.members):null}var r=e.filePath.replace(ng,".");if(r!==e.filePath){var i,o=e.name.replace(rg,"");return n=this.getStaticSymbol(r,o,e.members),(i=this.getImportAs(n,t))?this.getStaticSymbol(lg(i.filePath),cg(i.name),n.members):null}var s=t&&this.summaryResolver.getImportAs(e)||null;return s=s||this.importAs.get(e)},N_.prototype.getResourcePath=function(e){return this.symbolResourcePaths.get(e)||e.filePath},N_.prototype.getTypeArity=function(e){if(t=e.filePath,tg.test(t))return null;for(var t,n=A_(this.resolveSymbol(e));n&&n.metadata instanceof si;)n=A_(this.resolveSymbol(n.metadata));return n&&n.metadata&&n.metadata.arity||null},N_.prototype.getKnownModuleName=function(e){return this.knownFileNameToModuleNames.get(e)||null},N_.prototype.recordImportAs=function(e,t){e.assertNoMembers(),t.assertNoMembers(),this.importAs.set(e,t)},N_.prototype.recordModuleNameForFileName=function(e,t){this.knownFileNameToModuleNames.set(e,t)},N_.prototype.invalidateFile=function(e){var t,n;this.metadataCache.delete(e),this.resolvedFilePaths.delete(e);var r=this.symbolFromFile.get(e);if(r){this.symbolFromFile.delete(e);try{for(var i=U(r),o=i.next();!o.done;o=i.next()){var s=o.value;this.resolvedSymbols.delete(s),this.importAs.delete(s),this.symbolResourcePaths.delete(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},N_.prototype.ignoreErrorsFor=function(e){var t=this.errorRecorder;this.errorRecorder=function(){};try{return e()}finally{this.errorRecorder=t}},N_.prototype._resolveSymbolMembers=function(e){var t=e.members,n=this.resolveSymbol(this.getStaticSymbol(e.filePath,e.name));if(!n)return null;var r=A_(n.metadata);if(r instanceof si)return new b_(e,this.getStaticSymbol(r.filePath,r.name,t));if(r&&"class"===r.__symbolic)return r.statics&&1===t.length?new b_(e,r.statics[t[0]]):null;for(var i=r,o=0;o<t.length&&i;o++)i=i[t[o]];return new b_(e,i)},N_.prototype._resolveSymbolFromSummary=function(e){var t=this.summaryResolver.resolveSummary(e);return t?new b_(e,t.metadata):null},N_.prototype.getStaticSymbol=function(e,t,n){return this.staticSymbolCache.get(e,t,n)},N_.prototype.hasDecorators=function(e){var n=this.getModuleMetadata(e);return!!n.metadata&&Object.keys(n.metadata).some(function(e){var t=n.metadata[e];return t&&"class"===t.__symbolic&&t.decorators})},N_.prototype.getSymbolsOf=function(t){var e=this.summaryResolver.getSymbolsOf(t);if(e)return e;this._createSymbolsOf(t);var n=[];return this.resolvedSymbols.forEach(function(e){e.symbol.filePath===t&&n.push(e.symbol)}),n},N_.prototype._createSymbolsOf=function(a){var e,t,u=this;if(!this.resolvedFilePaths.has(a)){this.resolvedFilePaths.add(a);var p=[],s=this.getModuleMetadata(a);if(s.importAs&&this.knownFileNameToModuleNames.set(a,s.importAs),s.exports){var n=function(s){if(s.export)s.export.forEach(function(e){var t,n=t=M_(t="string"==typeof e?e:e.as);"string"!=typeof e&&(n=M_(e.name));var r=u.resolveModule(s.from,a);if(r){var i=u.getStaticSymbol(r,n),o=u.getStaticSymbol(a,t);p.push(u.createExport(o,i))}});else{var e=r.resolveModule(s.from,a);e&&r.getSymbolsOf(e).forEach(function(e){var t=u.getStaticSymbol(a,e.name);p.push(u.createExport(t,e))})}},r=this;try{for(var i=U(s.exports),o=i.next();!o.done;o=i.next())n(o.value)}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}if(s.metadata){var l=new Set(Object.keys(s.metadata).map(M_)),c=s.origins||{};Object.keys(s.metadata).forEach(function(e){var t=s.metadata[e],n=M_(e),r=u.getStaticSymbol(a,n),i=c.hasOwnProperty(e)&&c[e];if(i){var o=u.resolveModule(i,a);o?u.symbolResourcePaths.set(r,o):u.reportError(new Error("Couldn't resolve original symbol for "+i+" from "+u.host.getOutputName(a)))}p.push(u.createResolvedSymbol(r,a,l,t))})}p.forEach(function(e){return u.resolvedSymbols.set(e.symbol,e)}),this.symbolFromFile.set(a,p.map(function(e){return e.symbol}))}},N_.prototype.createResolvedSymbol=function(u,p,l,e){var t,n=this,r=T_.test(u.filePath);if(this.summaryResolver.isLibraryFile(u.filePath)&&!r&&e&&"class"===e.__symbolic)return new b_(u,{__symbolic:"class",arity:e.arity});function c(){return t=t||n.host.getOutputName(p.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[\/\\]/,""))}var h,f=this,i=wr(e,(a(s,h=Mr),s.prototype.visitStringMap=function(e,t){var n=e.__symbolic;if("function"===n){var r=t.length;t.push.apply(t,H(e.parameters||[]));var i=h.prototype.visitStringMap.call(this,e,t);return t.length=r,i}if("reference"!==n)return"error"===n?d({},e,{fileName:c()}):h.prototype.visitStringMap.call(this,e,t);var o=e.module,s=e.name?M_(e.name):e.name;if(!s)return null;var a=void 0;return o?(a=f.resolveModule(o,u.filePath))?{__symbolic:"resolved",symbol:f.getStaticSymbol(a,s),line:e.line,character:e.character,fileName:c()}:{__symbolic:"error",message:"Could not resolve "+o+" relative to "+f.host.getMetadataFor(u.filePath)+".",line:e.line,character:e.character,fileName:c()}:0<=t.indexOf(s)?{__symbolic:"reference",name:s}:l.has(s)?f.getStaticSymbol(p,s):void 0},new s),[]),o=A_(i);function s(){return null!==h&&h.apply(this,arguments)||this}return o instanceof si?this.createExport(u,o):new b_(u,i)},N_.prototype.createExport=function(e,t){return e.assertNoMembers(),t.assertNoMembers(),this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(t,this.getImportAs(e)||e),new b_(e,t)},N_.prototype.reportError=function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(e,t&&t.filePath||n)},N_.prototype.getModuleMetadata=function(e){var t=this.metadataCache.get(e);if(!t){var n=this.host.getMetadataFor(e);if(n){var r=-1;n.forEach(function(e){e&&e.version>r&&(r=e.version,t=e)})}if(4!=(t=t||{__symbolic:"module",version:4,module:e,metadata:{}}).version){var i=2==t.version?"Unsupported metadata version "+t.version+" for module "+e+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+this.host.getOutputName(e)+", found version "+t.version+", expected 4";this.reportError(new Error(i))}this.metadataCache.set(e,t)}return t},N_.prototype.getSymbolByModule=function(e,t,n){var r=this.resolveModule(e,n);return r?this.getStaticSymbol(r,t):(this.reportError(new Error("Could not resolve module "+e+(n?" relative to "+this.host.getOutputName(n):""))),this.getStaticSymbol("ERROR:"+e,t))},N_.prototype.resolveModule=function(t,n){try{return this.host.moduleNameToFileName(t,n)}catch(e){console.error("Could not resolve module '"+t+"' relative to file "+n),this.reportError(e,void 0,n)}return null},N_);function N_(e,t,n,r){this.host=e,this.staticSymbolCache=t,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}function M_(e){return e.startsWith("___")?e.substr(1):e}function A_(e){return e&&"resolved"===e.__symbolic?e.symbol:e}function I_(e,t,n){var r=cg(t.name);e.statements.push(mr([],[new xn(n)],new Se(we)).toDeclStmt(r,[x.StmtModifier.Final,x.StmtModifier.Exported]))}var k_,R_,O_=(a(V_,R_=Mr),V_.prototype.addSummary=function(e){var t,n,r=this,i=this.unprocessedSymbolSummariesBySymbol.get(e.symbol),o=this.processedSummaryBySymbol.get(e.symbol);if(i||(this.unprocessedSymbolSummariesBySymbol.set(e.symbol,i={symbol:e.symbol,metadata:void 0}),o={symbol:this.processValue(e.symbol,0)},this.processedSummaries.push(o),this.processedSummaryBySymbol.set(e.symbol,o)),!i.metadata&&e.metadata){var s=e.metadata||{};if("class"===s.__symbolic){var a={};Object.keys(s).forEach(function(e){"decorators"!==e&&(a[e]=s[e])}),s=a}else j_(s)&&(j_(n=s)&&A_(n.expression)instanceof si||j_(t=s)&&t.expression&&"select"===t.expression.__symbolic&&A_(t.expression.expression)instanceof si||(s={__symbolic:"error",message:"Complex function calls are not supported."}));if(i.metadata=s,o.metadata=this.processValue(s,1),s instanceof si&&this.summaryResolver.isLibraryFile(s.filePath)){var u=this.symbols[this.indexBySymbol.get(s)];vg(u.name)||this.reexportedBy.set(u,e.symbol)}}if(!i.type&&e.type&&(i.type=e.type,o.type=this.processValue(e.type,0),e.type.summaryKind===x.CompileSummaryKind.NgModule)){var p=e.type;p.exportedDirectives.concat(p.exportedPipes).forEach(function(e){var t=e.reference;if(r.summaryResolver.isLibraryFile(t.filePath)&&!r.unprocessedSymbolSummariesBySymbol.has(t)){var n=r.summaryResolver.resolveSummary(t);n&&r.addSummary(n)}})}},V_.prototype.serialize=function(o){var s=this,a=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map(function(e,t){e.assertNoMembers();var n=void 0;if(s.summaryResolver.isLibraryFile(e.filePath)){var r=s.reexportedBy.get(e);if(r)n=s.indexBySymbol.get(r);else if(o){var i=s.unprocessedSymbolSummariesBySymbol.get(e);i&&i.metadata&&"interface"===i.metadata.__symbolic||a.push({symbol:e,exportAs:n=e.name+"_"+t})}}return{__symbol:t,name:e.name,filePath:s.summaryResolver.toSummaryFileName(e.filePath,s.srcFileName),importAs:n}})}),exportAs:a}},V_.prototype.processValue=function(e,t){return wr(e,this,t)},V_.prototype.visitOther=function(e,t){if(e instanceof si){var n=this.symbolResolver.getStaticSymbol(e.filePath,e.name);return{__symbol:this.visitStaticSymbol(n,t),members:e.members}}},V_.prototype.visitStringMap=function(e,t){return"resolved"===e.__symbolic?wr(e.symbol,this,t):("error"===e.__symbolic&&(delete e.line,delete e.character),R_.prototype.visitStringMap.call(this,e,t))},V_.prototype.visitStaticSymbol=function(e,t){var n=this.indexBySymbol.get(e),r=null;if(1&t&&this.summaryResolver.isLibraryFile(e.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(e))return n;(r=this.loadSummary(e))&&r.metadata instanceof si&&(n=this.visitStaticSymbol(r.metadata,t),r=null)}else if(null!=n)return n;return null==n&&(n=this.symbols.length,this.symbols.push(e)),this.indexBySymbol.set(e,n),r&&this.addSummary(r),n},V_.prototype.loadSummary=function(e){var t=this.summaryResolver.resolveSummary(e);if(!t){var n=this.symbolResolver.resolveSymbol(e);n&&(t={symbol:n.symbol,metadata:n.metadata})}return t},V_),D_=(B_.prototype.addSourceType=function(e,t){this.data.push({summary:e,metadata:t,isLibrary:!1})},B_.prototype.addLibType=function(e){this.data.push({summary:e,metadata:null,isLibrary:!0})},B_.prototype.serialize=function(e){var t,n,r,i,o,s,a=this,u=new Map;try{for(var p=U(e),l=p.next();!l.done;l=p.next()){var c=l.value;u.set(c.symbol,c.exportAs)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}var h=new Set;try{for(var f=U(this.data),d=f.next();!d.done;d=f.next()){var v=d.value,m=v.summary,y=v.metadata,g=v.isLibrary;if(m.summaryKind===x.CompileSummaryKind.NgModule){h.add(m.type.reference);var _=m;try{for(var E=U(_.modules),S=E.next();!S.done;S=E.next())h.add(S.value.reference)}catch(e){o={error:e}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}}g||(cg(m.type.reference.name),I_(this.outputCtx,m.type.reference,this.serializeSummaryWithDeps(m,y)))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}h.forEach(function(e){if(a.summaryResolver.isLibraryFile(e.filePath)){var t=cg(u.get(e)||e.name);a.outputCtx.statements.push(lr(t).set(a.serializeSummaryRef(e)).toDeclStmt(null,[x.StmtModifier.Exported]))}})},B_.prototype.serializeSummaryWithDeps=function(e,t){var n=this,r=[this.serializeSummary(e)],i=[];return t instanceof Ti?(r.push.apply(r,H(t.declaredDirectives.concat(t.declaredPipes).map(function(e){return e.reference}).concat(t.transitiveModule.modules.map(function(e){return e.reference}).filter(function(e){return e!==t.type.reference})).map(function(e){return n.serializeSummaryRef(e)}))),i=t.providers):e.summaryKind===x.CompileSummaryKind.Directive&&(i=e.providers.concat(e.viewProviders)),r.push.apply(r,H(i.filter(function(e){return!!e.useClass}).map(function(e){return n.serializeSummary({summaryKind:x.CompileSummaryKind.Injectable,type:e.useClass})}))),dr(r)},B_.prototype.serializeSummaryRef=function(e){var t=this.symbolResolver.getStaticSymbol(lg(e.filePath),cg(e.name));return this.outputCtx.importExpr(t)},B_.prototype.serializeSummary=function(e){var n=this.outputCtx;function t(){}return wr(e,(t.prototype.visitArray=function(e,t){var n=this;return dr(e.map(function(e){return wr(e,n,t)}))},t.prototype.visitStringMap=function(t,n){var r=this;return new Ft(Object.keys(t).map(function(e){return new Dt(e,wr(t[e],r,n),!1)}))},t.prototype.visitPrimitive=function(e,t){return gr(e)},t.prototype.visitOther=function(e,t){if(e instanceof si)return n.importExpr(e);throw new Error("Illegal State: Encountered value "+e)},new t),null)},B_),F_=(a(L_,k_=Mr),L_.prototype.deserialize=function(i,e){var o=this,t=JSON.parse(e),s=[];this.symbols=t.symbols.map(function(e){return o.symbolCache.get(o.summaryResolver.fromSummaryFileName(e.filePath,i),e.name)}),t.symbols.forEach(function(e,t){var n=o.symbols[t],r=e.importAs;"number"==typeof r?s.push({symbol:n,importAs:o.symbols[r]}):"string"==typeof r&&s.push({symbol:n,importAs:o.symbolCache.get(og(i),r)})});var n=wr(t.summaries,this,null);return{moduleName:t.moduleName,summaries:n,importAs:s}},L_.prototype.visitStringMap=function(e,t){if("__symbol"in e){var n=this.symbols[e.__symbol],r=e.members;return r.length?this.symbolCache.get(n.filePath,n.name,r):n}return k_.prototype.visitStringMap.call(this,e,t)},L_);function L_(e,t){var n=k_.call(this)||this;return n.symbolCache=e,n.summaryResolver=t,n}function B_(e,t,n){this.outputCtx=e,this.symbolResolver=t,this.summaryResolver=n,this.data=[]}function V_(e,t,n){var r=R_.call(this)||this;return r.symbolResolver=e,r.summaryResolver=t,r.srcFileName=n,r.symbols=[],r.indexBySymbol=new Map,r.reexportedBy=new Map,r.processedSummaryBySymbol=new Map,r.processedSummaries=[],r.unprocessedSymbolSummariesBySymbol=new Map,r.moduleName=e.getKnownModuleName(n),r}function j_(e){return e&&"call"===e.__symbolic}var U_=(H_.prototype.clearCache=function(){this._metadataResolver.clearCache()},H_.prototype.analyzeModulesSync=function(e){var t=this,n=Q_(e,this._host,this._symbolResolver,this._metadataResolver);return n.ngModules.forEach(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)}),n},H_.prototype.analyzeModulesAsync=function(e){var t=this,n=Q_(e,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(n.ngModules.map(function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){return n})},H_.prototype._analyzeFile=function(e){var t=this._analyzedFiles.get(e);return t||(t=G_(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFiles.set(e,t)),t},H_.prototype._analyzeFileForInjectables=function(e){var t=this._analyzedFilesForInjectables.get(e);return t||(t=$_(0,this._symbolResolver,this._metadataResolver,e),this._analyzedFilesForInjectables.set(e,t)),t},H_.prototype.findGeneratedFileNames=function(e){var i=this,o=[],s=this._analyzeFile(e);(this._options.allowEmptyCodegenFiles||s.directives.length||s.pipes.length||s.injectables.length||s.ngModules.length||s.exportsNonSourceFiles)&&(o.push(og(s.fileName,!0)),this._options.enableSummariesForJit&&o.push(lg(s.fileName,!0)));var a=ug(ag(s.fileName,!0)[1]);return s.directives.forEach(function(e){var r=i._metadataResolver.getNonNormalizedDirectiveMetadata(e).metadata;r.isComponent&&r.template.styleUrls.forEach(function(e){var t=i._host.resourceNameToFileName(e,s.fileName);if(!t)throw kr("Couldn't resolve resource "+e+" relative to "+s.fileName);var n=(r.template.encapsulation||i._config.defaultEncapsulation)===D.Emulated;o.push(z_(t,n,a)),i._options.allowEmptyCodegenFiles&&o.push(z_(t,!n,a))})}),o},H_.prototype.emitBasicStub=function(e,t){var r=this._createOutputContext(e);if(e.endsWith(".ngfactory.ts")){if(!t)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: "+e);var n=this._analyzeFile(t);this._createNgFactoryStub(r,n,1)}else if(e.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!t)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: "+e);n=this._analyzeFile(t),q_(r),n.ngModules.forEach(function(e){var t,n;t=r,n=e.type.reference,I_(t,n,Bt)})}}else e.endsWith(".ngstyle.ts")&&q_(r);return this._codegenSourceModule("unknown",r)},H_.prototype.emitTypeCheckStub=function(e,t){var n=this._analyzeFile(t),r=this._createOutputContext(e);return e.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(r,n,2),0<r.statements.length?this._codegenSourceModule(n.fileName,r):null},H_.prototype.loadFilesAsync=function(e,t){var n=this,r=e.map(function(e){return n._analyzeFile(e)}),i=[];r.forEach(function(e){return e.ngModules.forEach(function(e){return i.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1))})});var o=t.map(function(e){return n._analyzeFileForInjectables(e)});return Promise.all(i).then(function(e){return{analyzedModules:J_(r),analyzedInjectables:o}})},H_.prototype.loadFilesSync=function(e,t){var n=this,r=e.map(function(e){return n._analyzeFile(e)});r.forEach(function(e){return e.ngModules.forEach(function(e){return n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)})});var i=t.map(function(e){return n._analyzeFileForInjectables(e)});return{analyzedModules:J_(r),analyzedInjectables:i}},H_.prototype._createNgFactoryStub=function(o,e,t){var s=this,a=0;e.ngModules.forEach(function(n,r){s._ngModuleCompiler.createStub(o,n.type.reference);var e=H(n.transitiveModule.directives.map(function(e){return e.reference}),n.transitiveModule.pipes.map(function(e){return e.reference}),n.importedModules.map(function(e){return e.type.reference}),n.exportedModules.map(function(e){return e.type.reference}),s._externalIdentifierReferences([ni.TemplateRef,ni.ElementRef])),i=new Map;e.forEach(function(e,t){i.set(e,"_decl"+r+"_"+t)}),i.forEach(function(e,t){o.statements.push(lr(e).set(Bt.cast(we)).toDeclStmt(fr(o.importExpr(t,null,!1))))}),2&t&&n.declaredDirectives.forEach(function(e){var t=s._metadataResolver.getDirectiveMetadata(e.reference);t.isComponent&&(s._createTypeCheckBlock(o,t.type.reference.name+"_Host_"+ ++a,n,s._metadataResolver.getHostComponentMetadata(t),[t.type],i),s._createTypeCheckBlock(o,t.type.reference.name+"_"+a,n,t,n.transitiveModule.directives,i))})}),0===o.statements.length&&q_(o)},H_.prototype._externalIdentifierReferences=function(e){var t,n,r=[];try{for(var i=U(e),o=i.next();!o.done;o=i.next()){var s=oi(this.reflector,o.value);s.identifier&&r.push(s.identifier.reference)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},H_.prototype._createTypeCheckBlock=function(e,t,n,r,i,o){var s,a=this._parseTemplate(r,n,i);(s=e.statements).push.apply(s,H(this._typeCheckCompiler.compileComponent(t,r,a.template,a.pipes,o,e)))},H_.prototype.emitMessageBundle=function(e,t){var r=this,i=[],n=new Sh,o=new m_(n,[],{},t);if(e.files.forEach(function(e){var n=[];e.directives.forEach(function(e){var t=r._metadataResolver.getDirectiveMetadata(e);t&&t.isComponent&&n.push(t)}),n.forEach(function(e){var t=e.template.template,n=e.template.templateUrl,r=Ea.fromArray(e.template.interpolation);i.push.apply(i,H(o.updateFromTemplate(t,n,r)))})}),i.length)throw new Error(i.map(function(e){return e.toString()}).join("\n"));return o},H_.prototype.emitAllPartialModules=function(e,t){function n(e){return s.has(e)||s.set(e,r._createOutputContext(e)),s.get(e)}var r=this,i=e.ngModuleByPipeOrDirective,o=e.files,s=new Map;return o.forEach(function(e){return r._compilePartialModule(e.fileName,i,e.directives,e.pipes,e.ngModules,e.injectables,n(e.fileName))}),t.forEach(function(e){return r._compileShallowModules(e.fileName,e.shallowModules,n(e.fileName))}),Array.from(s.values()).map(function(e){return{fileName:e.genFilePath,statements:H(e.constantPool.statements,e.statements)}})},H_.prototype._compileShallowModules=function(e,t,p){var l=this;t.forEach(function(e){return t=p,n=e,r=l._injectableCompiler,i=di(n.type),o=n.rawImports?[n.rawImports]:[],s=n.rawExports?[n.rawExports]:[],a=Ms({factory:r.factoryFor({type:n.type,symbol:n.type.reference},t),providers:ca(n.rawProviders,t),imports:ca(H(o,s),t)}),u=cr(Hi.defineInjector).callFn([a]),void t.statements.push(new Pn(i,null,[new Cn("ngInjectorDef",Ce,[x.StmtModifier.Static],u)],[],new bn(null,[],[]),[]));var t,n,r,i,o,s,a,u})},H_.prototype._compilePartialModule=function(e,a,t,n,r,i,u){var p=this,o=new iv,l=new Vf(this._templateParser.expressionParser,Sa,o,[],[]);t.forEach(function(e){var t=p._metadataResolver.getDirectiveMetadata(e);if(t.isComponent){var n=a.get(e);n||Ir("Cannot determine the module for component '"+di(t.type)+"'");var r=t.template.htmlAst;t.template.preserveWhitespaces||(r=Ah(r));var i=av(r.rootNodes,l),o=new Map;n.transitiveModule.directives.map(function(e){return p._metadataResolver.getDirectiveSummary(e.reference)}).forEach(function(e){e.selector&&o.set(e.selector,e.type.reference)});var s=new Map;n.transitiveModule.pipes.map(function(e){return p._metadataResolver.getPipeSummary(e.reference)}).forEach(function(e){s.set(e.name,e.type.reference)}),function(e,t,n,r,i,o,s){var a=di(t.type);a||Ir("Cannot resolver the name of "+t.type);var u=e.constantPool.propertyNameOf(2),p=t.toSummary(),l=hm(d({},fm(),{selector:t.selector,template:{nodes:n.nodes},directives:[],pipes:function(e,n){var t=Array.from(e).map(function(e){var t=k(e,2);return[t[0],n.importExpr(t[1])]});return new Map(t)}(s,e),viewQueries:dm(t.viewQueries,e),wrapDirectivesAndPipesInClosure:!1,styles:p.template&&p.template.styles||sm,encapsulation:p.template&&p.template.encapsulation||D.Emulated,interpolation:Sa,animations:null,viewProviders:0<t.viewProviders.length?new Ke(t.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),e.constantPool,i);e.statements.push(new Pn(a,null,[new Cn(u,Ce,[x.StmtModifier.Static],l.expression)],[],new bn(null,[],[]),[]))}(u,t,i,0,l,0,s)}else!function(e,t,n,r){var i=di(t.type);i||Ir("Cannot resolver the name of "+t.type);var o=e.constantPool.propertyNameOf(1),s=lm(fm(),e.constantPool,r);e.statements.push(new Pn(i,null,[new Cn(o,Ce,[x.StmtModifier.Static],s.expression)],[],new bn(null,[],[]),[]))}(u,t,0,l)}),n.forEach(function(e){var t=p._metadataResolver.getPipeMetadata(e);t&&function(e,t,n){var r=di(t.type);if(!r)return Ir("Cannot resolve the name of "+t.type);var i=Vu({name:r,pipeName:t.name,type:e.importExpr(t.type.reference),typeArgumentCount:0,deps:function(e,t,n){n.resolveExternalReference(ni.Injector);var r,i,o=[];try{for(var s=U(e.diDeps),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.token){var p=Si(u.token),l=u.isAttribute?x.R3ResolvedDependencyType.Attribute:x.R3ResolvedDependencyType.Token,c=p instanceof si?t.importExpr(p):gr(p);o.push({token:c,resolved:l,host:!!u.isHost,optional:!!u.isOptional,self:!!u.isSelf,skipSelf:!!u.isSkipSelf})}else Gs("dependency without a token")}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}(t.type,e,n),pure:t.pure}),o=e.constantPool.propertyNameOf(3);e.statements.push(new Pn(r,null,[new Cn(o,Ce,[x.StmtModifier.Static],i.expression)],[],new bn(null,[],[]),[]))}(u,t,p.reflector)}),i.forEach(function(e){return p._injectableCompiler.compile(e,u)})},H_.prototype.emitAllPartialModules2=function(e){var n=this;return e.reduce(function(e,t){return e.push.apply(e,H(n._emitPartialModule2(t.fileName,t.injectables))),e},[])},H_.prototype._emitPartialModule2=function(e,t){var n=this,r=this._createOutputContext(e);return t.forEach(function(e){return n._injectableCompiler.compile(e,r)}),r.statements&&0<r.statements.length?[{fileName:e,statements:H(r.constantPool.statements,r.statements)}]:[]},H_.prototype.emitAllImpls=function(e){var t=this,n=e.ngModuleByPipeOrDirective;return Di(e.files.map(function(e){return t._compileImplFile(e.fileName,n,e.directives,e.pipes,e.ngModules,e.injectables)}))},H_.prototype._compileImplFile=function(i,o,e,t,n,r){var s=this,a=ug(ag(i,!0)[1]),u=[],p=this._createOutputContext(og(i,!0));if(u.push.apply(u,H(this._createSummary(i,e,t,n,r,p))),n.forEach(function(e){return s._compileModule(p,e)}),e.forEach(function(e){var n=s._metadataResolver.getDirectiveMetadata(e);if(n.isComponent){var t=o.get(e);if(!t)throw new Error("Internal Error: cannot determine the module for component "+di(n.type)+"!");var r=s._styleCompiler.compileComponent(p,n);n.template.externalStylesheets.forEach(function(e){var t=s._styleCompiler.needsStyleShim(n);u.push(s._codegenStyles(i,n,e,t,a)),s._options.allowEmptyCodegenFiles&&u.push(s._codegenStyles(i,n,e,!t,a))}),s._compileComponent(p,n,t,t.transitiveModule.directives,r,a),s._compileComponentFactory(p,n,t,a)}}),0<p.statements.length||this._options.allowEmptyCodegenFiles){var l=this._codegenSourceModule(i,p);u.unshift(l)}return u},H_.prototype._createSummary=function(e,t,n,r,i,o){var s=this,a=this._symbolResolver.getSymbolsOf(e).map(function(e){return s._symbolResolver.resolveSymbol(e)}),u=H(r.map(function(e){return{summary:s._metadataResolver.getNgModuleSummary(e.type.reference),metadata:s._metadataResolver.getNgModuleMetadata(e.type.reference)}}),t.map(function(e){return{summary:s._metadataResolver.getDirectiveSummary(e),metadata:s._metadataResolver.getDirectiveMetadata(e)}}),n.map(function(e){return{summary:s._metadataResolver.getPipeSummary(e),metadata:s._metadataResolver.getPipeMetadata(e)}}),i.map(function(e){return{summary:s._metadataResolver.getInjectableSummary(e.symbol),metadata:s._metadataResolver.getInjectableSummary(e.symbol).type}})),p=this._options.enableSummariesForJit?this._createOutputContext(lg(e,!0)):null,l=function(e,t,n,r,i,o,s){void 0===s&&(s=!1);var a=new O_(r,n,e);i.forEach(function(e){return a.addSummary({symbol:e.symbol,metadata:e.metadata})}),o.forEach(function(e){var t=e.summary;a.addSummary({symbol:t.type.reference,metadata:void 0,type:t})});var u=a.serialize(s),p=u.json,l=u.exportAs;if(t){var c=new D_(t,r,n);o.forEach(function(e){c.addSourceType(e.summary,e.metadata)}),a.unprocessedSymbolSummariesBySymbol.forEach(function(e){n.isLibraryFile(e.symbol.filePath)&&e.type&&c.addLibType(e.type)}),c.serialize(l)}return{json:p,exportAs:l}}(e,p,this._summaryResolver,this._symbolResolver,a,u,this._options.createExternalSymbolFactoryReexports),c=l.json;l.exportAs.forEach(function(e){o.statements.push(lr(e.exportAs).set(o.importExpr(e.symbol)).toDeclStmt(null,[x.StmtModifier.Exported]))});var h=[new g_(e,pg(e),c)];return p&&h.push(this._codegenSourceModule(e,p)),h},H_.prototype._compileModule=function(e,t){var n=[];if(this._options.locale){var r=this._options.locale.replace(/_/g,"-");n.push({token:oi(this.reflector,ni.LOCALE_ID),useValue:r})}this._options.i18nFormat&&n.push({token:oi(this.reflector,ni.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(e,t,n)},H_.prototype._compileComponentFactory=function(e,t,n,r){var i=this._metadataResolver.getHostComponentMetadata(t),o=this._compileComponent(e,i,n,[t.type],null,r).viewClassVar,s=_i(t.type.reference),a=[];for(var u in t.inputs)a.push(new Dt(u,gr(t.inputs[u]),!1));var p=[];for(var u in t.outputs)p.push(new Dt(u,gr(t.outputs[u]),!1));e.statements.push(lr(s).set(cr(ni.createComponentFactory).callFn([gr(t.selector),e.importExpr(t.type.reference),lr(o),new Ft(a),new Ft(p),dr(t.template.ngContentSelectors.map(function(e){return gr(e)}))])).toDeclStmt(hr(ni.ComponentFactory,[fr(e.importExpr(t.type.reference))],[ue.Const]),[x.StmtModifier.Final,x.StmtModifier.Exported]))},H_.prototype._compileComponent=function(e,t,n,r,i,o){var s=this._parseTemplate(t,n,r),a=s.template,u=s.pipes,p=i?lr(i.stylesVar):dr([]),l=this._viewCompiler.compileComponent(e,t,a,p,u);return i&&W_(this._symbolResolver,i,this._styleCompiler.needsStyleShim(t),o),l},H_.prototype._parseTemplate=function(e,t,n){var r=this;if(this._templateAstCache.has(e.type.reference))return this._templateAstCache.get(e.type.reference);var i=e.template.preserveWhitespaces,o=n.map(function(e){return r._metadataResolver.getDirectiveSummary(e.reference)}),s=t.transitiveModule.pipes.map(function(e){return r._metadataResolver.getPipeSummary(e.reference)}),a=this._templateParser.parse(e,e.template.htmlAst,o,s,t.schemas,Li(t.type,e,e.template),i);return this._templateAstCache.set(e.type.reference,a),a},H_.prototype._createOutputContext=function(c){var h=this;return{statements:[],genFilePath:c,importExpr:function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=!0),!(e instanceof si))throw new Error("Internal error: unknown identifier "+JSON.stringify(e));var r=h._symbolResolver.getTypeArity(e)||0,i=h._symbolResolver.getImportAs(e,n)||e,o=i.name,s=i.members,a=h._fileNameToModuleName(i.filePath,c),u=a===h._fileNameToModuleName(c,c)?null:a,p=t||[],l=p.concat(new Array(r-p.length).fill(we));return s.reduce(function(e,t){return e.prop(t)},cr(new nt(u,o,null),l))},constantPool:new Xr}},H_.prototype._fileNameToModuleName=function(e,t){return this._summaryResolver.getKnownModuleName(e)||this._symbolResolver.getKnownModuleName(e)||this._host.fileNameToModuleName(e,t)},H_.prototype._codegenStyles=function(e,t,n,r,i){var o=this._createOutputContext(z_(n.moduleUrl,r,i)),s=this._styleCompiler.compileStyles(o,t,n,r);return W_(this._symbolResolver,s,r,i),this._codegenSourceModule(e,o)},H_.prototype._codegenSourceModule=function(e,t){return new g_(e,t.genFilePath,t.statements)},H_.prototype.listLazyRoutes=function(e,t){var n,r,i,o,l=this;if(e)return function e(t,n,r){var i,o;if(void 0===n&&(n=new Set),void 0===r&&(r=[]),n.has(t)||!t.name)return r;n.add(t);var s=x_(l._metadataResolver.getNgModuleMetadata(t,!0),l.reflector);try{for(var a=U(s),u=a.next();!u.done;u=a.next()){var p=u.value;r.push(p),e(p.referencedModule,n,r)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return r}(C_(e,this.reflector).referencedModule);if(t){var s=[];try{for(var a=U(t.ngModules),u=a.next();!u.done;u=a.next()){var p=x_(u.value,this.reflector);try{for(var c=U(p),h=c.next();!h.done;h=c.next())s.push(h.value)}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s}throw new Error("Either route or analyzedModules has to be specified!")},H_);function H_(e,t,n,r,i,o,s,a,u,p,l,c,h,f){this._config=e,this._options=t,this._host=n,this.reflector=r,this._metadataResolver=i,this._templateParser=o,this._styleCompiler=s,this._viewCompiler=a,this._typeCheckCompiler=u,this._ngModuleCompiler=p,this._injectableCompiler=l,this._outputEmitter=c,this._summaryResolver=h,this._symbolResolver=f,this._templateAstCache=new Map,this._analyzedFiles=new Map,this._analyzedFilesForInjectables=new Map}function q_(e){e.statements.push(cr(ni.ComponentFactory).toStmt())}function W_(t,e,n,r){e.dependencies.forEach(function(e){e.setValue(t.getStaticSymbol(z_(e.moduleUrl,n,r),e.name))})}function z_(e,t,n){return e+(t?".shim":"")+".ngstyle"+n}function K_(e,t,n,r){return Y_((i=e,o=t,s=n,a=r,u=new Set,p=[],l=function(e){if(u.has(e)||!o.isSourceFile(e))return!1;u.add(e);var t=G_(o,s,a,e);p.push(t),t.ngModules.forEach(function(e){e.transitiveModule.modules.forEach(function(e){return l(e.reference.filePath)})})},i.forEach(function(e){return l(e)}),p));var i,o,s,a,u,p,l}function Q_(e,t,n,r){return X_(K_(e,t,n,r))}function X_(e){if(e.symbolsMissingModule&&e.symbolsMissingModule.length)throw kr(e.symbolsMissingModule.map(function(e){return"Cannot determine the module for class "+e.name+" in "+e.filePath+"! Add "+e.name+" to the NgModule to fix it."}).join("\n"));return e}function G_(u,p,l,e){var c=[],h=[],f=[],d=[],t=p.hasDecorators(e),v=!1;return e.endsWith(".d.ts")&&!t||p.getSymbolsOf(e).forEach(function(e){var n,r,t=p.resolveSymbol(e).metadata;if(t&&"error"!==t.__symbolic){var i=!1;if("class"===t.__symbolic)if(l.isDirective(e))i=!0,c.push(e);else if(l.isPipe(e))i=!0,h.push(e);else if(l.isNgModule(e)){var o=l.getNgModuleMetadata(e,!1);o&&(i=!0,d.push(o))}else if(l.isInjectable(e)){i=!0;var s=l.getInjectableMetadata(e,null,!1);s&&f.push(s)}i||(v=v||(n=u,r=!1,wr(t,(a.prototype.visitArray=function(e,t){var n=this;e.forEach(function(e){return wr(e,n,t)})},a.prototype.visitStringMap=function(t,n){var r=this;Object.keys(t).forEach(function(e){return wr(t[e],r,n)})},a.prototype.visitPrimitive=function(e,t){},a.prototype.visitOther=function(e,t){e instanceof si&&!n.isSourceFile(e.filePath)&&(r=!0)},new a),null),r))}function a(){}}),{fileName:e,directives:c,pipes:h,ngModules:d,injectables:f,exportsNonSourceFiles:v}}function $_(e,i,o,t){var s=[],a=[];return i.hasDecorators(t)&&i.getSymbolsOf(t).forEach(function(e){var t=i.resolveSymbol(e).metadata;if(t&&"error"!==t.__symbolic&&"class"===t.__symbolic)if(o.isInjectable(e)){var n=o.getInjectableMetadata(e,null,!1);n&&s.push(n)}else if(o.isNgModule(e)){var r=o.getShallowModuleMetadata(e);r&&a.push(r)}}),{fileName:t,injectables:s,shallowModules:a}}function Y_(e){var n=[],r=new Map,t=new Set;e.forEach(function(e){e.ngModules.forEach(function(t){n.push(t),t.declaredDirectives.forEach(function(e){return r.set(e.reference,t)}),t.declaredPipes.forEach(function(e){return r.set(e.reference,t)})}),e.directives.forEach(function(e){return t.add(e)}),e.pipes.forEach(function(e){return t.add(e)})});var i=[];return t.forEach(function(e){r.has(e)||i.push(e)}),{ngModules:n,ngModuleByPipeOrDirective:r,symbolsMissingModule:i,files:e}}function J_(e){return X_(Y_(e))}var Z_="ngFormattedMessage";function eE(e){var t=kr(function e(t,n){if(void 0===n&&(n=0),!t)return"";var r=t.position?t.position.fileName+"("+(t.position.line+1)+","+(t.position.column+1)+")":"",i=(r&&0===n?r+": ":"")+t.message+(r&&0!==n?" at "+r:"");return function e(t){if(t<=0)return"";if(t<6)return[""," ","  ","   ","    ","     "][t];var n=e(Math.floor(t/2));return n+n+(t%2==1?" ":"")}(n)+i+(t.next&&"\n"+e(t.next,n+2)||"")}(e)+".");return t[Z_]=!0,t.chain=e,t.position=e.position,t}var tE="@angular/core",nE=/^\$.*\$$/,rE={__symbolic:"ignore"},iE=new Set(["useValue","useFactory","data","id","loadChildren"]);function oE(e){return e&&"ignore"==e.__symbolic}var sE=(uE.prototype.componentModuleUrl=function(e){var t=this.findSymbolDeclaration(e);return this.symbolResolver.getResourcePath(t)},uE.prototype.resolveExternalReference=function(e,t){var n=void 0;if(!t){var r=this.resolvedExternalReferences.get(n=e.moduleName+":"+e.name);if(r)return r}var i=this.symbolResolver.getSymbolByModule(e.moduleName,e.name,t),o=this.findSymbolDeclaration(i);return t||(this.symbolResolver.recordModuleNameForFileName(i.filePath,e.moduleName),this.symbolResolver.recordImportAs(o,i)),n&&this.resolvedExternalReferences.set(n,o),o},uE.prototype.findDeclaration=function(e,t,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(e,t,n))},uE.prototype.tryFindDeclaration=function(e,t,n){var r=this;return this.symbolResolver.ignoreErrorsFor(function(){return r.findDeclaration(e,t,n)})},uE.prototype.findSymbolDeclaration=function(e){var t=this.symbolResolver.resolveSymbol(e);if(t){var n=t.metadata;if(n&&"resolved"===n.__symbolic&&(n=n.symbol),n instanceof si)return this.findSymbolDeclaration(t.metadata)}return e},uE.prototype.tryAnnotations=function(e){var t=this.errorRecorder;this.errorRecorder=function(e,t){};try{return this.annotations(e)}finally{this.errorRecorder=t}},uE.prototype.annotations=function(e){var n=this;return this._annotations(e,function(e,t){return n.simplify(e,t)},this.annotationCache)},uE.prototype.shallowAnnotations=function(e){var n=this;return this._annotations(e,function(e,t){return n.simplify(e,t,!0)},this.shallowAnnotationCache)},uE.prototype._annotations=function(e,t,n){var r=n.get(e);if(!r){r=[];var i=this.getTypeMetadata(e),o=this.findParentType(e,i);if(o){var s=this.annotations(o);r.push.apply(r,H(s))}var a=[];if(i.decorators&&(a=t(e,i.decorators))&&r.push.apply(r,H(a)),o&&!this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(o.filePath)){var u=this.summaryResolver.resolveSummary(o);if(u&&u.type){var p=this.annotationForParentClassWithSummaryKind.get(u.type.summaryKind);p.some(function(t){return a.some(function(e){return t.isTypeOf(e)})})||this.reportError(CE(pE("Class "+e.name+" in "+e.filePath+" extends from a "+x.CompileSummaryKind[u.type.summaryKind]+" in another compilation unit without duplicating the decorator",void 0,"Please add a "+p.map(function(e){return e.ngMetadataName}).join(" or ")+" decorator to the class"),e),e)}}n.set(e,r.filter(function(e){return!!e}))}return r},uE.prototype.propMetadata=function(r){var i=this,o=this.propertyCache.get(r);if(!o){var e=this.getTypeMetadata(r);o={};var t=this.findParentType(r,e);if(t){var n=this.propMetadata(t);Object.keys(n).forEach(function(e){o[e]=n[e]})}var s=e.members||{};Object.keys(s).forEach(function(e){var t=s[e].find(function(e){return"property"==e.__symbolic||"method"==e.__symbolic}),n=[];o[e]&&n.push.apply(n,H(o[e])),o[e]=n,t&&t.decorators&&n.push.apply(n,H(i.simplify(r,t.decorators)))}),this.propertyCache.set(r,o)}return o},uE.prototype.parameters=function(o){var s=this;if(!(o instanceof si))return this.reportError(new Error("parameters received "+JSON.stringify(o)+" which is not a StaticSymbol"),o),[];try{var a=this.parameterCache.get(o);if(!a){var e=this.getTypeMetadata(o),t=this.findParentType(o,e),n=e?e.members:null,r=n?n.__ctor__:null;if(r){var i=r.find(function(e){return"constructor"==e.__symbolic}),u=i.parameters||[],p=this.simplify(o,i.parameterDecorators||[]);a=[],u.forEach(function(e,t){var n=[],r=s.trySimplify(o,e);r&&n.push(r);var i=p?p[t]:null;i&&n.push.apply(n,H(i)),a.push(n)})}else t&&(a=this.parameters(t));a=a||[],this.parameterCache.set(o,a)}return a}catch(s){throw console.error("Failed on type "+JSON.stringify(o)+" with error "+s),s}},uE.prototype._methodNames=function(e){var n=this.methodCache.get(e);if(!n){var t=this.getTypeMetadata(e);n={};var r=this.findParentType(e,t);if(r){var i=this._methodNames(r);Object.keys(i).forEach(function(e){n[e]=i[e]})}var o=t.members||{};Object.keys(o).forEach(function(e){var t=o[e].some(function(e){return"method"==e.__symbolic});n[e]=n[e]||t}),this.methodCache.set(e,n)}return n},uE.prototype._staticMembers=function(e){var t=this.staticCache.get(e);if(!t){var n=this.getTypeMetadata(e);t=Object.keys(n.statics||{}),this.staticCache.set(e,t)}return t},uE.prototype.findParentType=function(e,t){var n=this.trySimplify(e,t.extends);if(n instanceof si)return n},uE.prototype.hasLifecycleHook=function(e,t){e instanceof si||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(e)+" which is not a StaticSymbol"),e);try{return!!this._methodNames(e)[t]}catch(t){throw console.error("Failed on type "+JSON.stringify(e)+" with error "+t),t}},uE.prototype.guards=function(e){var t,n;if(!(e instanceof si))return this.reportError(new Error("guards received "+JSON.stringify(e)+" which is not a StaticSymbol"),e),{};var r=this._staticMembers(e),i={};try{for(var o=U(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.endsWith("TypeGuard")){var u=a.substr(0,a.length-"TypeGuard".length),p=void 0;p=u.endsWith("UseIf")?(u=a.substr(0,u.length-"UseIf".length),"UseIf"):this.getStaticSymbol(e.filePath,e.name,[a]),i[u]=p}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},uE.prototype._registerDecoratorOrConstructor=function(e,n){this.conversionMap.set(e,function(e,t){return new(n.bind.apply(n,H([void 0],t)))})},uE.prototype._registerFunction=function(e,n){this.conversionMap.set(e,function(e,t){return n.apply(void 0,t)})},uE.prototype.initializeConversionMap=function(){this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Injectable"),Y),this.injectionToken=this.findDeclaration(tE,"InjectionToken"),this.opaqueToken=this.findDeclaration(tE,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(tE,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Host"),re),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Self"),te),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"SkipSelf"),ne),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Inject"),g),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Optional"),ee),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Attribute"),E),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"ContentChild"),w),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"ContentChildren"),S),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"ViewChild"),b),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"ViewChildren"),C),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Input"),K),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Output"),Q),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Pipe"),z),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"HostBinding"),X),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"HostListener"),G),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Directive"),T),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Component"),W),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"NgModule"),$),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Host"),re),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Self"),te),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"SkipSelf"),ne),this._registerDecoratorOrConstructor(this.findDeclaration(tE,"Optional"),ee)},uE.prototype.getStaticSymbol=function(e,t,n){return this.symbolResolver.getStaticSymbol(e,t,n)},uE.prototype.trySimplify=function(e,t){var n=this.errorRecorder;this.errorRecorder=function(e,t){};var r=this.simplify(e,t);return this.errorRecorder=n,r},uE.prototype.simplify=function(e,t,n){void 0===n&&(n=!1);var r,B=this,V=EE.empty,j=new Map;try{r=function I(k,e,R,O){function D(e){var t=B.symbolResolver.resolveSymbol(e);return t?t.metadata:null}function F(e){return I(k,e,R,0)}function L(t,e){if(t===k)return I(t,e,R+1,O);try{return I(t,e,R+1,O)}catch(e){if(!lE(e))throw e;var n=e.chain?"references '"+e.symbol.name+"'":function(e){if(e.summary)return e.summary;switch(e.message){case cE:if(e.context&&e.context.className)return"references non-exported class "+e.context.className;break;case hE:return"is not initialized";case fE:return"is a destructured variable";case dE:return"could not be resolved";case vE:return e.context&&e.context.name?"calls '"+e.context.name+"'":"calls a function";case mE:return e.context&&e.context.name?"references local variable "+e.context.name:"references a local variable"}return"contains the error"}(e);B.error({message:e.message,advise:e.advise,context:e.context,chain:{message:"'"+t.name+"' "+n,position:e.position,next:e.chain},symbol:t},k)}}return function v(r){var t,e,n,i;if(gE(r))return r;if(r instanceof Array){var o=[];try{for(var s=U(r),a=s.next();!a.done;a=s.next()){var u=a.value;if(u&&"spread"===u.__symbolic){var p=F(u.expression);if(Array.isArray(p)){try{for(var l=U(p),c=l.next();!c.done;c=l.next())o.push(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}continue}}var h=v(u);oE(h)||o.push(h)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}if(r instanceof si)return r===B.injectionToken||B.conversionMap.has(r)||0<O&&!r.members.length?r:null!=(C=D(f=r))?L(f,C):f;if(r){if(r.__symbolic){var f=void 0;switch(r.__symbolic){case"binop":var d=v(r.left);if(oE(d))return d;var m=v(r.right);if(oE(m))return m;switch(r.operator){case"&&":return d&&m;case"||":return d||m;case"|":return d|m;case"^":return d^m;case"&":return d&m;case"==":return d==m;case"!=":return d!=m;case"===":return d===m;case"!==":return d!==m;case"<":return d<m;case">":return m<d;case"<=":return d<=m;case">=":return m<=d;case"<<":return d<<m;case">>":return d>>m;case"+":return d+m;case"-":return d-m;case"*":return d*m;case"/":return d/m;case"%":return d%m}return null;case"if":var y=v(r.condition);return v(y?r.thenExpression:r.elseExpression);case"pre":var g=v(r.operand);if(oE(g))return g;switch(r.operator){case"+":return g;case"-":return-g;case"!":return!g;case"~":return~g}return null;case"index":var _=F(r.expression),E=F(r.index);return _&&gE(E)?_[E]:null;case"select":var S=r.member,x=k,w=v(r.expression);if(w instanceof si){var C,b=w.members.concat(S);return null!=(C=D(x=B.getStaticSymbol(w.filePath,w.name,b)))?L(x,C):x}return w&&gE(S)?L(x,w[S]):null;case"reference":var T=V.resolve(r.name);if(T!=EE.missing)return T;break;case"resolved":try{return v(r.symbol)}catch(e){throw lE(e)&&null!=r.fileName&&null!=r.line&&null!=r.character&&(e.position={fileName:r.fileName,line:r.line,column:r.character}),e}case"class":case"function":return k;case"new":case"call":if((f=I(k,r.expression,R+1,0))instanceof si){if(f===B.injectionToken||f===B.opaqueToken)return k;var P=r.arguments||[],N=B.conversionMap.get(f);if(N){var M=P.map(function(e){return L(k,e)}).map(function(e){return oE(e)?void 0:e});return N(k,M)}return function(e,t,n,r){if(t&&"function"==t.__symbolic){j.get(e)&&B.error({message:"Recursion is not supported",summary:"called '"+e.name+"' recursively",value:t},e);try{var i=t.value;if(i&&(0!=R||"error"!=i.__symbolic)){var o=t.parameters,s=t.defaults;n=n.map(function(e){return L(k,e)}).map(function(e){return oE(e)?void 0:e}),s&&s.length>n.length&&n.push.apply(n,H(s.slice(n.length).map(function(e){return v(e)}))),j.set(e,!0);for(var a=EE.build(),u=0;u<o.length;u++)a.define(o[u],n[u]);var p,l=V;try{V=a.done(),p=L(e,i)}finally{V=l}return p}}finally{j.delete(e)}}if(0===R)return rE;var c=void 0;if(r&&"resolved"==r.__symbolic){var h=r.line,f=r.character,d=r.fileName;null!=d&&null!=h&&null!=f&&(c={fileName:d,line:h,column:f})}B.error({message:vE,context:e,value:t,position:c},k)}(f,D(f),P,r.expression)}return rE;case"error":var A=r.message;return B.error(null!=r.line?{message:A,context:r.context,value:r,position:{fileName:r.fileName,line:r.line,column:r.character}}:{message:A,context:r.context},k),rE;case"ignore":return r}return null}return function(n,r){if(!n)return{};var i={};return Object.keys(n).forEach(function(e){var t=r(n[e],e);oE(t)||(nE.test(e)?Object.defineProperty(i,e,{enumerable:!1,configurable:!0,value:t}):i[e]=t)}),i}(r,function(e,t){if(iE.has(t)){if("useValue"===t&&"provide"in r){var n=v(r.provide);if(n===B.ROUTES||n==B.ANALYZE_FOR_ENTRY_COMPONENTS)return v(e)}return I(k,e,R,O+1)}return v(e)})}return rE}(e)}(e,t,0,n?1:0)}catch(t){if(!this.errorRecorder)throw CE(t,e);this.reportError(t,e)}if(!oE(r))return r},uE.prototype.getTypeMetadata=function(e){var t=this.symbolResolver.resolveSymbol(e);return t&&t.metadata?t.metadata:{__symbolic:"class"}},uE.prototype.reportError=function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(CE(e,t),t&&t.filePath||n)},uE.prototype.error=function(e,t){this.reportError(pE(e.message,e.summary,e.advise,e.position,e.symbol,e.context,e.chain),t)},uE),aE="ngMetadataError";function uE(e,t,n,r,i){var o=this;void 0===n&&(n=[]),void 0===r&&(r=[]),this.summaryResolver=e,this.symbolResolver=t,this.errorRecorder=i,this.annotationCache=new Map,this.shallowAnnotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),n.forEach(function(e){return o._registerDecoratorOrConstructor(o.getStaticSymbol(e.filePath,e.name),e.ctor)}),r.forEach(function(e){return o._registerFunction(o.getStaticSymbol(e.filePath,e.name),e.fn)}),this.annotationForParentClassWithSummaryKind.set(x.CompileSummaryKind.Directive,[T,W]),this.annotationForParentClassWithSummaryKind.set(x.CompileSummaryKind.Pipe,[z]),this.annotationForParentClassWithSummaryKind.set(x.CompileSummaryKind.NgModule,[$]),this.annotationForParentClassWithSummaryKind.set(x.CompileSummaryKind.Injectable,[Y,z,T,W,$])}function pE(e,t,n,r,i,o,s){var a=kr(e);return a[aE]=!0,n&&(a.advise=n),r&&(a.position=r),t&&(a.summary=t),o&&(a.context=o),s&&(a.chain=s),i&&(a.symbol=i),a}function lE(e){return!!e[aE]}var cE="Reference to non-exported class",hE="Variable not initialized",fE="Destructuring not supported",dE="Could not resolve type",vE="Function call not supported",mE="Reference to a local symbol",yE="Lambda not supported";function gE(e){return null===e||"function"!=typeof e&&"object"!=typeof e}var _E,EE=(wE.build=function(){var n=new Map;return{define:function(e,t){return n.set(e,t),this},done:function(){return 0<n.size?new SE(n):wE.empty}}},wE.missing={},wE.empty={resolve:function(e){return wE.missing}},wE),SE=(a(xE,_E=EE),xE.prototype.resolve=function(e){return this.bindings.has(e)?this.bindings.get(e):EE.missing},xE);function xE(e){var t=_E.call(this)||this;return t.bindings=e,t}function wE(){}function CE(e,t){return lE(e)?eE(function e(t,n){return{message:function(e,t){switch(e){case cE:if(t&&t.className)return"References to a non-exported class are not supported in decorators but "+t.className+" was referenced.";break;case hE:return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case fE:return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case dE:if(t&&t.typeName)return"Could not resolve type "+t.typeName;break;case vE:return t&&t.name?"Function calls are not supported in decorators but '"+t.name+"' was called":"Function calls are not supported in decorators";case mE:if(t&&t.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '"+t.name+"' was referenced";break;case yE:return"Function expressions are not supported in decorators"}return e}(t.message,t.context)+(t.symbol?" in '"+t.symbol.name+"'":""),position:t.position,next:t.next?e(t.next,n):n?{message:n}:void 0}}({message:"Error during template compile of '"+t.name+"'",position:e.position,next:{message:e.message,next:e.chain,context:e.context,symbol:e.symbol}},e.advise||function(e,t){switch(e){case cE:if(t&&t.className)return"Consider exporting '"+t.className+"'";break;case fE:return"Consider simplifying to avoid destructuring";case mE:if(t&&t.name)return"Consider exporting '"+t.name+"'";break;case yE:return"Consider changing the function expression into an exported function"}}(e.message,e.context))):e}var bE=(TE.prototype.isLibraryFile=function(e){return!this.host.isSourceFile(sg(e))},TE.prototype.toSummaryFileName=function(e,t){return this.host.toSummaryFileName(e,t)},TE.prototype.fromSummaryFileName=function(e,t){return this.host.fromSummaryFileName(e,t)},TE.prototype.resolveSummary=function(e){var t=e.members.length?this.staticSymbolCache.get(e.filePath,e.name):e,n=this.summaryCache.get(t);return n||(this._loadSummaryFile(e.filePath),n=this.summaryCache.get(e)),t===e&&n||null},TE.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t)?Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t}):null},TE.prototype.getImportAs=function(e){return e.assertNoMembers(),this.importAs.get(e)},TE.prototype.getKnownModuleName=function(e){return this.knownFileNameToModuleNames.get(e)||null},TE.prototype.addSummary=function(e){this.summaryCache.set(e.symbol,e)},TE.prototype._loadSummaryFile=function(e){var t=this,n=this.loadedFilePaths.get(e);if(null!=n)return n;var r,i,o,s=null;if(this.isLibraryFile(e)){var a=pg(e);try{s=this.host.loadSummary(a)}catch(e){throw console.error("Error loading summary file "+a),e}}if(this.loadedFilePaths.set(e,n=null!=s),s){var u=(r=this.staticSymbolCache,i=e,o=s,new F_(r,this).deserialize(i,o)),p=u.moduleName,l=u.importAs;u.summaries.forEach(function(e){return t.summaryCache.set(e.symbol,e)}),p&&this.knownFileNameToModuleNames.set(e,p),l.forEach(function(e){t.importAs.set(e.symbol,e.importAs)})}return n},TE);function TE(e,t){this.host=e,this.staticSymbolCache=t,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}function PE(r){return{resolve:function(e,t){var n=r.resourceNameToFileName(t,e);if(!n)throw kr("Couldn't resolve resource "+t+" from "+e);return n}}}var NE=(ME.prototype.isLibraryFile=function(){return!1},ME.prototype.toSummaryFileName=function(e){return e},ME.prototype.fromSummaryFileName=function(e){return e},ME.prototype.resolveSummary=function(e){return this._summaries.get(e)||null},ME.prototype.getSymbolsOf=function(){return[]},ME.prototype.getImportAs=function(e){return e},ME.prototype.getKnownModuleName=function(e){return null},ME.prototype.addSummary=function(e){this._summaries.set(e.symbol,e)},ME);function ME(){this._summaries=new Map}function AE(e,t,n,r,i){for(var o=r.createChildWihtLocalVars(),s=0;s<e.length;s++)o.vars.set(e[s],t[s]);var a=i.visitAllStatements(n,o);return a?a.value:null}function IE(e){this.value=e}var kE=(DE.prototype.createChildWihtLocalVars=function(){return new DE(this,this.instance,this.className,new Map)},DE),RE=(OE.prototype.debugAst=function(e){return Lg(e)},OE.prototype.visitDeclareVarStmt=function(e,t){var n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(x.StmtModifier.Exported)&&t.exports.push(e.name),null},OE.prototype.visitWriteVarExpr=function(e,t){for(var n=e.value.visitExpression(this,t),r=t;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error("Not declared variable "+e.name)},OE.prototype.visitWrappedNodeExpr=function(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")},OE.prototype.visitTypeofExpr=function(e,t){throw new Error("Cannot interpret a TypeofExpr")},OE.prototype.visitReadVarExpr=function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case x.BuiltinVar.Super:return t.instance.__proto__;case x.BuiltinVar.This:return t.instance;case x.BuiltinVar.CatchError:n=LE;break;case x.BuiltinVar.CatchStack:n=BE;break;default:throw new Error("Unknown builtin variable "+e.builtin)}for(var r=t;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable "+n)},OE.prototype.visitWriteKeyExpr=function(e,t){var n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i},OE.prototype.visitWritePropExpr=function(e,t){var n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r},OE.prototype.visitInvokeMethodExpr=function(e,t){var n,r=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(null!=e.builtin)switch(e.builtin){case x.BuiltinMethod.ConcatArray:n=r.concat.apply(r,H(i));break;case x.BuiltinMethod.SubscribeObservable:n=r.subscribe({next:i[0]});break;case x.BuiltinMethod.Bind:n=r.bind.apply(r,H(i));break;default:throw new Error("Unknown builtin method "+e.builtin)}else n=r[e.name].apply(r,i);return n},OE.prototype.visitInvokeFunctionExpr=function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.fn;return r instanceof We&&r.builtin===x.BuiltinVar.Super?(t.instance.constructor.prototype.constructor.apply(t.instance,n),null):e.fn.visitExpression(this,t).apply(null,n)},OE.prototype.visitReturnStmt=function(e,t){return new IE(e.value.visitExpression(this,t))},OE.prototype.visitDeclareClassStmt=function(e,t){var n=function(o,s,a){var e={};function t(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=new kE(s,this,o.name,s.vars);o.fields.forEach(function(e){t[e.name]=void 0}),AE(i,e,o.constructorMethod.body,r,a)}o.getters.forEach(function(t){e[t.name]={configurable:!1,get:function(){var e=new kE(s,this,o.name,s.vars);return AE([],[],t.body,e,a)}}}),o.methods.forEach(function(r){var i=r.params.map(function(e){return e.name});e[r.name]={writable:!1,configurable:!1,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new kE(s,this,o.name,s.vars);return AE(i,e,r.body,n,a)}}});var i=o.constructorMethod.params.map(function(e){return e.name}),n=o.parent?o.parent.visitExpression(a,s):Object;return t.prototype=Object.create(n.prototype,e),t}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(x.StmtModifier.Exported)&&t.exports.push(e.name),null},OE.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},OE.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null},OE.prototype.visitTryCatchStmt=function(t,n){try{return this.visitAllStatements(t.bodyStmts,n)}catch(e){var r=n.createChildWihtLocalVars();return r.vars.set(LE,e),r.vars.set(BE,e.stack),this.visitAllStatements(t.catchStmts,r)}},OE.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},OE.prototype.visitCommentStmt=function(e,t){return null},OE.prototype.visitJSDocCommentStmt=function(e,t){return null},OE.prototype.visitInstantiateExpr=function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.classExpr.visitExpression(this,t);return new(r.bind.apply(r,H([void 0],n)))},OE.prototype.visitLiteralExpr=function(e,t){return e.value},OE.prototype.visitExternalExpr=function(e,t){return this.reflector.resolveExternalReference(e.value)},OE.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null},OE.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},OE.prototype.visitAssertNotNullExpr=function(e,t){return e.condition.visitExpression(this,t)},OE.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},OE.prototype.visitFunctionExpr=function(e,t){return FE(e.params.map(function(e){return e.name}),e.statements,t,this)},OE.prototype.visitDeclareFunctionStmt=function(e,t){var n=e.params.map(function(e){return e.name});return t.vars.set(e.name,FE(n,e.statements,t,this)),e.hasModifier(x.StmtModifier.Exported)&&t.exports.push(e.name),null},OE.prototype.visitBinaryOperatorExpr=function(e,t){function n(){return e.lhs.visitExpression(i,t)}function r(){return e.rhs.visitExpression(i,t)}var i=this;switch(e.operator){case x.BinaryOperator.Equals:return n()==r();case x.BinaryOperator.Identical:return n()===r();case x.BinaryOperator.NotEquals:return n()!=r();case x.BinaryOperator.NotIdentical:return n()!==r();case x.BinaryOperator.And:return n()&&r();case x.BinaryOperator.Or:return n()||r();case x.BinaryOperator.Plus:return n()+r();case x.BinaryOperator.Minus:return n()-r();case x.BinaryOperator.Divide:return n()/r();case x.BinaryOperator.Multiply:return n()*r();case x.BinaryOperator.Modulo:return n()%r();case x.BinaryOperator.Lower:return n()<r();case x.BinaryOperator.LowerEquals:return n()<=r();case x.BinaryOperator.Bigger:return n()>r();case x.BinaryOperator.BiggerEquals:return n()>=r();default:throw new Error("Unknown operator "+e.operator)}},OE.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t)[e.name]},OE.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]},OE.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},OE.prototype.visitLiteralMapExpr=function(e,t){var n=this,r={};return e.entries.forEach(function(e){return r[e.key]=e.value.visitExpression(n,t)}),r},OE.prototype.visitCommaExpr=function(e,t){var n=this.visitAllExpressions(e.parts,t);return n[n.length-1]},OE.prototype.visitAllExpressions=function(e,t){var n=this;return e.map(function(e){return e.visitExpression(n,t)})},OE.prototype.visitAllStatements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].visitStatement(this,t);if(r instanceof IE)return r}return null},OE);function OE(e){this.reflector=e}function DE(e,t,n,r){this.parent=e,this.instance=t,this.className=n,this.vars=r,this.exports=[]}function FE(n,r,i,o){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return AE(n,e,r,i,o)}}var LE="error",BE="stack",VE=(HE.prototype.compileModuleSync=function(e){return Tr(this._compileModuleAndComponents(e,!0))},HE.prototype.compileModuleAsync=function(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))},HE.prototype.compileModuleAndAllComponentsSync=function(e){return Tr(this._compileModuleAndAllComponents(e,!0))},HE.prototype.compileModuleAndAllComponentsAsync=function(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))},HE.prototype.getComponentFactory=function(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory},HE.prototype.loadAotSummaries=function(e){this.clearCache(),this._addAotSummaries(e)},HE.prototype._addAotSummaries=function(e){if(!this._addedAotSummaries.has(e)){this._addedAotSummaries.add(e);for(var t=e(),n=0;n<t.length;n++){var r=t[n];"function"==typeof r?this._addAotSummaries(r):this._summaryResolver.addSummary({symbol:r.type.reference,metadata:null,type:r})}}},HE.prototype.hasAotSummary=function(e){return!!this._summaryResolver.resolveSummary(e)},HE.prototype._filterJitIdentifiers=function(e){var t=this;return e.map(function(e){return e.reference}).filter(function(e){return!t.hasAotSummary(e)})},HE.prototype._compileModuleAndComponents=function(e,t){var n=this;return Pr(this._loadModules(e,t),function(){return n._compileComponents(e,null),n._compileModule(e)})},HE.prototype._compileModuleAndAllComponents=function(t,e){var n=this;return Pr(this._loadModules(t,e),function(){var e=[];return n._compileComponents(t,e),{ngModuleFactory:n._compileModule(t),componentFactories:e}})},HE.prototype._loadModules=function(e,r){var i=this,o=[],t=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(t.transitiveModule.modules).forEach(function(e){var n=i._metadataResolver.getNgModuleMetadata(e);i._filterJitIdentifiers(n.declaredDirectives).forEach(function(e){var t=i._metadataResolver.loadDirectiveMetadata(n.type.reference,e,r);t&&o.push(t)}),i._filterJitIdentifiers(n.declaredPipes).forEach(function(e){return i._metadataResolver.getOrLoadPipeMetadata(e)})}),Nr(o)},HE.prototype._compileModule=function(e){var t=this._compiledNgModuleCache.get(e);if(!t){var n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=WE(),o=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(Vi(n),i.statements)[o.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t},HE.prototype._compileComponents=function(e,i){var o=this,t=this._metadataResolver.getNgModuleMetadata(e),s=new Map,a=new Set,n=this._filterJitIdentifiers(t.transitiveModule.modules);n.forEach(function(e){var r=o._metadataResolver.getNgModuleMetadata(e);o._filterJitIdentifiers(r.declaredDirectives).forEach(function(e){s.set(e,r);var t=o._metadataResolver.getDirectiveMetadata(e);if(t.isComponent&&(a.add(o._createCompiledTemplate(t,r)),i)){var n=o._createCompiledHostTemplate(t.type.reference,r);a.add(n),i.push(t.componentFactory)}})}),n.forEach(function(e){var t=o._metadataResolver.getNgModuleMetadata(e);o._filterJitIdentifiers(t.declaredDirectives).forEach(function(e){var t=o._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(function(e){var t=s.get(e.componentType);a.add(o._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(function(e){if(!o.hasAotSummary(e.componentType)){var t=s.get(e.componentType);a.add(o._createCompiledHostTemplate(e.componentType,t))}})}),a.forEach(function(e){return o._compileTemplate(e)})},HE.prototype.clearCacheFor=function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)},HE.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},HE.prototype._createCompiledHostTemplate=function(e,t){if(!t)throw new Error("Component "+Br(e)+" is not part of any NgModule or the module has not been imported into your module.");var n=this._compiledHostTemplateCache.get(e);if(!n){var r=this._metadataResolver.getDirectiveMetadata(e);qE(r);var i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new jE(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n},HE.prototype._createCompiledTemplate=function(e,t){var n=this._compiledTemplateCache.get(e.type.reference);return n||(qE(e),n=new jE(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n},HE.prototype._compileTemplate=function(e){var n=this;if(!e.isCompiled){var r=e.compMeta,i=new Map,t=WE(),o=this._styleCompiler.compileComponent(t,r);r.template.externalStylesheets.forEach(function(e){var t=n._styleCompiler.compileStyles(WE(),r,e);i.set(e.moduleUrl,t)}),this._resolveStylesCompileResult(o,i),e.ngModule.transitiveModule.pipes.map(function(e){return n._metadataResolver.getPipeSummary(e.reference)});var s=this._parseTemplate(r,e.ngModule,e.directives),a=s.pipes,u=this._viewCompiler.compileComponent(t,r,s.template,lr(o.stylesVar),a),p=this._interpretOrJit(ji(e.ngModule.type,e.compMeta),t.statements);e.compiled(p[u.viewClassVar],p[u.rendererTypeVar])}},HE.prototype._parseTemplate=function(e,t,n){var r=this,i=e.template.preserveWhitespaces,o=n.map(function(e){return r._metadataResolver.getDirectiveSummary(e.reference)}),s=t.transitiveModule.pipes.map(function(e){return r._metadataResolver.getPipeSummary(e.reference)});return this._templateParser.parse(e,e.template.htmlAst,o,s,t.schemas,Li(t.type,e,e.template),i)},HE.prototype._resolveStylesCompileResult=function(e,i){var o=this;e.dependencies.forEach(function(e,t){var n=i.get(e.moduleUrl),r=o._resolveAndEvalStylesCompileResult(n,i);e.setValue(r)})},HE.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(Bi(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]},HE.prototype._interpretOrJit=function(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){var n=new kE(null,null,null,new Map);new RE(t).visitAllStatements(e,n);var r={};return n.exports.forEach(function(e){r[e]=n.vars.get(e)}),r}(t,this._reflector)},HE),jE=(UE.prototype.compiled=function(e,t){for(var n in this._viewClass=e,this.compMeta.componentViewType.setDelegate(e),t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0},UE);function UE(e,t,n,r,i){this.isHost=e,this.compType=t,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}function HE(e,t,n,r,i,o,s,a,u,p,l){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=o,this._reflector=s,this._jitEvaluator=a,this._compilerConfig=u,this._console=p,this.getExtraNgModuleProviders=l,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}function qE(e){if(!e.isComponent)throw new Error("Could not compile '"+di(e.type)+"' because it is not a component.")}function WE(){return{statements:[],genFilePath:"",importExpr:function(e){return cr({name:di(e),moduleName:null,runtime:e})},constantPool:new Xr}}var zE,KE,QE=(GE.prototype.resolve=function(e,t){var n=t;null!=e&&0<e.length&&(n=function(e,t){var n=$E(encodeURI(t)),r=$E(e);if(null!=n[zE.Scheme])return YE(n);n[zE.Scheme]=r[zE.Scheme];for(var i=zE.Scheme;i<=zE.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[zE.Path][0])return YE(n);var o=r[zE.Path];null==o&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+n[zE.Path],n[zE.Path]=o,YE(n)}(e,n));var r=$E(n),i=this._packagePrefix;if(null==i||null==r||"package"!=r[zE.Scheme])return n;var o=r[zE.Path];return(i=i.replace(/\/+$/,""))+"/"+o.replace(/^\/+/,"")},GE),XE=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function GE(e){void 0===e&&(e=null),this._packagePrefix=e}function $E(e){return e.match(XE)}function YE(e){var t,n,r,i,o,s,a,u,p=e[zE.Path];return p=null==p?"":function(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],o=0,s=0;s<r.length;s++){var a=r[s];switch(a){case"":case".":break;case"..":0<i.length?i.pop():o++;break;default:i.push(a)}}if(!t){for(;0<o--;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(p),e[zE.Path]=p,t=e[zE.Scheme],n=e[zE.UserInfo],r=e[zE.Domain],i=e[zE.Port],o=p,s=e[zE.QueryData],a=e[zE.Fragment],u=[],null!=t&&u.push(t+":"),null!=r&&(u.push("//"),null!=n&&u.push(n+"@"),u.push(r),null!=i&&u.push(":"+i)),null!=o&&u.push(o),null!=s&&u.push("?"+s),null!=a&&u.push("#"+a),u.join("")}(KE=zE=zE||{})[KE.Scheme=1]="Scheme",KE[KE.UserInfo=2]="UserInfo",KE[KE.Domain=3]="Domain",KE[KE.Port=4]="Port",KE[KE.Path=5]="Path",KE[KE.QueryData=6]="QueryData",KE[KE.Fragment=7]="Fragment";var JE,ZE=(lS.prototype.extract=function(e){var o=this,t=Q_(e,this.host,this.staticSymbolResolver,this.metadataResolver),n=t.files;return Promise.all(t.ngModules.map(function(e){return o.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)})).then(function(){var i=[];if(n.forEach(function(e){var n=[];e.directives.forEach(function(e){var t=o.metadataResolver.getDirectiveMetadata(e);t&&t.isComponent&&n.push(t)}),n.forEach(function(e){var t=e.template.template,n=e.template.templateUrl,r=Ea.fromArray(e.template.interpolation);i.push.apply(i,H(o.messageBundle.updateFromTemplate(t,n,r)))})}),i.length)throw new Error(i.map(function(e){return e.toString()}).join("\n"));return o.messageBundle})},lS.create=function(t,e){var n=new Sh,r=PE(t),i=new ai,o=new bE(t,i),s=new P_(t,i,o),a=new sE(o,s),u=new qm({defaultEncapsulation:D.Emulated,useJit:!1}),p=new Km({get:function(e){return t.loadResource(e)}},r,n,u),l=new iv,c=new yg(u,n,new Og(a),new Gm(a),new Hg(a),o,l,p,console,i,a),h=new m_(n,[],{},e);return{extractor:new lS(t,s,h,c),staticReflector:a}},lS),eS=(pS.prototype.bind=function(e){if(!e.template)throw new Error("Binding without a template not yet supported");var t=tS.apply(e.template),n=nS.apply(e.template,this.directiveMatcher),r=n.directives,i=n.bindings,o=n.references,s=rS.apply(e.template,t);return new iS(e,r,i,o,s.expressions,s.symbols,s.nestingLevel,s.usedPipes)},pS),tS=(uS.apply=function(e){var t=new uS;return t.ingest(e),t},uS.prototype.ingest=function(e){var t=this;e instanceof Gi?(e.variables.forEach(function(e){return t.visitVariable(e)}),e.children.forEach(function(e){return e.visit(t)})):e.forEach(function(e){return e.visit(t)})},uS.prototype.visitElement=function(e){var t=this;e.references.forEach(function(e){return t.visitReference(e)}),e.children.forEach(function(e){return e.visit(t)})},uS.prototype.visitTemplate=function(e){var t=this;e.references.forEach(function(e){return t.visitReference(e)});var n=new uS(this);n.ingest(e),this.childScopes.set(e,n)},uS.prototype.visitVariable=function(e){this.maybeDeclare(e)},uS.prototype.visitReference=function(e){this.maybeDeclare(e)},uS.prototype.visitContent=function(e){},uS.prototype.visitBoundAttribute=function(e){},uS.prototype.visitBoundEvent=function(e){},uS.prototype.visitBoundText=function(e){},uS.prototype.visitText=function(e){},uS.prototype.visitTextAttribute=function(e){},uS.prototype.visitIcu=function(e){},uS.prototype.maybeDeclare=function(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)},uS.prototype.lookup=function(e){return this.namedEntities.has(e)?this.namedEntities.get(e):void 0!==this.parentScope?this.parentScope.lookup(e):null},uS.prototype.getChildScope=function(e){var t=this.childScopes.get(e);if(void 0===t)throw new Error("Assertion error: child scope for "+e+" not found");return t},uS),nS=(aS.apply=function(e,t){var n=new Map,r=new Map,i=new Map;return new aS(t,n,r,i).ingest(e),{directives:n,bindings:r,references:i}},aS.prototype.ingest=function(e){var t=this;e.forEach(function(e){return e.visit(t)})},aS.prototype.visitElement=function(e){this.visitElementOrTemplate(e.name,e)},aS.prototype.visitTemplate=function(e){this.visitElementOrTemplate("ng-template",e)},aS.prototype.visitElementOrTemplate=function(e,n){var r=this,i=new V;i.setElement(e);var o=oa(n);Object.getOwnPropertyNames(o).forEach(function(e){var t=o[e];i.addAttribute(e,t),"class"===e.toLowerCase()&&t.trim().split(/\s+/g).forEach(function(e){return i.addClassName(e)})});var s=[];function t(t){var e=s.find(function(e){return e.inputs.hasOwnProperty(t.name)});r.bindings.set(t,void 0!==e?e:n)}this.matcher.match(i,function(e,t){return s.push(t)}),0<s.length&&this.directives.set(n,s),n.references.forEach(function(t){var e=null;if(""===t.value.trim())e=s.find(function(e){return e.isComponent})||null;else if(null===(e=s.find(function(e){return null!==e.exportAs&&e.exportAs.some(function(e){return e===t.value})})||null))throw new Error("Assertion error: failed to find directive with exportAs: "+t.value);r.references.set(t,null!==e?{directive:e,node:n}:n)}),n.attributes.forEach(t),n.inputs.forEach(t),n.outputs.forEach(t),n instanceof Gi&&n.templateAttrs.forEach(t),n.children.forEach(function(e){return e.visit(r)})},aS.prototype.visitContent=function(e){},aS.prototype.visitVariable=function(e){},aS.prototype.visitReference=function(e){},aS.prototype.visitTextAttribute=function(e){},aS.prototype.visitBoundAttribute=function(e){},aS.prototype.visitBoundEvent=function(e){},aS.prototype.visitBoundAttributeOrEvent=function(e){},aS.prototype.visitText=function(e){},aS.prototype.visitBoundText=function(e){},aS.prototype.visitIcu=function(e){},aS),rS=(a(sS,JE=Lp),sS.apply=function(e,t){var n=new Map,r=new Map,i=new Map,o=new Set;return new sS(n,r,o,i,t,e instanceof Gi?e:null,0).ingest(e),{expressions:n,symbols:r,nestingLevel:i,usedPipes:o}},sS.prototype.ingest=function(e){e instanceof Gi?(e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)},sS.prototype.visitElement=function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode)},sS.prototype.visitTemplate=function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode);var t=this.scope.getChildScope(e);new sS(this.bindings,this.symbols,this.usedPipes,this.nestingLevel,t,e,this.level+1).ingest(e)},sS.prototype.visitVariable=function(e){null!==this.template&&this.symbols.set(e,this.template)},sS.prototype.visitReference=function(e){null!==this.template&&this.symbols.set(e,this.template)},sS.prototype.visitText=function(e){},sS.prototype.visitContent=function(e){},sS.prototype.visitTextAttribute=function(e){},sS.prototype.visitIcu=function(e){},sS.prototype.visitBoundAttribute=function(e){e.value.visit(this)},sS.prototype.visitBoundEvent=function(e){e.handler.visit(this)},sS.prototype.visitBoundText=function(e){e.value.visit(this)},sS.prototype.visitPipe=function(e,t){return this.usedPipes.add(e.name),JE.prototype.visitPipe.call(this,e,t)},sS.prototype.visitPropertyRead=function(e,t){return this.maybeMap(t,e,e.name),JE.prototype.visitPropertyRead.call(this,e,t)},sS.prototype.visitSafePropertyRead=function(e,t){return this.maybeMap(t,e,e.name),JE.prototype.visitSafePropertyRead.call(this,e,t)},sS.prototype.visitPropertyWrite=function(e,t){return this.maybeMap(t,e,e.name),JE.prototype.visitPropertyWrite.call(this,e,t)},sS.prototype.visitMethodCall=function(e,t){return this.maybeMap(t,e,e.name),JE.prototype.visitMethodCall.call(this,e,t)},sS.prototype.visitSafeMethodCall=function(e,t){return this.maybeMap(t,e,e.name),JE.prototype.visitSafeMethodCall.call(this,e,t)},sS.prototype.maybeMap=function(e,t,n){if(t.receiver instanceof mp){var r=this.scope.lookup(n);null!==r&&this.bindings.set(t,r)}},sS),iS=(oS.prototype.getDirectivesOfNode=function(e){return this.directives.get(e)||null},oS.prototype.getReferenceTarget=function(e){return this.references.get(e)||null},oS.prototype.getConsumerOfBinding=function(e){return this.bindings.get(e)||null},oS.prototype.getExpressionTarget=function(e){return this.exprTargets.get(e)||null},oS.prototype.getTemplateOfSymbol=function(e){return this.symbols.get(e)||null},oS.prototype.getNestingLevel=function(e){return this.nestingLevel.get(e)||0},oS.prototype.getUsedDirectives=function(){var t=new Set;return this.directives.forEach(function(e){return e.forEach(function(e){return t.add(e)})}),Array.from(t.values())},oS.prototype.getUsedPipes=function(){return Array.from(this.usedPipes)},oS);function oS(e,t,n,r,i,o,s,a){this.target=e,this.directives=t,this.bindings=n,this.references=r,this.exprTargets=i,this.symbols=o,this.nestingLevel=s,this.usedPipes=a}function sS(e,t,n,r,i,o,s){var a=JE.call(this)||this;return a.bindings=e,a.symbols=t,a.usedPipes=n,a.nestingLevel=r,a.scope=i,a.template=o,a.level=s,a.pipesUsed=[],a.visitNode=function(e){return e.visit(a)},a}function aS(e,t,n,r){this.matcher=e,this.directives=t,this.bindings=n,this.references=r}function uS(e){this.parentScope=e,this.namedEntities=new Map,this.childScopes=new Map}function pS(e){this.directiveMatcher=e}function lS(e,t,n,r){this.host=e,this.staticSymbolResolver=t,this.messageBundle=n,this.metadataResolver=r}Hm(zr),x.core=le,x.CompilerConfig=qm,x.preserveWhitespacesDefault=zm,x.isLoweredSymbol=vg,x.createLoweredSymbol=function(e){return"ɵ"+e},x.Identifiers=ni,x.JitCompiler=VE,x.ConstantPool=Xr,x.DirectiveResolver=Gm,x.PipeResolver=Hg,x.NgModuleResolver=Og,x.DEFAULT_INTERPOLATION_CONFIG=Sa,x.InterpolationConfig=Ea,x.NgModuleCompiler=Rg,x.ArrayType=Se,x.AssertNotNull=Pt,x.DYNAMIC_TYPE=we,x.BinaryOperatorExpr=It,x.BuiltinType=_e,x.CastExpr=Nt,x.ClassField=Cn,x.ClassMethod=bn,x.ClassStmt=Pn,x.CommaExpr=Lt,x.CommentStmt=Mn,x.ConditionalExpr=bt,x.DeclareFunctionStmt=En,x.DeclareVarStmt=_n,x.Expression=De,x.ExpressionStatement=Sn,x.ExpressionType=Ee,x.ExternalExpr=Ct,x.ExternalReference=nt,x.literalMap=vr,x.FunctionExpr=At,x.IfStmt=Nn,x.InstantiateExpr=xt,x.InvokeFunctionExpr=St,x.InvokeMethodExpr=Et,x.JSDocCommentStmt=An,x.LiteralArrayExpr=Ot,x.LiteralExpr=wt,x.LiteralMapExpr=Ft,x.MapType=xe,x.NotExpr=Tt,x.ReadKeyExpr=Rt,x.ReadPropExpr=kt,x.ReadVarExpr=We,x.ReturnStatement=xn,x.ThrowStmt=kn,x.TryCatchStmt=In,x.Type=he,x.WrappedNodeExpr=Ke,x.WriteKeyExpr=Xe,x.WritePropExpr=Ge,x.WriteVarExpr=Qe,x.Statement=gn,x.TypeofExpr=ze,x.collectExternalReferences=function(e){var t=new nr;return t.visitAllStatements(e,null),t.externalReferences},x.EmitterVisitorContext=Ra,x.JitEvaluator=Ha,x.ViewCompiler=Kg,x.findStaticQueryIds=l_,x.staticViewQueryIds=c_,x.getParseErrors=function(e){return e[Or]||[]},x.isSyntaxError=function(e){return e[Rr]},x.syntaxError=kr,x.Version=Ur,x.TmplAstBoundAttribute=Ki,x.TmplAstBoundEvent=Qi,x.TmplAstBoundText=Wi,x.TmplAstContent=$i,x.TmplAstElement=Xi,x.TmplAstReference=Ji,x.TmplAstTemplate=Gi,x.TmplAstText=qi,x.TmplAstTextAttribute=zi,x.TmplAstVariable=Yi,x.R3Identifiers=Hi,x.compileInjector=Fu,x.compileNgModule=Du,x.compilePipeFromMetadata=Vu,x.makeBindingParser=nm,x.parseTemplate=tm,x.compileBaseDefFromMetadata=cm,x.compileComponentFromMetadata=hm,x.compileDirectiveFromMetadata=lm,x.parseHostBindings=bm,x.verifyHostBindings=Tm,x.publishFacade=Hm,x.VERSION=Wm,x.TextAst=Vh,x.BoundTextAst=jh,x.AttrAst=Uh,x.BoundElementPropertyAst=qh,x.BoundEventAst=Wh,x.ReferenceAst=zh,x.VariableAst=Kh,x.ElementAst=Qh,x.EmbeddedTemplateAst=Xh,x.BoundDirectivePropertyAst=Gh,x.DirectiveAst=$h,x.ProviderAst=Yh,x.NgContentAst=df,x.NullTemplateVisitor=vf,x.RecursiveTemplateAstVisitor=mf,x.templateVisitAll=Ef,x.sanitizeIdentifier=ci,x.identifierName=di,x.identifierModuleUrl=vi,x.viewClassName=mi,x.rendererTypeName=yi,x.hostViewClassName=gi,x.componentFactoryName=_i,x.tokenName=Ei,x.tokenReference=Si,x.CompileStylesheetMetadata=xi,x.CompileTemplateMetadata=wi,x.CompileDirectiveMetadata=Ci,x.CompilePipeMetadata=bi,x.CompileShallowModuleMetadata=function(){},x.CompileNgModuleMetadata=Ti,x.TransitiveCompileNgModuleMetadata=Pi,x.ProviderMeta=Oi,x.flatten=Di,x.templateSourceUrl=Li,x.sharedStylesheetJitUrl=Bi,x.ngModuleJitUrl=Vi,x.templateJitUrl=ji,x.createAotUrlResolver=PE,x.createAotCompiler=function(t,e,n){var r,i=e.translations||"",o=PE(t),s=new ai,a=new bE(t,s),u=new P_(t,s,a),p=new sE(a,u,[],[],n);r=e.enableIvy?new Sh:new Ry(new Sh,i,e.i18nFormat,e.missingTranslation,console);var l=new qm({defaultEncapsulation:D.Emulated,useJit:!1,missingTranslation:e.missingTranslation,preserveWhitespaces:e.preserveWhitespaces,strictInjectionParameters:e.strictInjectionParameters}),c=new Km({get:function(e){return t.loadResource(e)}},o,r,l),h=new Kd(new Nd),f=new iv,d=new td(l,p,h,f,r,console,[]),v=new yg(l,r,new Og(p),new Gm(p),new Hg(p),a,f,c,console,s,p,n),m=new Kg(p),y=new qg(e,p);return{compiler:new U_(l,e,t,p,v,d,new vc(o),m,y,new Rg(p),new Zy(p,!!e.enableIvy),new jg,a,u),reflector:p}},x.AotCompiler=U_,x.analyzeNgModules=K_,x.analyzeAndValidateNgModules=Q_,x.analyzeFile=G_,x.analyzeFileForInjectables=$_,x.mergeAnalyzedFiles=Y_,x.GeneratedFile=g_,x.toTypeScript=function(e,t){if(void 0===t&&(t=""),!e.stmts)throw new Error("Illegal state: No stmts present on GeneratedFile "+e.genFileUrl);return(new jg).emitStatements(e.genFileUrl,e.stmts,t)},x.formattedError=eE,x.isFormattedError=function(e){return!!e[Z_]},x.StaticReflector=sE,x.StaticSymbol=si,x.StaticSymbolCache=ai,x.ResolvedStaticSymbol=b_,x.StaticSymbolResolver=P_,x.unescapeIdentifier=M_,x.unwrapResolvedMetadata=A_,x.AotSummaryResolver=bE,x.AstPath=Cc,x.SummaryResolver=function(){},x.JitSummaryResolver=NE,x.CompileReflector=function(){},x.createUrlResolverWithoutPackagePrefix=function(){return new QE},x.createOfflineCompileUrlResolver=function(){return new QE(".")},x.UrlResolver=QE,x.getUrlScheme=function(e){var t=$E(e);return t&&t[zE.Scheme]||""},x.ResourceLoader=Pm,x.ElementSchemaRegistry=ev,x.Extractor=ZE,x.I18NHtmlParser=Ry,x.MessageBundle=m_,x.Serializer=es,x.Xliff=Ey,x.Xliff2=Cy,x.Xmb=Ss,x.Xtb=Ny,x.DirectiveNormalizer=Km,x.ParserError=ju,x.ParseSpan=Uu,x.AST=fp,x.Quote=dp,x.EmptyExpr=vp,x.ImplicitReceiver=mp,x.Chain=yp,x.Conditional=gp,x.PropertyRead=_p,x.PropertyWrite=Ep,x.SafePropertyRead=Sp,x.KeyedRead=xp,x.KeyedWrite=wp,x.BindingPipe=Cp,x.LiteralPrimitive=bp,x.LiteralArray=Tp,x.LiteralMap=Pp,x.Interpolation=Np,x.Binary=Mp,x.PrefixNot=Ap,x.NonNullAssert=Ip,x.MethodCall=kp,x.SafeMethodCall=Rp,x.FunctionCall=Op,x.ASTWithSource=Dp,x.TemplateBinding=Hu,x.NullAstVisitor=Fp,x.RecursiveAstVisitor=Lp,x.AstTransformer=Bp,x.AstMemoryEfficientTransformer=Vp,x.visitAstChildren=function(e,t,n){function r(e){t.visit&&t.visit(e,n)||e.visit(t,n)}function i(e){e.forEach(r)}e.visit({visitBinary:function(e){r(e.left),r(e.right)},visitChain:function(e){i(e.expressions)},visitConditional:function(e){r(e.condition),r(e.trueExp),r(e.falseExp)},visitFunctionCall:function(e){e.target&&r(e.target),i(e.args)},visitImplicitReceiver:function(e){},visitInterpolation:function(e){i(e.expressions)},visitKeyedRead:function(e){r(e.obj),r(e.key)},visitKeyedWrite:function(e){r(e.obj),r(e.key),r(e.obj)},visitLiteralArray:function(e){i(e.expressions)},visitLiteralMap:function(e){},visitLiteralPrimitive:function(e){},visitMethodCall:function(e){r(e.receiver),i(e.args)},visitPipe:function(e){r(e.exp),i(e.args)},visitPrefixNot:function(e){r(e.expression)},visitNonNullAssert:function(e){r(e.expression)},visitPropertyRead:function(e){r(e.receiver)},visitPropertyWrite:function(e){r(e.receiver),r(e.value)},visitQuote:function(e){},visitSafeMethodCall:function(e){r(e.receiver),i(e.args)},visitSafePropertyRead:function(e){r(e.receiver)}})},x.ParsedProperty=qu,x.ParsedEvent=fl,x.ParsedVariable=dl,x.BoundElementProperty=vl,x.Lexer=Nd,x.Token=Md,x.EOF=Od,x.isIdentifier=Bd,x.isQuote=jd,x.SplitInterpolation=Hd,x.TemplateBindingParseResult=qd,x.Parser=Kd,x._ParseAST=Qd,x.ERROR_COMPONENT_TYPE="ngComponentType",x.CompileMetadataResolver=yg,x.Text=bc,x.Expansion=Tc,x.ExpansionCase=Pc,x.Attribute=Nc,x.Element=Mc,x.Comment=Ac,x.visitAll=Bc,x.RecursiveVisitor=Uc,x.findNode=function(e,r){var t,i=[];return Bc((a(n,t=Uc),n.prototype.visit=function(e,t){var n=function e(t){var n=t.sourceSpan.start.offset,r=t.sourceSpan.end.offset;return t instanceof Mc&&(t.endSourceSpan?r=t.endSourceSpan.end.offset:t.children&&t.children.length&&(r=e(t.children[t.children.length-1]).end)),{start:n,end:r}}(e);if(!(n.start<=r&&r<n.end))return!0;i.push(e)},new n),e),new Cc(i,r);function n(){return null!==t&&t.apply(this,arguments)||this}},x.HtmlParser=Sh,x.ParseTreeResult=oh,x.TreeError=ch,x.HtmlTagDefinition=i,x.getHtmlTagDefinition=h,x.splitNsName=R,x.isNgContainer=O,x.isNgContent=p,x.isNgTemplate=B,x.getNsPrefix=l,x.mergeNsAndName=c,x.NAMED_ENTITIES=u,x.NGSP_UNICODE="",x.debugOutputAstAsTypeScript=Lg,x.TypeScriptEmitter=jg,x.ParseLocation=bu,x.ParseSourceFile=wu,x.ParseSourceSpan=Tu,x.ParseError=Mu,x.typeSourceSpan=Iu,x.r3JitTypeSourceSpan=ku,x.DomElementSchemaRegistry=iv,x.CssSelector=V,x.SelectorMatcher=L,x.SelectorListContext=m,x.SelectorContext=y,x.HOST_ATTR=fc,x.CONTENT_ATTR=dc,x.StylesCompileDependency=kl,x.CompiledStylesheet=Rl,x.StyleCompiler=vc,x.TemplateParseError=ed,x.TemplateParseResult=Jf,x.TemplateParser=td,x.splitClasses=ld,x.createElementCssSelector=fd,x.removeSummaryDuplicates=yd,x.isEmptyExpression=gd,x.compileInjectable=ma,x.R3TargetBinder=eS,x.R3BoundTarget=iS,Object.defineProperty(x,"__esModule",{value:!0})});