!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@angular/core")):"function"==typeof define&&define.amd?define("@angular/animations/browser",["exports","@angular/animations","@angular/core"],t):t(((e=e||self).ng=e.ng||{},e.ng.animations=e.ng.animations||{},e.ng.animations.browser={}),e.ng.animations,e.ng.core)}(this,function(e,z,t){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function W(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function s(){return"undefined"!=typeof process}function H(e){switch(e.length){case 0:return new z.NoopAnimationPlayer;case 1:return e[0];default:return new z.ɵAnimationGroupPlayer(e)}}function b(e,s,t,n,o,a){void 0===o&&(o={}),void 0===a&&(a={});var l=[],u=[],h=-1,c=null;if(n.forEach(function(r){var e=r.offset,t=e==h,i=t&&c||{};Object.keys(r).forEach(function(e){var t=e,n=r[e];if("offset"!==e)switch(t=s.normalizePropertyName(t,l),n){case z.ɵPRE_STYLE:n=o[e];break;case z.AUTO_STYLE:n=a[e];break;default:n=s.normalizeStyleValue(e,t,n,l)}i[t]=n}),t||u.push(i),c=i,h=e}),l.length)throw new Error("Unable to animate due to the following errors:\n - "+l.join("\n - "));return u}function a(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&i(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&i(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&i(n,"destroy",e))})}}function i(e,t,n){var r=n.totalTime,i=l(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function l(e,t,n,r,i,s,o){return void 0===i&&(i=""),void 0===s&&(s=0),{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Y(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function o(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var u=function(e,t){return!1},c=function(e,t){return!1},p=function(e,t,n){return[]},f=s();!f&&"undefined"==typeof Element||(u=function(e,t){return e.contains(t)},c=function(){if(f||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,n=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return n?function(e,t){return n.apply(e,[t])}:c}(),p=function(e,t,n){var r=[];if(n)r.push.apply(r,W(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var y=null,m=!1;function d(e){y||(y=("undefined"!=typeof document?document.body:null)||{},m=!!y.style&&"WebkitAppearance"in y.style);var t=!0;return!y.style||"ebkit"==e.substring(1,6)||(t=e in y.style)||!m||(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in y.style),t}var v=c,g=u,_=p;function S(n){var r={};return Object.keys(n).forEach(function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[t]=n[e]}),r}var E=(k.prototype.validateStyleProperty=function(e){return d(e)},k.prototype.matchesElement=function(e,t){return v(e,t)},k.prototype.containsElement=function(e,t){return g(e,t)},k.prototype.query=function(e,t,n){return _(e,t,n)},k.prototype.computeStyle=function(e,t,n){return n||""},k.prototype.animate=function(e,t,n,r,i,s,o){return void 0===s&&(s=[]),new z.NoopAnimationPlayer(n,r)},function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(o=(s<3?i(o):3<s?i(t,n,o):i(t,n))||o);return 3<s&&o&&Object.defineProperty(t,n,o),o}([t.Injectable()],k)),T=(P.NOOP=new E,P),w=1e3;function P(){}function k(){}function A(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:N(parseFloat(t[1]),t[2])}function N(e,t){switch(t){case"s":return e*w;default:return e}}function O(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,s="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'+e+'" is invalid.'),{duration:0,delay:0,easing:""};r=N(parseFloat(o[1]),o[2]);var a=o[3];null!=a&&(i=N(parseFloat(a),o[4]));var l=o[5];l&&(s=l)}else r=e;if(!n){var u=!1,h=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(h,0,'The provided timing value "'+e+'" is invalid.')}return{duration:r,delay:i,easing:s}}(e,t,n)}function C(t,n){return void 0===n&&(n={}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function F(e){var t={};return Array.isArray(e)?e.forEach(function(e){return D(e,!1,t)}):D(e,!1,t),t}function D(e,t,n){if(void 0===n&&(n={}),t)for(var r in e)n[r]=e[r];else C(e,n);return n}function L(e,t,n){return n?t+":"+n+";":""}function j(e){for(var t="",n=0;n<e.style.length;n++)t+=L(0,r=e.style.item(n),e.style.getPropertyValue(r));for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=L(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function $(n,r,i){n.style&&(Object.keys(r).forEach(function(e){var t=B(e);i&&!i.hasOwnProperty(e)&&(i[e]=n.style[t]),n.style[t]=r[e]}),s()&&j(n))}function V(n,e){n.style&&(Object.keys(e).forEach(function(e){var t=B(e);n.style[t]=""}),s()&&j(n))}function x(e){return Array.isArray(e)?1==e.length?e[0]:z.sequence(e):e}var q=new RegExp("{{\\s*(.+?)\\s*}}","g");function R(e){var t=[];if("string"==typeof e){for(var n=e.toString(),r=void 0;r=q.exec(n);)t.push(r[1]);q.lastIndex=0}return t}function I(e,r,i){var t=e.toString(),n=t.replace(q,function(e,t){var n=r[t];return r.hasOwnProperty(t)||(i.push("Please provide a value for the animation param "+t),n=""),n.toString()});return n==t?e:n}function K(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Q=/-+([a-z0-9])/g;function B(e){return e.replace(Q,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})}function M(e,t){return 0===e||0===t}function G(n,e,t){var r=Object.keys(t);if(r.length&&e.length){var i=e[0],s=[];if(r.forEach(function(e){i.hasOwnProperty(e)||s.push(e),i[e]=t[e]}),s.length)for(var o=function(){var t=e[a];s.forEach(function(e){t[e]=J(n,e)})},a=1;a<e.length;a++)o()}return e}function Z(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function J(e,t){return window.getComputedStyle(e)[t]}var X="*",ee=new Set(["true","1"]),te=new Set(["false","0"]);function ne(i,s){var o=ee.has(i)||te.has(i),a=ee.has(s)||te.has(s);return function(e,t){var n=i==X||i==e,r=s==X||s==t;return!n&&o&&"boolean"==typeof e&&(n=e?ee.has(i):te.has(i)),!r&&a&&"boolean"==typeof t&&(r=t?ee.has(s):te.has(s)),n&&r}}var re=new RegExp("s*:selfs*,?","g");function ie(e,t,n){return new se(e).build(t,n)}var se=(ae.prototype.build=function(e,t){var n=new oe(t);return this._resetContextStyleTimingState(n),Z(this,x(e),n)},ae.prototype._resetContextStyleTimingState=function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0},ae.prototype.visitTrigger=function(e,i){var s=this,o=i.queryCount=0,a=i.depCount=0,l=[],u=[];return"@"==e.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(s._resetContextStyleTimingState(i),0==e.type){var t=e,n=t.name;n.toString().split(/\s*,\s*/).forEach(function(e){t.name=e,l.push(s.visitState(t,i))}),t.name=n}else if(1==e.type){var r=s.visitTransition(e,i);o+=r.queryCount,a+=r.depCount,u.push(r)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:u,queryCount:o,depCount:a,options:null}},ae.prototype.visitState=function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,s=r||{};if(n.styles.forEach(function(e){if(le(e)){var t=e;Object.keys(t).forEach(function(e){R(t[e]).forEach(function(e){s.hasOwnProperty(e)||i.add(e)})})}}),i.size){var o=K(i.values());t.errors.push('state("'+e.name+'", ...) must define default values for all the following style substitutions: '+o.join(", "))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}},ae.prototype.visitTransition=function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,s=Z(this,x(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'+e+'" is not supported'),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+e+'" is not supported'),t;var s=i[1],o=i[2],a=i[3];t.push(ne(s,a)),"<"!=o[0]||s==X&&a==X||t.push(ne(a,s))}(e,i,r)}):i.push(n),i),animation:s,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}},ae.prototype.visitSequence=function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Z(n,e,t)}),options:ue(e.options)}},ae.prototype.visitGroup=function(e,n){var r=this,i=n.currentTime,s=0,t=e.steps.map(function(e){n.currentTime=i;var t=Z(r,e,n);return s=Math.max(s,n.currentTime),t});return n.currentTime=s,{type:3,steps:t,options:ue(e.options)}},ae.prototype.visitAnimate=function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return he(O(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=he(0,0,"");return i.dynamic=!0,i.strValue=r,i}return he((n=n||O(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:z.style({});if(5==i.type)n=this.visitKeyframes(i,t);else{var s=e.styles,o=!1;if(!s){o=!0;var a={};r.easing&&(a.easing=r.easing),s=z.style(a)}t.currentTime+=r.duration+r.delay;var l=this.visitStyle(s,t);l.isEmptyStep=o,n=l}return{type:4,timings:r,style:n,options:t.currentAnimateTimings=null}},ae.prototype.visitStyle=function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n},ae.prototype._makeStyleAst=function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==z.AUTO_STYLE?n.push(e):t.errors.push("The provided style string value "+e+" is not allowed."):n.push(e)}):n.push(e.styles);var i=!1,s=null;return n.forEach(function(e){if(le(e)){var t=e,n=t.easing;if(n&&(s=n,delete t.easing),!i)for(var r in t)if(0<=t[r].toString().indexOf("{{")){i=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}},ae.prototype._validateStyleAst=function(e,h){var c=this,t=h.currentAnimateTimings,p=h.currentTime,f=h.currentTime;t&&0<f&&(f-=t.duration+t.delay),e.styles.forEach(function(u){"string"!=typeof u&&Object.keys(u).forEach(function(e){if(c._driver.validateStyleProperty(e)){var t=h.collectedStyles[h.currentQuerySelector],n=t[e],r=!0;n&&(f!=p&&f>=n.startTime&&p<=n.endTime&&(h.errors.push('The CSS property "'+e+'" that exists between the times of "'+n.startTime+'ms" and "'+n.endTime+'ms" is also being animated in a parallel animation between the times of "'+f+'ms" and "'+p+'ms"'),r=!1),f=n.startTime),r&&(t[e]={startTime:f,endTime:p}),h.options&&(i=u[e],s=h.options,o=h.errors,a=s.params||{},(l=R(i)).length&&l.forEach(function(e){a.hasOwnProperty(e)||o.push("Unable to resolve the local animation param "+e+" in the given list of values")}))}else h.errors.push('The provided animation property "'+e+'" is not a supported CSS property for animations');var i,s,o,a,l})})},ae.prototype.visitKeyframes=function(e,i){var s=this,o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;var a=0,l=[],u=!1,h=!1,c=0,t=e.steps.map(function(e){var t=s._makeStyleAst(e,i),n=null!=t.offset?t.offset:function(e){if("string"==typeof e)return null;var n=null;if(Array.isArray(e))e.forEach(function(e){if(le(e)&&e.hasOwnProperty("offset")){var t=e;n=parseFloat(t.offset),delete t.offset}});else if(le(e)&&e.hasOwnProperty("offset")){var t=e;n=parseFloat(t.offset),delete t.offset}return n}(t.styles),r=0;return null!=n&&(a++,r=t.offset=n),h=h||r<0||1<r,u=u||r<c,c=r,l.push(r),t});h&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),u&&i.errors.push("Please ensure that all keyframe offsets are in order");var n=e.steps.length,p=0;0<a&&a<n?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(p=1/(n-1));var f=n-1,y=i.currentTime,m=i.currentAnimateTimings,d=m.duration;return t.forEach(function(e,t){var n=0<p?t==f?1:p*t:l[t],r=n*d;i.currentTime=y+m.delay+r,m.duration=r,s._validateStyleAst(e,i),e.offset=n,o.styles.push(e)}),o},ae.prototype.visitReference=function(e,t){return{type:8,animation:Z(this,x(e.animation),t),options:ue(e.options)}},ae.prototype.visitAnimateChild=function(e,t){return t.depCount++,{type:9,options:ue(e.options)}},ae.prototype.visitAnimateRef=function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}},ae.prototype.visitQuery=function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i,s,o=h((i=e.selector,(s=!!i.split(/\s*,\s*/).find(function(e){return":self"==e}))&&(i=i.replace(re,"")),[i=i.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),s]),2),a=o[0],l=o[1];t.currentQuerySelector=n.length?n+" "+a:a,Y(t.collectedStyles,t.currentQuerySelector,{});var u=Z(this,x(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:e.selector,options:ue(e.options)}},ae.prototype.visitStagger=function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:O(e.timings,t.errors,!0);return{type:12,animation:Z(this,x(e.animation),t),timings:n,options:null}},ae),oe=function(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function ae(e){this._driver=e}function le(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){return e?(e=C(e)).params&&(e.params=(t=e.params)?C(t):null):e={},e;var t}function he(e,t,n){return{duration:e,delay:t,easing:n}}function ce(e,t,n,r,i,s,o,a){return void 0===o&&(o=null),void 0===a&&(a=!1),{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var pe=(me.prototype.consume=function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t},me.prototype.append=function(e,t){var n=this._map.get(e);n||this._map.set(e,n=[]),n.push.apply(n,W(t))},me.prototype.has=function(e){return this._map.has(e)},me.prototype.clear=function(){this._map.clear()},me),fe=new RegExp(":enter","g"),ye=new RegExp(":leave","g");function me(){this._map=new Map}function de(e,t,n,r,i,s,o,a,l,u){return void 0===s&&(s={}),void 0===o&&(o={}),void 0===u&&(u=[]),(new ge).buildKeyframes(e,t,n,r,i,s,o,a,l,u)}var ve,ge=(ke.prototype.buildKeyframes=function(e,t,n,r,i,s,o,a,l,u){void 0===u&&(u=[]),l=l||new pe;var h=new Se(e,t,l,r,i,u,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),Z(this,n,h);var c=h.timelines.filter(function(e){return e.containsAnimation()});if(c.length&&Object.keys(o).length){var p=c[c.length-1];p.allowOnlyTimelineStyles()||p.setStyles([o],null,h.errors,a)}return c.length?c.map(function(e){return e.buildKeyframes()}):[ce(t,[],[],[],0,0,"",!1)]},ke.prototype.visitTrigger=function(e,t){},ke.prototype.visitState=function(e,t){},ke.prototype.visitTransition=function(e,t){},ke.prototype.visitAnimateChild=function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e},ke.prototype.visitAnimateRef=function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e},ke.prototype._visitSubInstructions=function(e,n,t){var r=n.currentTimeline.currentTime,i=null!=t.duration?A(t.duration):null,s=null!=t.delay?A(t.delay):null;return 0!==i&&e.forEach(function(e){var t=n.appendInstructionToTimeline(e,i,s);r=Math.max(r,t.duration+t.delay)}),r},ke.prototype.visitReference=function(e,t){t.updateOptions(e.options,!0),Z(this,e.animation,t),t.previousNode=e},ke.prototype.visitSequence=function(e,t){var n=this,r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&((i=t.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_e);var o=A(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return Z(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e},ke.prototype.visitGroup=function(n,r){var i=this,s=[],o=r.currentTimeline.currentTime,a=n.options&&n.options.delay?A(n.options.delay):0;n.steps.forEach(function(e){var t=r.createSubContext(n.options);a&&t.delayNextStep(a),Z(i,e,t),o=Math.max(o,t.currentTimeline.currentTime),s.push(t.currentTimeline)}),s.forEach(function(e){return r.currentTimeline.mergeTimelineCollectedStyles(e)}),r.transformIntoNewTimeline(o),r.previousNode=n},ke.prototype._visitTiming=function(e,t){if(e.dynamic){var n=e.strValue;return O(t.params?I(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}},ke.prototype.visitAnimate=function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e},ke.prototype.visitStyle=function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e},ke.prototype.visitKeyframes=function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(function(e){s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e},ke.prototype.visitQuery=function(r,i){var s=this,e=i.currentTimeline.currentTime,t=r.options||{},o=t.delay?A(t.delay):0;o&&(6===i.previousNode.type||0==e&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_e);var a=e,n=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!t.optional,i.errors);i.currentQueryTotal=n.length;var l=null;n.forEach(function(e,t){i.currentQueryIndex=t;var n=i.createSubContext(r.options,e);o&&n.delayNextStep(o),e===i.element&&(l=n.currentTimeline),Z(s,r.animation,n),n.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,n.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(a),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r},ke.prototype.visitStagger=function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1),a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}var l=t.currentTimeline;a&&l.delayNextStep(a);var u=l.currentTime;Z(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)},ke),_e={},Se=(Object.defineProperty(Pe.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),Pe.prototype.updateOptions=function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=A(r.duration)),null!=r.delay&&(i.delay=A(r.delay));var s=r.params;if(s){var o=i.params;o=o||(this.options.params={}),Object.keys(s).forEach(function(e){t&&o.hasOwnProperty(e)||(o[e]=I(s[e],o,n.errors))})}}},Pe.prototype._copyOptions=function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e},Pe.prototype.createSubContext=function(e,t,n){void 0===e&&(e=null);var r=t||this.element,i=new Pe(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,(i.parentContext=this).subContextCount++,i},Pe.prototype.transformIntoNewTimeline=function(e){return this.previousNode=_e,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline},Pe.prototype.appendInstructionToTimeline=function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new be(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r},Pe.prototype.incrementTime=function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)},Pe.prototype.delayNextStep=function(e){0<e&&this.currentTimeline.delayNextStep(e)},Pe.prototype.invokeQuery=function(e,t,n,r,i,s){var o=[];if(r&&o.push(this.element),0<e.length){e=(e=e.replace(fe,"."+this._enterClassName)).replace(ye,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),o.push.apply(o,W(a))}return i||0!=o.length||s.push('`query("'+t+'")` returned zero elements. (Use `query("'+t+'", { optional: true })` if you wish to allow this.)'),o},Pe),Ee=(we.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return 0<this.getCurrentStyleProperties().length;default:return!0}},we.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(we.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),we.prototype.delayNextStep=function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e},we.prototype.fork=function(e,t){return this.applyStylesToKeyframe(),new we(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)},we.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},we.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},we.prototype.forwardTime=function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()},we.prototype._updateStyle=function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}},we.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},we.prototype.applyEmptyStep=function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||z.AUTO_STYLE,t._currentKeyframe[e]=z.AUTO_STYLE}),this._currentEmptyStepKeyframe=this._currentKeyframe},we.prototype.setStyles=function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var s,o,a,l,u=r&&r.params||{},h=(s=e,o=this._globalTimelineStyles,l={},s.forEach(function(e){"*"===e?(a=a||Object.keys(o)).forEach(function(e){l[e]=z.AUTO_STYLE}):D(e,!1,l)}),l);Object.keys(h).forEach(function(e){var t=I(h[e],u,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:z.AUTO_STYLE),i._updateStyle(e,t)})},we.prototype.applyStylesToKeyframe=function(){var t=this,n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(function(e){t._currentKeyframe[e]=n[e]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},we.prototype.snapshotCurrentStyles=function(){var n=this;Object.keys(this._localTimelineStyles).forEach(function(e){var t=n._localTimelineStyles[e];n._pendingStyles[e]=t,n._updateStyle(e,t)})},we.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(we.prototype,"properties",{get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e},enumerable:!0,configurable:!0}),we.prototype.mergeTimelineCollectedStyles=function(r){var i=this;Object.keys(r._styleSummary).forEach(function(e){var t=i._styleSummary[e],n=r._styleSummary[e];(!t||n.time>t.time)&&i._updateStyle(e,n.value)})},we.prototype.buildKeyframes=function(){var r=this;this.applyStylesToKeyframe();var i=new Set,s=new Set,o=1===this._keyframes.size&&0===this.duration,a=[];this._keyframes.forEach(function(e,t){var n=D(e,!0);Object.keys(n).forEach(function(e){var t=n[e];t==z.ɵPRE_STYLE?i.add(e):t==z.AUTO_STYLE&&s.add(e)}),o||(n.offset=t/r.duration),a.push(n)});var e=i.size?K(i.values()):[],t=s.size?K(s.values()):[];if(o){var n=a[0],l=C(n);n.offset=0,l.offset=1,a=[n,l]}return ce(this.element,a,e,t,this.duration,this.startTime,this.easing,!1)},we),be=(n(Te,ve=Ee),Te.prototype.containsAnimation=function(){return 1<this.keyframes.length},Te.prototype.buildKeyframes=function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var s=[],o=r+n,a=n/o,l=D(e[0],!1);l.offset=0,s.push(l);var u=D(e[0],!1);u.offset=Ae(a),s.push(u);for(var h=e.length-1,c=1;c<=h;c++){var p=D(e[c],!1);p.offset=Ae((n+p.offset*r)/o),s.push(p)}r=o,n=0,i="",e=s}return ce(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)},Te);function Te(e,t,n,r,i,s,o){void 0===o&&(o=!1);var a=ve.call(this,e,t,s.delay)||this;return a.element=t,a.keyframes=n,a.preStyleProps=r,a.postStyleProps=i,a._stretchStartingKeyframe=o,a.timings={duration:s.duration,delay:s.delay,easing:s.easing},a}function we(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}function Pe(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_e,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ee(this._driver,t,0),o.push(this.currentTimeline)}function ke(){}function Ae(e,t){void 0===t&&(t=3);var n=Math.pow(10,t-1);return Math.round(e*n)/n}function Ne(){}var Oe,Ce,Fe,De=(Ie.prototype.buildTimelines=function(e,t,n,r,i){var s=Array.isArray(t)?F(t):t,o=Array.isArray(n)?F(n):n,a=[];i=i||new pe;var l=de(this._driver,e,this._animationAst,"ng-enter","ng-leave",s,o,r,i,a);if(a.length){var u="animation building failed:\n"+a.join("\n");throw new Error(u)}return l},Ie),Le=(Re.prototype.normalizePropertyName=function(e,t){return e},Re.prototype.normalizeStyleValue=function(e,t,n,r){return n},Re),je=(n(qe,Fe=Ne),qe.prototype.normalizePropertyName=function(e,t){return B(e)},qe.prototype.normalizeStyleValue=function(e,t,n,r){var i="",s=n.toString().trim();if(xe[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for "+e+":"+n)}return s+i},qe),xe=(Oe="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),Ce={},Oe.forEach(function(e){return Ce[e]=!0}),Ce);function qe(){return null!==Fe&&Fe.apply(this,arguments)||this}function Re(){}function Ie(e,t){var n=[],r=ie(this._driver=e,t,n);if(n.length){var i="animation validation failed:\n"+n.join("\n");throw new Error(i)}this._animationAst=r}function Ke(e,t,n,r,i,s,o,a,l,u,h,c,p){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:c,errors:p}}var Qe={},Be=(He.prototype.match=function(e,t,n,r){return i=this.ast.matchers,s=e,o=t,a=n,l=r,i.some(function(e){return e(s,o,a,l)});var i,s,o,a,l},He.prototype.buildStyles=function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s},He.prototype.build=function(e,i,t,n,r,s,o,a,l,u){var h=[],c=this.ast.options&&this.ast.options.params||Qe,p=this.buildStyles(t,o&&o.params||Qe,h),f=a&&a.params||Qe,y=this.buildStyles(n,f,h),m=new Set,d=new Map,v=new Map,g="void"===n,_={params:U({},c,f)},S=u?[]:de(e,i,this.ast.animation,r,s,p,y,_,l,h),E=0;if(S.forEach(function(e){E=Math.max(e.duration+e.delay,E)}),h.length)return Ke(i,this._triggerName,t,n,g,p,y,[],[],d,v,E,h);S.forEach(function(e){var t=e.element,n=Y(d,t,{});e.preStyleProps.forEach(function(e){return n[e]=!0});var r=Y(v,t,{});e.postStyleProps.forEach(function(e){return r[e]=!0}),t!==i&&m.add(t)});var b=K(m.values());return Ke(i,this._triggerName,t,n,g,p,y,S,b,d,v,E)},He),Me=(We.prototype.buildStyles=function(n,r){var i={},s=C(this.defaultParams);return Object.keys(n).forEach(function(e){var t=n[e];null!=t&&(s[e]=t)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var n=e;Object.keys(n).forEach(function(e){var t=n[e];1<t.length&&(t=I(t,s,r)),i[e]=t})}}),i},We),ze=(Object.defineProperty(Ue.prototype,"containsQueries",{get:function(){return 0<this.ast.queryCount},enumerable:!0,configurable:!0}),Ue.prototype.matchTransition=function(t,n,r,i){return this.transitionFactories.find(function(e){return e.match(t,n,r,i)})||null},Ue.prototype.matchStyles=function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)},Ue);function Ue(t,e){var n,r,i=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(e){i.states[e.name]=new Me(e.style,e.options&&e.options.params||{})}),Ye(this.states,"true","1"),Ye(this.states,"false","0"),e.transitions.forEach(function(e){i.transitionFactories.push(new Be(t,e,i.states))}),this.fallbackTransition=(n=t,r=this.states,new Be(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},r))}function We(e,t){this.styles=e,this.defaultParams=t}function He(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}function Ye(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var $e=new pe,Ve=(ut.prototype.register=function(e,t){var n=[],r=ie(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r},ut.prototype._buildPlayer=function(e,t,n){var r=e.element,i=b(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)},ut.prototype.create=function(e,t,n){var r=this;void 0===n&&(n={});var i,s=[],o=this._animations[e],a=new Map;if(o?(i=de(this._driver,t,o,"ng-enter","ng-leave",{},{},n,$e,s)).forEach(function(e){var t=Y(a,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(s.push("The requested animation doesn't exist or has already been destroyed"),i=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join("\n"));a.forEach(function(t,n){Object.keys(t).forEach(function(e){t[e]=r._driver.computeStyle(n,e,z.AUTO_STYLE)})});var l=H(i.map(function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)}));return(this._playersById[e]=l).onDestroy(function(){return r.destroy(e)}),this.players.push(l),l},ut.prototype.destroy=function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);0<=n&&this.players.splice(n,1)},ut.prototype._getPlayer=function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t},ut.prototype.listen=function(e,t,n,r){var i=l(t,"","","");return a(this._getPlayer(e),n,i,r),function(){}},ut.prototype.command=function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])},ut),Ge=[],Ze={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Je={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xe="__ng_removed",et=(Object.defineProperty(lt.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),lt.prototype.absorbOptions=function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}},lt),tt=new et("void"),nt=(at.prototype.listen=function(e,t,n,r){var i,s=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+t+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+t+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+t+'" is not supported!');var o=Y(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};o.push(a);var l=Y(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(mt(e,"ng-trigger"),mt(e,"ng-trigger-"+t),l[t]=tt),function(){s._engine.afterFlush(function(){var e=o.indexOf(a);0<=e&&o.splice(e,1),s._triggers[t]||delete l[t]})}},at.prototype.register=function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)},at.prototype._getTrigger=function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'+e+'" has not been registered!');return t},at.prototype.trigger=function(r,t,e,n){var i=this;void 0===n&&(n=!0);var s=this._getTrigger(t),o=new it(this.id,t,r),a=this._engine.statesByElement.get(r);a||(mt(r,"ng-trigger"),mt(r,"ng-trigger-"+t),this._engine.statesByElement.set(r,a={}));var l=a[t],u=new et(e,this.id);if(e&&e.hasOwnProperty("value")||!l||u.absorbOptions(l.options),a[t]=u,l=l||tt,"void"===u.value||l.value!==u.value){var h=Y(this._engine.playersByElement,r,[]);h.forEach(function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()});var c=s.matchTransition(l.value,u.value,r,u.params),p=!1;if(!c){if(!n)return;c=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:t,transition:c,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(mt(r,"ng-animate-queued"),o.onStart(function(){dt(r,"ng-animate-queued")})),o.onDone(function(){var e=i.players.indexOf(o);0<=e&&i.players.splice(e,1);var t=i._engine.playersByElement.get(r);if(t){var n=t.indexOf(o);0<=n&&t.splice(n,1)}}),this.players.push(o),h.push(o),o}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,u.params)){var f=[],y=s.matchStyles(l.value,l.params,f),m=s.matchStyles(u.value,u.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){V(r,y),$(r,m)})}},at.prototype.deregister=function(n){var r=this;delete this._triggers[n],this._engine.statesByElement.forEach(function(e,t){delete e[n]}),this._elementListeners.forEach(function(e,t){r._elementListeners.set(t,e.filter(function(e){return e.name!=n}))})},at.prototype.clearElementCache=function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))},at.prototype._signalRemovalForInnerTriggers=function(e,n,t){var r=this;void 0===t&&(t=!1),this._engine.driver.query(e,".ng-trigger",!0).forEach(function(t){if(!t[Xe]){var e=r._engine.fetchNamespacesByElement(t);e.size?e.forEach(function(e){return e.triggerLeaveAnimation(t,n,!1,!0)}):r.clearElementCache(t)}})},at.prototype.triggerLeaveAnimation=function(n,e,t,r){var i=this,s=this._engine.statesByElement.get(n);if(s){var o=[];if(Object.keys(s).forEach(function(e){if(i._triggers[e]){var t=i.trigger(n,e,"void",r);t&&o.push(t)}}),o.length)return this._engine.markElementAsRemoved(this.id,n,!0,e),t&&H(o).onDone(function(){return i._engine.processLeaveNode(n)}),!0}return!1},at.prototype.prepareLeaveAnimationListeners=function(o){var a=this,e=this._elementListeners.get(o);if(e){var l=new Set;e.forEach(function(e){var t=e.name;if(!l.has(t)){l.add(t);var n=a._triggers[t].fallbackTransition,r=a._engine.statesByElement.get(o)[t]||tt,i=new et("void"),s=new it(a.id,t,o);a._engine.totalQueuedPlayers++,a._queue.push({element:o,triggerName:t,transition:n,fromState:r,toState:i,player:s,isFallbackTransition:!0})}})}},at.prototype.removeNode=function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?r.markElementAsRemoved(this.id,e,!1,t):(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}},at.prototype.insertNode=function(e,t){mt(e,this._hostClassName)},at.prototype.drainQueuedTransitions=function(i){var s=this,o=[];return this._queue.forEach(function(n){var e=n.player;if(!e.destroyed){var r=n.element,t=s._elementListeners.get(r);t&&t.forEach(function(e){if(e.name==n.triggerName){var t=l(r,n.triggerName,n.fromState.value,n.toState.value);t._data=i,a(n.player,e.phase,t,e.callback)}}),e.markedForDestroy?s._engine.afterFlush(function(){e.destroy()}):o.push(n)}}),this._queue=[],o.sort(function(e,t){var n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:s._engine.driver.containsElement(e.element,t.element)?1:-1})},at.prototype.destroy=function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)},at.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},at),rt=(ot.prototype._onRemovalComplete=function(e,t){this.onRemovalComplete(e,t)},Object.defineProperty(ot.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),ot.prototype.createNamespace=function(e,t){var n=new nt(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n},ot.prototype._balanceNamespaceList=function(e,t){var n=this._namespaceList.length-1;if(0<=n){for(var r=!1,i=n;0<=i;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e},ot.prototype.register=function(e,t){var n=this._namespaceLookup[e];return n=n||this.createNamespace(e,t)},ot.prototype.registerTrigger=function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++},ot.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);0<=e&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},ot.prototype._fetchNamespace=function(e){return this._namespaceLookup[e]},ot.prototype.fetchNamespacesByElement=function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var s=n[r[i]].namespaceId;if(s){var o=this._fetchNamespace(s);o&&t.add(o)}}return t},ot.prototype.trigger=function(e,t,n,r){if(ht(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1},ot.prototype.insertNode=function(e,t,n,r){if(ht(t)){var i=t[Xe];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var s=this.collectedLeaveElements.indexOf(t);0<=s&&this.collectedLeaveElements.splice(s,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}},ot.prototype.collectEnterElement=function(e){this.collectedEnterElements.push(e)},ot.prototype.markElementAsDisabled=function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),mt(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dt(e,"ng-animate-disabled"))},ot.prototype.removeNode=function(e,t,n,r){if(ht(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)},ot.prototype.markElementAsRemoved=function(e,t,n,r){this.collectedLeaveElements.push(t),t[Xe]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},ot.prototype.listen=function(e,t,n,r,i){return ht(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}},ot.prototype._buildInstruction=function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)},ot.prototype.destroyInnerAnimations=function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})},ot.prototype.destroyActiveAnimationsForElement=function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})},ot.prototype.finishActiveQueriedAnimationOnElement=function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})},ot.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return H(t.players).onDone(function(){return e()});e()})},ot.prototype.processLeaveNode=function(e){var t=this,n=e[Xe];if(n&&n.setForRemoval){if(e[Xe]=Ze,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})},ot.prototype.flush=function(e){var n=this;void 0===e&&(e=-1);var t=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,t){return n._balanceNamespaceList(e,t)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)mt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{t=this._flushAnimations(i,e)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],t.length?H(t).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}},ot.prototype.reportError=function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))},ot.prototype._flushAnimations=function(e,t){var h=this,c=new pe,p=[],f=new Map,l=[],u=new Map,y=new Map,m=new Map,d=new Set;this.disabledNodes.forEach(function(e){d.add(e);for(var t=h.driver.query(e,".ng-animate-queued",!0),n=0;n<t.length;n++)d.add(t[n])});var v=this.bodyNode,n=Array.from(this.statesByElement.keys()),r=ft(n,this.collectedEnterElements),g=new Map,i=0;r.forEach(function(e,t){var n="ng-enter"+i++;g.set(t,n),e.forEach(function(e){return mt(e,n)})});for(var s=[],o=new Set,a=new Set,_=0;_<this.collectedLeaveElements.length;_++)(q=(x=this.collectedLeaveElements[_])[Xe])&&q.setForRemoval&&(s.push(x),o.add(x),q.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach(function(e){return o.add(e)}):a.add(x));var S=new Map,E=ft(n,Array.from(o));E.forEach(function(e,t){var n="ng-leave"+i++;S.set(t,n),e.forEach(function(e){return mt(e,n)})}),e.push(function(){r.forEach(function(e,t){var n=g.get(t);e.forEach(function(e){return dt(e,n)})}),E.forEach(function(e,t){var n=S.get(t);e.forEach(function(e){return dt(e,n)})}),s.forEach(function(e){h.processLeaveNode(e)})});for(var b=[],T=[],w=this._namespaceList.length-1;0<=w;w--)this._namespaceList[w].drainQueuedTransitions(t).forEach(function(e){var t=e.player,n=e.element;if(b.push(t),h.collectedEnterElements.length){var r=n[Xe];if(r&&r.setForMove)return void t.destroy()}var i=!v||!h.driver.containsElement(v,n),s=S.get(n),o=g.get(n),a=h._buildInstruction(e,c,o,s,i);if(a.errors&&a.errors.length)T.push(a);else{if(i)return t.onStart(function(){return V(n,a.fromStyles)}),t.onDestroy(function(){return $(n,a.toStyles)}),void p.push(t);if(e.isFallbackTransition)return t.onStart(function(){return V(n,a.fromStyles)}),t.onDestroy(function(){return $(n,a.toStyles)}),void p.push(t);a.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),c.append(n,a.timelines),l.push({instruction:a,player:t,element:n}),a.queriedElements.forEach(function(e){return Y(u,e,[]).push(t)}),a.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=y.get(t);r||y.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),a.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=m.get(t);r||m.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(T.length){var P=[];T.forEach(function(e){P.push("@"+e.triggerName+" has failed due to:\n"),e.errors.forEach(function(e){return P.push("- "+e+"\n")})}),b.forEach(function(e){return e.destroy()}),this.reportError(P)}var k=new Map,A=new Map;l.forEach(function(e){var t=e.element;c.has(t)&&(A.set(t,t),h._beforeAnimationBuild(e.player.namespaceId,e.instruction,k))}),p.forEach(function(e){var t=e.element;h._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Y(k,t,[]).push(e),e.destroy()})});var N=s.filter(function(e){return gt(e,y,m)}),O=new Map;pt(O,this.driver,a,m,z.AUTO_STYLE).forEach(function(e){gt(e,y,m)&&N.push(e)});var C=new Map;r.forEach(function(e,t){pt(C,h.driver,new Set(e),y,z.ɵPRE_STYLE)}),N.forEach(function(e){var t=O.get(e),n=C.get(e);O.set(e,U({},t,n))});var F=[],D=[],L={};l.forEach(function(e){var t=e.element,n=e.player,r=e.instruction;if(c.has(t)){if(d.has(t))return n.onDestroy(function(){return $(t,r.toStyles)}),n.disabled=!0,n.overrideTotalTime(r.totalTime),void p.push(n);var i=L;if(1<A.size){for(var s=t,o=[];s=s.parentNode;){var a=A.get(s);if(a){i=a;break}o.push(s)}o.forEach(function(e){return A.set(e,i)})}var l=h._buildAnimation(n.namespaceId,r,k,f,C,O);if(n.setRealPlayer(l),i===L)F.push(n);else{var u=h.playersByElement.get(i);u&&u.length&&(n.parentPlayer=H(u)),p.push(n)}}else V(t,r.fromStyles),n.onDestroy(function(){return $(t,r.toStyles)}),D.push(n),d.has(t)&&p.push(n)}),D.forEach(function(e){var t=f.get(e.element);if(t&&t.length){var n=H(t);e.setRealPlayer(n)}}),p.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var j=0;j<s.length;j++){var x,q=(x=s[j])[Xe];if(dt(x,"ng-leave"),!q||!q.hasAnimation){var R=[];if(u.size){var I=u.get(x);I&&I.length&&R.push.apply(R,W(I));for(var K=this.driver.query(x,".ng-animating",!0),Q=0;Q<K.length;Q++){var B=u.get(K[Q]);B&&B.length&&R.push.apply(R,W(B))}}var M=R.filter(function(e){return!e.destroyed});M.length?vt(this,x,M):this.processLeaveNode(x)}}return s.length=0,F.forEach(function(t){h.players.push(t),t.onDone(function(){t.destroy();var e=h.players.indexOf(t);h.players.splice(e,1)}),t.play()}),F},ot.prototype.elementContainsData=function(e,t){var n=!1,r=t[Xe];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n},ot.prototype.afterFlush=function(e){this._flushFns.push(e)},ot.prototype.afterFlushAnimationsDone=function(e){this._whenQuietFns.push(e)},ot.prototype._getPreviousPlayers=function(e,t,n,r,i){var s=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(s=o)}else{var a=this.playersByElement.get(e);if(a){var l=!i||"void"==i;a.forEach(function(e){e.queued||!l&&e.triggerName!=r||s.push(e)})}}return(n||r)&&(s=s.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),s},ot.prototype._beforeAnimationBuild=function(e,i,s){function t(e){var t=e.element,n=t!==o,r=Y(s,t,[]);u._getPreviousPlayers(t,n,a,l,i.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),r.push(e)})}var n,r,o=i.element,a=i.isRemovalTransition?void 0:e,l=i.isRemovalTransition?void 0:i.triggerName,u=this;try{for(var h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(i.timelines),c=h.next();!c.done;c=h.next())t(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}V(o,i.fromStyles)},ot.prototype._buildAnimation=function(c,e,p,f,y,m){var d=this,v=e.triggerName,g=e.element,_=[],S=new Set,E=new Set,t=e.timelines.map(function(e){var t=e.element;S.add(t);var n=t[Xe];if(n&&n.removedBeforeQueried)return new z.NoopAnimationPlayer(e.duration,e.delay);var r,i=t!==g,s=(function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof z.ɵAnimationGroupPlayer?e(i.players,n):n.push(i)}}((p.get(t)||Ge).map(function(e){return e.getRealPlayer()}),r=[]),r).filter(function(e){return!!e.element&&e.element===t}),o=y.get(t),a=m.get(t),l=b(0,d._normalizer,0,e.keyframes,o,a),u=d._buildPlayer(e,l,s);if(e.subTimeline&&f&&E.add(t),i){var h=new it(c,v,t);h.setRealPlayer(u),_.push(h)}return u});_.forEach(function(e){Y(d.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else(r=e[t])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete e[t]);return r}(d.playersByQueriedElement,e.element,e)})}),S.forEach(function(e){return mt(e,"ng-animating")});var n=H(t);return n.onDestroy(function(){S.forEach(function(e){return dt(e,"ng-animating")}),$(g,e.toStyles)}),E.forEach(function(e){Y(f,e,[]).push(n)}),n},ot.prototype._buildPlayer=function(e,t,n){return 0<t.length?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new z.NoopAnimationPlayer(e.duration,e.delay)},ot),it=(st.prototype.setRealPlayer=function(n){var e=this;this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(function(t){e._queuedCallbacks[t].forEach(function(e){return a(n,t,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)},st.prototype.getRealPlayer=function(){return this._player},st.prototype.overrideTotalTime=function(e){this.totalTime=e},st.prototype.syncPlayerEvents=function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})},st.prototype._queueEvent=function(e,t){Y(this._queuedCallbacks,e,[]).push(t)},st.prototype.onDone=function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)},st.prototype.onStart=function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)},st.prototype.onDestroy=function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)},st.prototype.init=function(){this._player.init()},st.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},st.prototype.play=function(){this.queued||this._player.play()},st.prototype.pause=function(){this.queued||this._player.pause()},st.prototype.restart=function(){this.queued||this._player.restart()},st.prototype.finish=function(){this._player.finish()},st.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},st.prototype.reset=function(){this.queued||this._player.reset()},st.prototype.setPosition=function(e){this.queued||this._player.setPosition(e)},st.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},st.prototype.triggerCallback=function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)},st);function st(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new z.NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}function ot(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}function at(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,mt(t,this._hostClassName)}function lt(e,t){void 0===t&&(t=""),this.namespaceId=t;var n,r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){var i=C(e);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}function ut(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}function ht(e){return e&&1===e.nodeType}function ct(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function pt(t,i,e,n,s){var r=[];e.forEach(function(e){return r.push(ct(e))});var o=[];n.forEach(function(e,n){var r={};e.forEach(function(e){var t=r[e]=i.computeStyle(n,e,s);t&&0!=t.length||(n[Xe]=Je,o.push(n))}),t.set(n,r)});var a=0;return e.forEach(function(e){return ct(e,r[a++])}),o}function ft(e,t){var i=new Map;if(e.forEach(function(e){return i.set(e,[])}),0==t.length)return i;var s=new Set(t),o=new Map;return t.forEach(function(e){var t=function e(t){if(!t)return 1;var n=o.get(t);if(n)return n;var r=t.parentNode;return n=i.has(r)?r:s.has(r)?1:e(r),o.set(t,n),n}(e);1!==t&&i.get(t).push(e)}),i}var yt="$$classes";function mt(e,t){if(e.classList)e.classList.add(t);else{var n=e[yt];(n=n||(e[yt]={}))[t]=!0}}function dt(e,t){if(e.classList)e.classList.remove(t);else{var n=e[yt];n&&delete n[t]}}function vt(e,t,n){H(n).onDone(function(){return e.processLeaveNode(t)})}function gt(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var _t=(St.prototype.registerTrigger=function(e,t,n,r,i){var s=e+"-"+r,o=this._triggerCache[s];if(!o){var a=[],l=ie(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+a.join("\n - "));o=new ze(r,l),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)},St.prototype.register=function(e,t){this._transitionEngine.register(e,t)},St.prototype.destroy=function(e,t){this._transitionEngine.destroy(e,t)},St.prototype.onInsert=function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)},St.prototype.onRemove=function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)},St.prototype.disableAnimations=function(e,t){this._transitionEngine.markElementAsDisabled(e,t)},St.prototype.process=function(e,t,n,r){if("@"==n.charAt(0)){var i=h(o(n),2);this._timelineEngine.command(i[0],t,i[1],r)}else this._transitionEngine.trigger(e,t,n,r)},St.prototype.listen=function(e,t,n,r,i){if("@"!=n.charAt(0))return this._transitionEngine.listen(e,t,n,r,i);var s=h(o(n),2);return this._timelineEngine.listen(s[0],t,s[1],i)},St.prototype.flush=function(e){void 0===e&&(e=-1),this._transitionEngine.flush(e)},Object.defineProperty(St.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),St.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},St);function St(e,t,n){var r=this;this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new rt(e,t,n),this._timelineEngine=new Ve(e,t,n),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}function Et(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=wt(t[0]),1<t.length&&(r=wt(t[t.length-1]))):t&&(n=wt(t)),n||r?new bt(e,n,r):null}var bt=(Tt.prototype.start=function(){this._state<1&&(this._startStyles&&$(this._element,this._startStyles,this._initialStyles),this._state=1)},Tt.prototype.finish=function(){this.start(),this._state<2&&($(this._element,this._initialStyles),this._endStyles&&($(this._element,this._endStyles),this._endStyles=null),this._state=1)},Tt.prototype.destroy=function(){this.finish(),this._state<3&&(Tt.initialStylesByElement.delete(this._element),this._startStyles&&(V(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(V(this._element,this._endStyles),this._endStyles=null),$(this._element,this._initialStyles),this._state=3)},Tt.initialStylesByElement=new WeakMap,Tt);function Tt(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;var r=Tt.initialStylesByElement.get(e);r||Tt.initialStylesByElement.set(e,r={}),this._initialStyles=r}function wt(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];"display"!==(s=i)&&"position"!==s||((t=t||{})[i]=e[i])}var s;return t}var Pt="animation",kt="animationend",At=(Nt.prototype.apply=function(){var e,t,n;e=this._element,t=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=jt(e,"").trim()).length&&(function(e){for(var t=0;t<e.length;t++)e.charAt(t)}(n),t=n+", "+t),Lt(e,"",t),Dt(this._element,this._eventFn,!1),this._startTime=Date.now()},Nt.prototype.pause=function(){Ot(this._element,this._name,"paused")},Nt.prototype.resume=function(){Ot(this._element,this._name,"running")},Nt.prototype.setPosition=function(e){var t=Ct(this._element,this._name);this._position=e*this._duration,Lt(this._element,"Delay","-"+this._position+"ms",t)},Nt.prototype.getPosition=function(){return this._position},Nt.prototype._handleCallback=function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},Nt.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),Dt(this._element,this._eventFn,!0))},Nt.prototype.destroy=function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=jt(e,"").split(","),0<=(r=Ft(n,t))&&(n.splice(r,1),Lt(e,"",n.join(","))))},Nt);function Nt(e,t,n,r,i,s,o){var a=this;this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return a._handleCallback(e)}}function Ot(e,t,n){Lt(e,"PlayState",n,Ct(e,t))}function Ct(e,t){var n=jt(e,"");return 0<n.indexOf(",")?Ft(n.split(","),t):Ft([n],t)}function Ft(e,t){for(var n=0;n<e.length;n++)if(0<=e[n].indexOf(t))return n;return-1}function Dt(e,t,n){n?e.removeEventListener(kt,t):e.addEventListener(kt,t)}function Lt(e,t,n,r){var i=Pt+t;if(null!=r){var s=e.style[i];if(s.length){var o=s.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function jt(e,t){return e.style[Pt+t]}var xt,qt=(Wt.prototype.onStart=function(e){this._onStartFns.push(e)},Wt.prototype.onDone=function(e){this._onDoneFns.push(e)},Wt.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},Wt.prototype.destroy=function(){this.init(),4<=this._state||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},Wt.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]},Wt.prototype._flushStartFns=function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]},Wt.prototype.finish=function(){this.init(),3<=this._state||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},Wt.prototype.setPosition=function(e){this._styler.setPosition(e)},Wt.prototype.getPosition=function(){return this._styler.getPosition()},Wt.prototype.hasStarted=function(){return 2<=this._state},Wt.prototype.init=function(){1<=this._state||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},Wt.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},Wt.prototype.pause=function(){this.init(),this._styler.pause()},Wt.prototype.restart=function(){this.reset(),this.play()},Wt.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},Wt.prototype._buildStyler=function(){var e=this;this._styler=new At(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})},Wt.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},Wt.prototype.beforeDestroy=function(){var t=this;this.init();var n={};if(this.hasStarted()){var r=3<=this._state;Object.keys(this._finalStyles).forEach(function(e){"offset"!=e&&(n[e]=r?t._finalStyles[e]:J(t.element,e))})}this.currentSnapshot=n},Wt),Rt=(n(Ut,xt=z.NoopAnimationPlayer),Ut.prototype.init=function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),xt.prototype.init.call(this))},Ut.prototype.play=function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),xt.prototype.play.call(this))},Ut.prototype.destroy=function(){var n=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var t=n._startingStyles[e];t?n.element.style.setProperty(e,t):n.element.style.removeProperty(e)}),this._startingStyles=null,xt.prototype.destroy.call(this))},Ut),It=(zt.prototype.validateStyleProperty=function(e){return d(e)},zt.prototype.matchesElement=function(e,t){return v(e,t)},zt.prototype.containsElement=function(e,t){return g(e,t)},zt.prototype.query=function(e,t,n){return _(e,t,n)},zt.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},zt.prototype.buildKeyframeElement=function(e,t,n){n=n.map(function(e){return S(e)});var r="@keyframes "+t+" {\n",i="";n.forEach(function(n){i=" ";var e=parseFloat(n.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(n).forEach(function(e){var t=n[e];switch(e){case"offset":return;case"easing":return void(t&&(r+=i+"animation-timing-function: "+t+";\n"));default:return void(r+=""+i+e+": "+t+";\n")}}),r+=i+"}\n"}),r+="}\n";var s=document.createElement("style");return s.innerHTML=r,s},zt.prototype.animate=function(e,t,n,r,i,s,o){void 0===s&&(s=[]),o&&this._notifyFaultyScrubber();var a=s.filter(function(e){return e instanceof qt}),l={};M(n,r)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return l[e]=t[e]})});var u,h,c=(u=t=G(e,t,l),h={},u&&(Array.isArray(u)?u:[u]).forEach(function(t){Object.keys(t).forEach(function(e){"offset"!=e&&"easing"!=e&&(h[e]=t[e])})}),h);if(0==n)return new Rt(e,c);var p="gen_css_kf_"+this._count++,f=this.buildKeyframeElement(e,p,t);document.querySelector("head").appendChild(f);var y=Et(e,t),m=new qt(e,t,p,n,r,i,c,y);return m.onDestroy(function(){var e;(e=f).parentNode.removeChild(e)}),m},zt.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},zt),Kt=(Mt.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},Mt.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},Mt.prototype._buildPlayer=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}},Mt.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},Mt.prototype._triggerWebAnimation=function(e,t,n){return e.animate(t,n)},Mt.prototype.onStart=function(e){this._onStartFns.push(e)},Mt.prototype.onDone=function(e){this._onDoneFns.push(e)},Mt.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},Mt.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},Mt.prototype.pause=function(){this.init(),this.domPlayer.pause()},Mt.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},Mt.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},Mt.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},Mt.prototype.restart=function(){this.reset(),this.play()},Mt.prototype.hasStarted=function(){return this._started},Mt.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},Mt.prototype.setPosition=function(e){this.domPlayer.currentTime=e*this.time},Mt.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(Mt.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),Mt.prototype.beforeDestroy=function(){var t=this,n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(e){"offset"!=e&&(n[e]=t._finished?t._finalKeyframe[e]:J(t.element,e))}),this.currentSnapshot=n},Mt.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},Mt),Qt=(Bt.prototype.validateStyleProperty=function(e){return d(e)},Bt.prototype.matchesElement=function(e,t){return v(e,t)},Bt.prototype.containsElement=function(e,t){return g(e,t)},Bt.prototype.query=function(e,t,n){return _(e,t,n)},Bt.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},Bt.prototype.overrideWebAnimationsSupport=function(e){this._isNativeImpl=e},Bt.prototype.animate=function(e,t,n,r,i,s,o){if(void 0===s&&(s=[]),!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var l={},u=s.filter(function(e){return e instanceof Kt});M(n,r)&&u.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return l[e]=t[e]})});var h=Et(e,t=G(e,t=t.map(function(e){return D(e,!1)}),l));return new Kt(e,t,a,h)},Bt);function Bt(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ht().toString()),this._cssKeyframesDriver=new It}function Mt(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}function zt(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}function Ut(e,t){var n=xt.call(this)||this;return n.element=e,n._startingStyles={},n.__initialized=!1,n._styles=S(t),n}function Wt(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}function Ht(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}e.ɵangular_packages_animations_browser_browser_a=bt,e.AnimationDriver=T,e.ɵAnimationDriver=T,e.ɵAnimation=De,e.ɵAnimationStyleNormalizer=Ne,e.ɵNoopAnimationStyleNormalizer=Le,e.ɵWebAnimationsStyleNormalizer=je,e.ɵNoopAnimationDriver=E,e.ɵAnimationEngine=_t,e.ɵCssKeyframesDriver=It,e.ɵCssKeyframesPlayer=qt,e.ɵcontainsElement=g,e.ɵinvokeQuery=_,e.ɵmatchesElement=v,e.ɵvalidateStyleProperty=d,e.ɵWebAnimationsDriver=Qt,e.ɵsupportsWebAnimations=function(){return"function"==typeof Ht()},e.ɵWebAnimationsPlayer=Kt,e.ɵallowPreviousPlayerStylesMerge=M,Object.defineProperty(e,"__esModule",{value:!0})});