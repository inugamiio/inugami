System.register(["typescript"],function(e,t){"use strict";var l,c,r,o,n,f,i,d,p,g,s,a,m,u,h,y=t&&t.id;function b(i,s,a,u){return new(a=a||Promise)(function(e,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function n(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(r,n)}o((u=u.apply(i,s||[])).next())})}function w(r,n){var o,i,s,e,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(s=s.call(i,t[1])).done)return s;switch(i=0,s&&(t=[0,s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(r,a)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function v(e){return e.reduce(function(e,t){var r=void 0;if(t.file){var n=t.file.getLineAndCharacterOfPosition(t.start);r=t.file.fileName+":"+(n.line+1)+":"+(n.character+1)}var o=l.default.flattenDiagnosticMessageText(t.messageText,"\n");return o=o+" (TS"+t.code+")",e.push({messageText:o,locationText:r,category:t.category,errorCode:t.code}),e},[])}function S(e,r){e.slice(0,10).forEach(function(e){var t=e.category===l.default.DiagnosticCategory.Error?r.error:r.warn;e.locationText&&t(e.locationText),t(e.messageText)})}function x(i,s,a,u){return b(this,void 0,void 0,function(){var t,r,n,o;return w(this,function(e){switch(e.label){case 0:return[4,E(i,"",u)];case 1:return t=e.sent(),[4,E(s,a,u)];case 2:return r=e.sent(),n=c({},t,i,r,s),function(e){e.module!==l.default.ModuleKind.System&&e.module!==l.default.ModuleKind.ES2015&&e.module!==l.default.ModuleKind.ESNext&&f.warn("transpiling to "+l.default.ModuleKind[e.module]+', consider setting module: "system" in typescriptOptions to transpile directly to System.register format');e.supportHtmlImports&&f.warn("The 'supportHtmlImports' option is no longer supported");e.resolveAmbientRefs&&f.warn("The 'resolveAmbientRefs' option is no longer supported");e.targetLib&&f.warn("The 'targetLib' option is no longer supported");e.typeCheck&&f.error("The 'typeCheck' option is no longer supported")}(o=function(e){var t=e||{};return t.module=M(t.module,l.default.ModuleKind,l.default.ModuleKind.System),t.target=M(t.target,l.default.ScriptTarget,l.default.ScriptTarget.ES5),t.jsx=M(t.jsx,l.default.JsxEmit,l.default.JsxEmit.None),t.allowNonTsExtensions=!1!==t.allowNonTsExtensions,t.skipDefaultLibCheck=!1!==t.skipDefaultLibCheck,t.noResolve=!0,t.allowSyntheticDefaultImports=!1!==t.allowSyntheticDefaultImports,t.moduleResolution=l.default.ModuleResolutionKind.Classic,t}(n)),[2,o]}})})}function E(i,s,a){return b(this,void 0,void 0,function(){var t,r,n,o;return w(this,function(e){switch(e.label){case 0:return!0===(t=i&&i.tsconfig)&&(t="tsconfig.json"),t?[4,a(t,s)]:[3,7];case 1:if(r=e.sent(),!(n=l.default.parseConfigFileTextToJson(t,r)).error)return[3,2];throw function(e,t){S(v(e),t)}([n.error],f),new Error("failed to load tsconfig from "+t);case 2:return n.config.extends?[4,E(i,n.config.extends,a)]:[3,4];case 3:return o=e.sent(),[3,5];case 4:o=void 0,e.label=5;case 5:return[2,c({},o,n.config.compilerOptions)];case 6:return[3,8];case 7:return[2,void 0];case 8:return[2]}})})}function M(e,t,r){if(null==e)return r;for(var n in t)if(n.toLowerCase()===e.toString().toLowerCase())return"string"==typeof t[n]?t[t[n]]:t[n];throw new Error("Unrecognised value ["+e+"]")}function T(e){return a.test(e)}function C(e,t,r){m.debug("transpiling "+e);var n=r.getSourceFile(e);if(!n)throw new Error("file ["+e+"] has not been added");if(!n.output){var o=function(e){var t=l.default.clone(e);t.isolatedModules=!0,void 0===t.sourceMap&&(t.sourceMap=t.inlineSourceMap);void 0===t.sourceMap&&(t.sourceMap=!0);return t.inlineSourceMap=!1,t.declaration=!1,t.noEmitOnError=!1,t.out=void 0,t.outFile=void 0,t.noLib=!0,t.lib=void 0,t.types=[],t.suppressOutputPathCheck=!0,t.noEmit=!1,t}(t),i=l.default.createProgram([e],o,r),s=void 0,a=void 0,u=i.emit(void 0,function(e,t){if(function(e){return d.test(e)}(e)||function(e){return p.test(e)}(e))s=t.slice(0,t.lastIndexOf("//#"));else{if(!function(e){return g.test(e)}(e))throw new Error("unexpected ouput file "+e);a=t}}).diagnostics.concat(i.getOptionsDiagnostics()).concat(i.getSyntacticDiagnostics());n.output={failure:function(e){return e.some(function(e){return e.category===l.default.DiagnosticCategory.Error})}(u),diags:u,js:s,sourceMap:a}}return n.output}function F(r,n){return b(this,void 0,void 0,function(){var t;return w(this,function(e){switch(e.label){case 0:return[4,SystemJS.import(r+"!"+y,n)];case 1:return t=e.sent(),u.debug("fetched "+r),[2,JSON.stringify(t)]}})})}return e("translate",function(n){return b(this,void 0,void 0,function(){var t,r;return w(this,function(e){switch(e.label){case 0:return this,u.debug("systemjs translating "+n.address),T(n.address)?[2,n.source]:[4,x(n.metadata.typescriptOptions,SystemJS.typescriptOptions,n.address,F)];case 1:if(t=e.sent(),h.addFile(n.address,n.source,t.target),function(e){return s.test(e)}(n.address))n.source="";else{if(r=C(n.address,t,h),n.metadata.tserrors=v(r.diags),S(n.metadata.tserrors,u),r.failure)throw new Error("TypeScript transpilation failed");n.source=r.js,function(e){return i.test(e)}(n.address)&&(t.module===l.default.ModuleKind.System?n.metadata.format="register":t.module===l.default.ModuleKind.ES2015?n.metadata.format="esm":t.module===l.default.ModuleKind.CommonJS?n.metadata.format="cjs":t.module===l.default.ModuleKind.AMD&&(n.metadata.format="amd")),r.sourceMap&&(n.metadata.sourceMap=JSON.parse(r.sourceMap))}return[2,n.source]}})})}),e("instantiate",function(e,t){return u.debug("systemjs instantiating "+e.address),T(e.address)?JSON.parse(e.source):t(e)}),{setters:[function(e){l=e}],execute:function(){function e(e){this.options=e,this.options=e||{}}function t(){this._files={}}c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.prototype.log=function(e){console.log("TypeScript","[Info]",e)},e.prototype.error=function(e){console.error("TypeScript","[Error]",e)},e.prototype.warn=function(e){console.warn("TypeScript","[Warning]",e)},e.prototype.debug=function(e){this.options.debug&&console.log("TypeScript",e)},o=new(r=e)({debug:!1}),t.prototype.getDefaultLibFileName=function(e){return this.getDefaultLibFilePaths(e)[0]},t.prototype.getDefaultLibFilePaths=function(e){return e.lib?e.lib.map(function(e){return"typescript/lib/lib."+e+".d.ts"}):["typescript/lib/lib.d.ts"]},t.prototype.useCaseSensitiveFileNames=function(){return!1},t.prototype.getCanonicalFileName=function(e){return l.default.normalizePath(e)},t.prototype.getCurrentDirectory=function(){return""},t.prototype.getNewLine=function(){return"\n"},t.prototype.readFile=function(e){throw new Error("Not implemented")},t.prototype.writeFile=function(e,t,r){throw new Error("Not implemented")},t.prototype.getSourceFile=function(e){return e=this.getCanonicalFileName(e),this._files[e]},t.prototype.getAllFiles=function(){var t=this;return Object.keys(this._files).map(function(e){return t._files[e]})},t.prototype.fileExists=function(e){return!!this.getSourceFile(e)},t.prototype.getDirectories=function(){throw new Error("Not implemented")},t.prototype.addFile=function(e,t,r){e=this.getCanonicalFileName(e);var n=this._files[e];return n?n.text!=t&&(this._files[e]=l.default.createSourceFile(e,t,r),o.debug("updated "+e)):(this._files[e]=l.default.createSourceFile(e,t,r),o.debug("added "+e)),this._files[e]},n=t,f=new r({debug:!1}),i=/\.tsx?$/i,d=/\.js$/i,p=/\.jsx$/i,g=/\.map$/i,s=/\.d\.tsx?$/i,m=new r({debug:!(a=/\.json$/i)}),u=new r({debug:!1}),h=function(){var e="undefined"!=typeof self?self:global;return e.tsHost=e.tsHost||new n,e.tsHost}()}}});